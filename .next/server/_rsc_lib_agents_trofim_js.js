"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_agents_trofim_js";
exports.ids = ["_rsc_lib_agents_trofim_js"];
exports.modules = {

/***/ "(rsc)/./lib/agents/trofim.js":
/*!******************************!*\
  !*** ./lib/agents/trofim.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { wrapAgentOutput, unwrapLegacy } = __webpack_require__(/*! ../../utils/agentEnvelope.js */ \"(rsc)/./utils/agentEnvelope.js\");\nconst { wordLimitCompress } = __webpack_require__(/*! ../../utils/wordLimitCompress.js */ \"(rsc)/./utils/wordLimitCompress.js\");\nconst { compressPreserveShape } = __webpack_require__(/*! ../../utils/compressPreserveShape.js */ \"(rsc)/./utils/compressPreserveShape.js\");\nconst { applyBudget, applyBudgetMeta } = __webpack_require__(/*! ../../utils/budget.js */ \"(rsc)/./utils/budget.js\");\nconst inputDefaults = {\n    mode: \"deep\",\n    platforms: [\n        \"instagram_reels\",\n        \"tiktok\",\n        \"youtube_shorts\",\n        \"rutube\",\n        \"vk_clips\"\n    ],\n    platform_priority: [],\n    niche: \"\",\n    goal: \"views\",\n    audience: {\n        geo: \"RU\",\n        persona: \"\",\n        temperature: \"cold\"\n    },\n    references: {\n        transcripts: [],\n        themes: [],\n        creators: [],\n        formats_liked: []\n    },\n    constraints: {\n        max_formats: 20,\n        max_words: 450,\n        no_fluff: true\n    },\n    language: \"ru\"\n};\nconst inputSchema = {\n    type: \"object\",\n    additionalProperties: false,\n    properties: {\n        mode: {\n            type: \"string\",\n            enum: [\n                \"quick\",\n                \"deep\"\n            ],\n            default: \"deep\"\n        },\n        platforms: {\n            type: \"array\",\n            items: {\n                type: \"string\",\n                enum: [\n                    \"instagram_reels\",\n                    \"tiktok\",\n                    \"youtube_shorts\",\n                    \"rutube\",\n                    \"vk_clips\",\n                    \"mixed\"\n                ]\n            },\n            default: [\n                \"instagram_reels\",\n                \"tiktok\",\n                \"youtube_shorts\",\n                \"rutube\",\n                \"vk_clips\"\n            ]\n        },\n        platform_priority: {\n            type: \"array\",\n            items: {\n                type: \"string\",\n                enum: [\n                    \"instagram_reels\",\n                    \"tiktok\",\n                    \"youtube_shorts\",\n                    \"rutube\",\n                    \"vk_clips\",\n                    \"mixed\"\n                ]\n            }\n        },\n        niche: {\n            type: \"string\"\n        },\n        goal: {\n            type: \"string\",\n            enum: [\n                \"leads\",\n                \"views\",\n                \"followers\"\n            ],\n            default: \"views\"\n        },\n        audience: {\n            type: \"object\",\n            properties: {\n                geo: {\n                    type: \"string\",\n                    enum: [\n                        \"RU\"\n                    ],\n                    default: \"RU\"\n                },\n                persona: {\n                    type: \"string\"\n                },\n                temperature: {\n                    type: \"string\",\n                    enum: [\n                        \"cold\",\n                        \"warm\"\n                    ],\n                    default: \"cold\"\n                }\n            }\n        },\n        references: {\n            type: \"object\",\n            properties: {\n                transcripts: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                themes: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                creators: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                formats_liked: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                }\n            }\n        },\n        constraints: {\n            type: \"object\",\n            properties: {\n                max_formats: {\n                    type: \"number\",\n                    default: 20\n                },\n                max_words: {\n                    type: \"number\",\n                    default: 450\n                },\n                no_fluff: {\n                    type: \"boolean\",\n                    default: true\n                }\n            }\n        },\n        language: {\n            type: \"string\",\n            enum: [\n                \"ru\"\n            ],\n            default: \"ru\"\n        }\n    },\n    required: [\n        \"mode\"\n    ],\n    default: inputDefaults\n};\nconst outputSchema = {\n    type: \"object\",\n    required: [\n        \"formats\",\n        \"recommendations\",\n        \"meta\"\n    ],\n    additionalProperties: false,\n    properties: {\n        formats: {\n            type: \"array\"\n        },\n        recommendations: {\n            type: \"object\"\n        },\n        meta: {\n            type: \"object\"\n        }\n    }\n};\nconst systemPrompt = `Ты — ИИ-агент agentOS: \"Трофим — Анализ TikTok и Shorts\".\nРоль: анализировать форматы коротких видео и предлагать аналоги под РФ без веб-доступа.`;\nconst trofimAgent = {\n    id: \"trofim-shorts-analogs-ru\",\n    displayName: \"Трофим — Анализ TikTok и Shorts\",\n    description: \"Форматы коротких видео и аналоги под РФ (Shorts/RUTUBE/VK) с конкретными сценариями.\",\n    inputSchema,\n    outputSchema,\n    systemPrompt\n};\nconst wrapOutput = (legacyOutput, input)=>wrapAgentOutput({\n        agentId: trofimAgent.id,\n        inputEcho: input,\n        mode: input.mode,\n        legacyOutput\n    });\nconst toStringSafe = (value)=>typeof value === \"string\" ? value.trim() : \"\";\nconst toStringArray = (value)=>Array.isArray(value) ? value.filter((item)=>typeof item === \"string\" && item.trim()).map((item)=>item.trim()) : [];\nconst PLATFORM_LIST = [\n    \"instagram_reels\",\n    \"tiktok\",\n    \"youtube_shorts\",\n    \"rutube\",\n    \"vk_clips\"\n];\nconst normalizePlatforms = (value)=>{\n    const allowed = [\n        ...PLATFORM_LIST,\n        \"mixed\"\n    ];\n    const list = Array.isArray(value) ? value.filter((item)=>allowed.includes(item)) : [];\n    const deduped = Array.from(new Set(list));\n    if (deduped.length === 0 || deduped.includes(\"mixed\")) {\n        return [\n            ...PLATFORM_LIST\n        ];\n    }\n    return deduped.filter((item)=>item !== \"mixed\");\n};\nconst normalizePlatformPriority = (value, platforms)=>{\n    const allowed = [\n        ...PLATFORM_LIST,\n        \"mixed\"\n    ];\n    const list = Array.isArray(value) ? value.filter((item)=>allowed.includes(item)) : [];\n    const deduped = Array.from(new Set(list));\n    if (deduped.length === 0) return [];\n    const resolved = deduped.includes(\"mixed\") ? [\n        ...PLATFORM_LIST\n    ] : deduped;\n    return resolved.filter((item)=>platforms.includes(item));\n};\nconst normalizeInput = (input)=>{\n    const safe = typeof input === \"object\" && input !== null ? input : {};\n    const budget = safe.budget && typeof safe.budget === \"object\" ? safe.budget : null;\n    const mode = safe.mode === \"quick\" ? \"quick\" : \"deep\";\n    const goal = [\n        \"leads\",\n        \"views\",\n        \"followers\"\n    ].includes(safe.goal) ? safe.goal : \"views\";\n    const audience = safe.audience && typeof safe.audience === \"object\" ? safe.audience : {};\n    const references = safe.references && typeof safe.references === \"object\" ? safe.references : {};\n    const constraints = safe.constraints && typeof safe.constraints === \"object\" ? safe.constraints : {};\n    const platforms = normalizePlatforms(safe.platforms);\n    const normalized = {\n        mode,\n        platforms,\n        platform_priority: normalizePlatformPriority(safe.platform_priority, platforms),\n        niche: toStringSafe(safe.niche),\n        goal,\n        audience: {\n            geo: audience.geo === \"RU\" ? \"RU\" : \"RU\",\n            persona: toStringSafe(audience.persona),\n            temperature: audience.temperature === \"warm\" ? \"warm\" : \"cold\"\n        },\n        references: {\n            transcripts: toStringArray(references.transcripts),\n            themes: toStringArray(references.themes),\n            creators: toStringArray(references.creators),\n            formats_liked: toStringArray(references.formats_liked)\n        },\n        constraints: {\n            max_formats: typeof constraints.max_formats === \"number\" && Number.isFinite(constraints.max_formats) ? Math.max(10, Math.round(constraints.max_formats)) : 20,\n            max_words: typeof constraints.max_words === \"number\" && Number.isFinite(constraints.max_words) ? Math.max(200, Math.round(constraints.max_words)) : 450,\n            no_fluff: constraints.no_fluff !== false\n        },\n        language: safe.language === \"ru\" ? \"ru\" : \"ru\"\n    };\n    const budgetResult = applyBudget(normalized, budget, {\n        maxItemsPaths: [\n            [\n                \"constraints\",\n                \"max_formats\"\n            ]\n        ],\n        maxWordsPath: [\n            \"constraints\",\n            \"max_words\"\n        ]\n    });\n    normalized.budget = budget;\n    normalized.budget_applied = budgetResult.budget_applied;\n    normalized.budget_warnings = budgetResult.warnings;\n    return normalized;\n};\nconst countWords = (text)=>{\n    if (!text) return 0;\n    const matches = text.match(/[A-Za-zА-Яа-я0-9_]+/g);\n    return matches ? matches.length : 0;\n};\nconst countWordsInObject = (value)=>{\n    if (typeof value === \"string\") return countWords(value);\n    if (Array.isArray(value)) return value.reduce((acc, item)=>acc + countWordsInObject(item), 0);\n    if (value && typeof value === \"object\") {\n        return Object.values(value).reduce((acc, item)=>acc + countWordsInObject(item), 0);\n    }\n    return 0;\n};\nconst countStringsInObject = (value)=>{\n    if (typeof value === \"string\") return 1;\n    if (Array.isArray(value)) return value.reduce((acc, item)=>acc + countStringsInObject(item), 0);\n    if (value && typeof value === \"object\") {\n        return Object.values(value).reduce((acc, item)=>acc + countStringsInObject(item), 0);\n    }\n    return 0;\n};\nconst trimWords = (text, maxWords)=>{\n    if (!text) return \"\";\n    const words = text.trim().split(/\\s+/);\n    if (words.length <= maxWords) return text.trim();\n    return `${words.slice(0, maxWords).join(\" \")}...`;\n};\nconst mapStrings = (value, fn)=>{\n    if (typeof value === \"string\") return fn(value);\n    if (Array.isArray(value)) return value.map((item)=>mapStrings(item, fn));\n    if (value && typeof value === \"object\") {\n        return Object.fromEntries(Object.entries(value).map(([key, val])=>[\n                key,\n                mapStrings(val, fn)\n            ]));\n    }\n    return value;\n};\nconst applyWordLimit = (output, maxWords)=>wordLimitCompress(output, maxWords);\nconst hasLinks = (arr)=>arr.some((item)=>/https?:\\/\\//i.test(item));\nconst buildSeedPhrases = (references)=>{\n    const seeds = [];\n    references.themes.forEach((theme)=>{\n        if (theme) seeds.push(theme);\n    });\n    references.transcripts.slice(0, 3).forEach((text)=>{\n        const first = text.split(/[.!?]/)[0] || text;\n        const snippet = trimWords(first, 6);\n        if (snippet) seeds.push(snippet);\n    });\n    references.formats_liked.forEach((text)=>{\n        if (text) seeds.push(text);\n    });\n    return Array.from(new Set(seeds.map((item)=>item.trim()).filter(Boolean))).slice(0, 6);\n};\nconst PLATFORM_LABELS = {\n    instagram_reels: \"Instagram Reels\",\n    tiktok: \"TikTok\",\n    youtube_shorts: \"YouTube Shorts\",\n    rutube: \"RUTUBE\",\n    vk_clips: \"VK Clips\"\n};\nconst PLATFORM_TWEAKS = {\n    instagram_reels: {\n        pacing_note: \"очень быстрый темп\",\n        caption_style: \"крупные быстрые субтитры\",\n        cta_style: \"короткий CTA в конце\",\n        typical_length_sec: \"15–30\",\n        adaptation: \"сильный визуал и субтитры без лишних объяснений\"\n    },\n    tiktok: {\n        pacing_note: \"быстрый конфликт в начале\",\n        caption_style: \"живой голос + короткие подписи\",\n        cta_style: \"CTA через коммент\",\n        typical_length_sec: \"12–25\",\n        adaptation: \"личный голос, быстрый конфликт, без инфоцыганщины\"\n    },\n    youtube_shorts: {\n        pacing_note: \"ровный темп\",\n        caption_style: \"тезисы на экране\",\n        cta_style: \"подписка/сохранить\",\n        typical_length_sec: \"20–35\",\n        adaptation: \"обещание → аргументы → proof\"\n    },\n    rutube: {\n        pacing_note: \"чуть медленнее\",\n        caption_style: \"простые подписи\",\n        cta_style: \"спокойный CTA\",\n        typical_length_sec: \"25–45\",\n        adaptation: \"доверие, простота, понятность\"\n    },\n    vk_clips: {\n        pacing_note: \"спокойный темп\",\n        caption_style: \"локально и просто\",\n        cta_style: \"коммент/сохранить\",\n        typical_length_sec: \"15–30\",\n        adaptation: \"меньше пафоса, больше конкретики\"\n    }\n};\nconst buildPlatformTweaks = (platforms)=>Object.fromEntries(platforms.map((platform)=>[\n            platform,\n            {\n                pacing_note: PLATFORM_TWEAKS[platform]?.pacing_note || \"ровный темп\",\n                caption_style: PLATFORM_TWEAKS[platform]?.caption_style || \"простые подписи\",\n                cta_style: PLATFORM_TWEAKS[platform]?.cta_style || \"один CTA\",\n                typical_length_sec: PLATFORM_TWEAKS[platform]?.typical_length_sec || \"15–30\"\n            }\n        ]));\nconst baseTemplates = [\n    {\n        name: \"Разбор 1 ошибки\",\n        trigger: \"страх потери внимания\",\n        hook: \"Одна ошибка в начале — минус результат.\",\n        conflict: \"Ошибочный старт убивает удержание.\",\n        valueBeats: [\n            \"Назови ошибку.\",\n            \"Покажи, где она в ролике.\",\n            \"Дай короткую правку.\"\n        ],\n        proofBeats: [\n            \"Скрин удержания/пример кадра.\"\n        ],\n        cta: \"Коммент \\\"ошибка\\\" — дам чеклист.\"\n    },\n    {\n        name: \"3 шага за 30 сек\",\n        trigger: \"экономия времени\",\n        hook: \"3 шага без воды.\",\n        conflict: \"Слишком много лишнего — зритель уходит.\",\n        valueBeats: [\n            \"Шаг 1 — хук.\",\n            \"Шаг 2 — конкретика.\",\n            \"Шаг 3 — доказательство.\"\n        ],\n        proofBeats: [\n            \"Мини-кейс в 1 фразе.\"\n        ],\n        cta: \"Сохрани и повтори.\"\n    },\n    {\n        name: \"До/после\",\n        trigger: \"контраст\",\n        hook: \"До/после — 15 секунд.\",\n        conflict: \"Без сравнения сложно верить.\",\n        valueBeats: [\n            \"Покажи до.\",\n            \"Покажи после.\",\n            \"Назови разницу цифрой.\"\n        ],\n        proofBeats: [\n            \"Скрин/кадр с результатом.\"\n        ],\n        cta: \"Коммент \\\"до\\\" — пришлю шаблон.\"\n    },\n    {\n        name: \"Миф/факт\",\n        trigger: \"скепсис к обещаниям\",\n        hook: \"Миф: так работает. Факт: нет.\",\n        conflict: \"Популярный совет вредит.\",\n        valueBeats: [\n            \"Озвучь миф.\",\n            \"Разбей фактами.\",\n            \"Дай рабочую замену.\"\n        ],\n        proofBeats: [\n            \"Фраза клиента/пример.\"\n        ],\n        cta: \"Коммент \\\"факт\\\" — пришлю разбор.\"\n    },\n    {\n        name: \"Разбор кейса в 3 тезиса\",\n        trigger: \"социальное доказательство\",\n        hook: \"Кейс за 20 сек.\",\n        conflict: \"Без кейса нет доверия.\",\n        valueBeats: [\n            \"Контекст.\",\n            \"Действие.\",\n            \"Результат.\"\n        ],\n        proofBeats: [\n            \"Кадр результата.\"\n        ],\n        cta: \"В личку \\\"кейс\\\" — детали.\"\n    },\n    {\n        name: \"Ответ на комментарий\",\n        trigger: \"свой-чужой\",\n        hook: \"Вопрос из комментов: ...\",\n        conflict: \"Сомнения и недоверие аудитории.\",\n        valueBeats: [\n            \"Цитата комментария.\",\n            \"Короткий ответ.\",\n            \"Пример.\"\n        ],\n        proofBeats: [\n            \"Скрин коммента/пример.\"\n        ],\n        cta: \"Пиши вопрос в комменты.\"\n    },\n    {\n        name: \"Анти-совет\",\n        trigger: \"страх ошибки\",\n        hook: \"Не делай так.\",\n        conflict: \"Типичный совет ломает результат.\",\n        valueBeats: [\n            \"Покажи анти-совет.\",\n            \"Почему он вреден.\",\n            \"Как правильно.\"\n        ],\n        proofBeats: [\n            \"Короткий пример.\"\n        ],\n        cta: \"Коммент \\\"анти\\\" — список.\"\n    },\n    {\n        name: \"Сравнение двух подходов\",\n        trigger: \"выбор без риска\",\n        hook: \"Сравню 2 варианта.\",\n        conflict: \"Непонятно, что выбрать.\",\n        valueBeats: [\n            \"Подход А — минусы.\",\n            \"Подход Б — плюсы.\",\n            \"Кому что подходит.\"\n        ],\n        proofBeats: [\n            \"Пример результата.\"\n        ],\n        cta: \"Коммент \\\"А\\\" или \\\"Б\\\".\"\n    },\n    {\n        name: \"Разбор экрана\",\n        trigger: \"визуальная конкретика\",\n        hook: \"Один экран — вся ошибка.\",\n        conflict: \"Экран перегружен, нет фокуса.\",\n        valueBeats: [\n            \"Покажи экран.\",\n            \"Выдели лишнее.\",\n            \"Скажи как упростить.\"\n        ],\n        proofBeats: [\n            \"Скрин до/после.\"\n        ],\n        cta: \"Скинь экран — разберу.\"\n    },\n    {\n        name: \"Провал и вывод\",\n        trigger: \"честность\",\n        hook: \"Я облажался, и вот где.\",\n        conflict: \"Ошибки стоят дорого.\",\n        valueBeats: [\n            \"Что сделал.\",\n            \"Почему не сработало.\",\n            \"Как исправил.\"\n        ],\n        proofBeats: [\n            \"Факт/цифра.\"\n        ],\n        cta: \"Сохрани, чтобы не повторять.\"\n    },\n    {\n        name: \"Мини-тест\",\n        trigger: \"самопроверка\",\n        hook: \"Тест на 10 секунд.\",\n        conflict: \"Непонятно, насколько ролик цепляет.\",\n        valueBeats: [\n            \"Проверка 1.\",\n            \"Проверка 2.\",\n            \"Вердикт.\"\n        ],\n        proofBeats: [\n            \"Пример кадра.\"\n        ],\n        cta: \"Коммент \\\"тест\\\" — чеклист.\"\n    },\n    {\n        name: \"Формула хука\",\n        trigger: \"практичность\",\n        hook: \"Формула хука = 1 строка.\",\n        conflict: \"Без формулы хук размазан.\",\n        valueBeats: [\n            \"Формула.\",\n            \"Пример.\",\n            \"Как применить.\"\n        ],\n        proofBeats: [\n            \"Мини-демо.\"\n        ],\n        cta: \"В личку \\\"формула\\\".\"\n    },\n    {\n        name: \"Чеклист перед публикацией\",\n        trigger: \"контроль качества\",\n        hook: \"Проверь 3 пункта перед постом.\",\n        conflict: \"Публикуют без проверки.\",\n        valueBeats: [\n            \"Пункт 1.\",\n            \"Пункт 2.\",\n            \"Пункт 3.\"\n        ],\n        proofBeats: [\n            \"Пример ошибки.\"\n        ],\n        cta: \"Сохрани список.\"\n    },\n    {\n        name: \"Разбор за кадром\",\n        trigger: \"любопытство\",\n        hook: \"За кадром — что не видно.\",\n        conflict: \"Скрытая часть решает результат.\",\n        valueBeats: [\n            \"Что скрыто.\",\n            \"Почему важно.\",\n            \"Как показать.\"\n        ],\n        proofBeats: [\n            \"Скрин бэкстейджа.\"\n        ],\n        cta: \"Коммент \\\"бэк\\\".\"\n    }\n];\nconst pickPlatformsForIndex = (platforms, index)=>{\n    if (!platforms.length) return [\n        \"youtube_shorts\"\n    ];\n    const pick = platforms[index % platforms.length];\n    return [\n        pick\n    ];\n};\nconst buildAnalogTemplate = (seed, template)=>{\n    return {\n        ...template,\n        name: `${template.name}: ${trimWords(seed, 3)}`,\n        hook: `${trimWords(seed, 4)} — сделай иначе.`,\n        conflict: `Тема \"${trimWords(seed, 4)}\" быстро надоедает без нового угла.`\n    };\n};\nconst buildFormatItem = (template, input, index)=>{\n    const nicheLabel = input.niche ? trimWords(input.niche, 3) : \"нише\";\n    const platforms = pickPlatformsForIndex(input.platforms, index);\n    const primaryPlatform = platforms[0] || input.platforms[0] || \"youtube_shorts\";\n    const platformLabel = PLATFORM_LABELS[primaryPlatform] || primaryPlatform;\n    const goal = input.goal;\n    const cta = goal === \"leads\" ? template.cta.replace(\"Сохрани\", \"В личку\") : goal === \"followers\" ? \"Подпишись за серию разборов.\" : template.cta;\n    const adaptation = [\n        `Адаптация под ${platformLabel}: ${PLATFORM_TWEAKS[primaryPlatform]?.adaptation || \"коротко и по делу\"}.`,\n        `Триггер: ${template.trigger}.`,\n        `Подставь нишу: ${nicheLabel}.`\n    ];\n    const whyWorks = [\n        \"Прямой заход без вступлений.\",\n        \"Короткие фразы и примеры.\"\n    ];\n    const effect = goal === \"leads\" ? {\n        leads_estimate: \"Потенциал лидов при чётком CTA.\",\n        note: \"estimate\"\n    } : goal === \"followers\" ? {\n        views_estimate: \"Рост подписок при серийном формате.\",\n        note: \"estimate\"\n    } : {\n        views_estimate: \"Рост досмотров при коротком хуке.\",\n        note: \"estimate\"\n    };\n    return {\n        format_name: template.name,\n        best_platforms: platforms,\n        hook_pattern: template.hook,\n        conflict: template.conflict,\n        script_structure: {\n            hook_0_3s: template.hook,\n            value_3_15s: template.valueBeats.slice(0, 2),\n            proof_15_30s: template.proofBeats.slice(0, 1),\n            cta\n        },\n        why_it_works_ru: whyWorks.slice(0, 2),\n        adaptation_notes: adaptation.slice(0, 3),\n        platform_tweaks: buildPlatformTweaks(platforms),\n        expected_effect: effect,\n        difficulty: index % 3 === 0 ? \"easy\" : index % 3 === 1 ? \"medium\" : \"hard\",\n        reuse_potential: index % 2 === 0 ? \"high\" : \"mid\",\n        do_and_dont: {\n            do: [\n                \"Ставь конфликт в 1-й фразе.\",\n                \"Покажи 1 пример.\"\n            ],\n            dont: [\n                \"Не начинай с приветствия.\",\n                \"Не растягивай фразы.\"\n            ]\n        }\n    };\n};\nconst buildFormats = (input)=>{\n    const maxFormatsBase = Math.min(20, Math.max(10, input.constraints.max_formats));\n    const maxFormats = input.constraints.max_words < 400 ? 10 : input.constraints.max_words < 550 ? Math.min(12, maxFormatsBase) : maxFormatsBase;\n    const seeds = buildSeedPhrases(input.references);\n    const formats = [];\n    if (seeds.length > 0) {\n        seeds.forEach((seed, idx)=>{\n            const template = baseTemplates[idx % baseTemplates.length];\n            formats.push(buildFormatItem(buildAnalogTemplate(seed, template), input, idx));\n        });\n    }\n    let index = formats.length;\n    while(formats.length < maxFormats){\n        const template = baseTemplates[index % baseTemplates.length];\n        formats.push(buildFormatItem(template, input, index));\n        index += 1;\n    }\n    return formats.slice(0, maxFormats);\n};\nconst buildHooksBank = (goal)=>{\n    const base = [\n        \"Стоп. 1 ошибка в начале.\",\n        \"Сразу к делу.\",\n        \"Вот где теряются просмотры.\",\n        \"Если делаешь так — мимо.\",\n        \"Короткий разбор за 15 сек.\",\n        \"Покажу на примере.\",\n        \"Не повторяй это.\",\n        \"Вот почему не работает.\",\n        \"3 слова, которые убивают хук.\",\n        \"Два варианта — один рабочий.\",\n        \"Тест на 10 секунд.\",\n        \"Где ролик умирает.\",\n        \"Сравнение до/после.\",\n        \"Разбор коммента — ответ.\",\n        \"Миф, который мешает.\",\n        \"1 формула, которая спасает.\",\n        \"Кейс за 20 секунд.\",\n        \"Покажу экран.\",\n        \"Если хочешь результат — смотри.\",\n        \"Вот что исправить прямо сейчас.\",\n        \"Где теряется доверие.\",\n        \"Сразу без вступлений.\",\n        \"Ошибка, которую делают все.\",\n        \"Сэкономлю 5 минут.\",\n        \"Сколько секунд решают всё?\"\n    ];\n    if (goal === \"followers\") base.push(\"Подпишись за серию разборов.\");\n    return base;\n};\nconst buildPlatformNotes = ()=>({\n        instagram_reels: [\n            \"Фокус на визуальной динамике и крупных планах.\",\n            \"Текст на экране должен читаться без звука за 1 взгляд.\",\n            \"Переходы лучше резкие, чем длинные склейки.\",\n            \"Трендовый аудио-хук усиливает досмотр.\",\n            \"CTA короткий и в конце, без перегруза.\"\n        ],\n        tiktok: [\n            \"Первые слова должны звучать как спорное мнение.\",\n            \"Личный голос автора важнее студийной картинки.\",\n            \"Коммент-диалог работает лучше прямой продажи.\",\n            \"Резкая смена планов держит удержание.\",\n            \"Фразы должны быть разговорными, не рекламными.\"\n        ],\n        youtube_shorts: [\n            \"Сначала тезис-обещание, затем 2–3 аргумента.\",\n            \"Логика и структура важнее трендового монтажа.\",\n            \"Мини-объяснение допустимо, если есть proof.\",\n            \"Переход к CTA через вывод, а не через нажим.\",\n            \"В названии и тексте лучше оставить ключевой запрос.\"\n        ],\n        rutube: [\n            \"Темп средний: аудитория терпит чуть более длинный заход.\",\n            \"Простые и спокойные формулировки повышают доверие.\",\n            \"Полезны практичные примеры из локального контекста.\",\n            \"Меньше визуального шума, больше ясной подачи.\",\n            \"CTA аккуратный: «если полезно, продолжим».\"\n        ],\n        vk_clips: [\n            \"Лучше заходят прикладные локальные кейсы.\",\n            \"Тон может быть дружелюбно-деловым.\",\n            \"Избыток англицизмов обычно снижает отклик.\",\n            \"Упор на полезность и быстрый вывод.\",\n            \"CTA через комментарий или личку без агрессии.\"\n        ]\n    });\nconst buildHooksByPlatform = (limit)=>{\n    const count = typeof limit === \"number\" && Number.isFinite(limit) ? Math.min(12, Math.max(10, Math.round(limit))) : 10;\n    const hooks = {\n        instagram_reels: [\n            \"Стоп. 1 ошибка в начале.\",\n            \"Сразу к делу.\",\n            \"Где ролик умирает.\",\n            \"Покажу на примере.\",\n            \"До/после за 10 секунд.\",\n            \"Не повторяй это.\",\n            \"Вот что исправить.\",\n            \"Короткий разбор.\",\n            \"Смотри до конца.\",\n            \"Сделай так.\",\n            \"Ошибка в первом кадре.\",\n            \"Сильный хук за 2 секунды.\"\n        ],\n        tiktok: [\n            \"Сразу конфликт: вот ошибка.\",\n            \"Я делал так — и зря.\",\n            \"Почему это не работает.\",\n            \"Покажу реальный кейс.\",\n            \"Не делай так.\",\n            \"Коротко и честно.\",\n            \"Тест на 10 секунд.\",\n            \"Вот где все ошибаются.\",\n            \"Вот что спасает.\",\n            \"Смотри сюда.\",\n            \"Конфликт прямо в первой фразе.\",\n            \"Не повторяй это в TikTok.\"\n        ],\n        youtube_shorts: [\n            \"Обещание в 1 фразе.\",\n            \"3 тезиса за 20 сек.\",\n            \"Покажу аргументы и proof.\",\n            \"Где теряются просмотры.\",\n            \"Сравнение А/Б.\",\n            \"Кейс в 3 шага.\",\n            \"Формула хука.\",\n            \"Короткий чеклист.\",\n            \"Разбор ошибки.\",\n            \"Без воды.\",\n            \"3 тезиса и один proof.\",\n            \"Где теряется досмотр.\"\n        ],\n        rutube: [\n            \"Спокойно разберём.\",\n            \"Покажу на примере.\",\n            \"Что важно в начале.\",\n            \"Без сложных слов.\",\n            \"Короткий разбор.\",\n            \"Где теряется доверие.\",\n            \"Простой чеклист.\",\n            \"Что исправить.\",\n            \"Разберём шаги.\",\n            \"По делу.\",\n            \"Один пример вместо теории.\",\n            \"Проверка перед публикацией.\"\n        ],\n        vk_clips: [\n            \"Коротко и по делу.\",\n            \"Вот где ошибка.\",\n            \"Сразу к сути.\",\n            \"Покажу пример.\",\n            \"Разбор за 15 сек.\",\n            \"Не делай так.\",\n            \"Простой чеклист.\",\n            \"Вот как лучше.\",\n            \"Вариант А/Б.\",\n            \"Смотри.\",\n            \"Локальный кейс без пафоса.\",\n            \"Где теряются заявки.\"\n        ]\n    };\n    return Object.fromEntries(Object.entries(hooks).map(([key, items])=>[\n            key,\n            items.slice(0, count)\n        ]));\n};\nconst buildCtaBank = (goal)=>{\n    if (goal === \"leads\") {\n        return [\n            \"Коммент \\\"шаблон\\\"\",\n            \"В личку \\\"разбор\\\"\",\n            \"Коммент \\\"хочу\\\"\",\n            \"Напиши \\\"чеклист\\\"\",\n            \"Скинь пример в личку\",\n            \"Коммент \\\"пример\\\"\",\n            \"В личку \\\"аудит\\\"\",\n            \"Коммент \\\"формула\\\"\",\n            \"Скинь скрин — разберу\",\n            \"Коммент \\\"ошибка\\\"\",\n            \"Коммент \\\"кейс\\\"\",\n            \"В личку \\\"шаги\\\"\",\n            \"Коммент \\\"проверка\\\"\",\n            \"Скинь нишу — подберу формат\",\n            \"Коммент \\\"тест\\\"\",\n            \"В личку \\\"структура\\\"\",\n            \"Коммент \\\"хочу формат\\\"\"\n        ];\n    }\n    return [\n        \"Сохрани\",\n        \"Подпишись\",\n        \"Коммент \\\"полезно\\\"\",\n        \"Сохрани и повтори\",\n        \"Подпишись за серию\",\n        \"Коммент \\\"шаблон\\\"\",\n        \"Сохрани на потом\",\n        \"Подпишись, если в теме\",\n        \"Коммент \\\"пример\\\"\",\n        \"Сохранить чеклист\",\n        \"Коммент \\\"да\\\"\",\n        \"Подпишись и жми колокол\",\n        \"Коммент \\\"хочу продолжение\\\"\",\n        \"Сохрани и отправь другу\",\n        \"Коммент \\\"полезно?\\\"\",\n        \"Подпишись на разборы\",\n        \"Коммент \\\"разбор\\\"\"\n    ];\n};\nconst buildPitfalls = ()=>[\n        \"Слишком длинное вступление\",\n        \"Обещания без доказательств\",\n        \"3–4 CTA в одном ролике\",\n        \"Слишком общие формулировки\",\n        \"Отсутствие конкретики/цифр\",\n        \"Слабый хук без конфликта\",\n        \"Медленный темп\",\n        \"Перегруженный экран\",\n        \"Нет примера\",\n        \"Слишком сложные термины\",\n        \"Нет ориентира по цели\",\n        \"Копирование чужого текста\"\n    ];\nconst prioritizeFormats = (formats, priority)=>{\n    if (!Array.isArray(priority) || priority.length === 0) return formats;\n    const indexOfPlatform = (format)=>{\n        const list = Array.isArray(format.best_platforms) ? format.best_platforms : [];\n        let best = Infinity;\n        list.forEach((platform)=>{\n            const idx = priority.indexOf(platform);\n            if (idx !== -1 && idx < best) best = idx;\n        });\n        return best;\n    };\n    return formats.map((item, idx)=>({\n            item,\n            idx,\n            prio: indexOfPlatform(item)\n        })).sort((a, b)=>{\n        if (a.prio === b.prio) return a.idx - b.idx;\n        if (a.prio === Infinity) return 1;\n        if (b.prio === Infinity) return -1;\n        return a.prio - b.prio;\n    }).map((entry)=>entry.item);\n};\nconst resolveRecommendationSizes = (maxWords)=>{\n    if (maxWords < 420) {\n        return {\n            hooksBank: 12,\n            hooksByPlatform: 10,\n            ctaBank: 10,\n            platformNotes: 3\n        };\n    }\n    if (maxWords < 600) {\n        return {\n            hooksBank: 20,\n            hooksByPlatform: 10,\n            ctaBank: 12,\n            platformNotes: 4\n        };\n    }\n    return {\n        hooksBank: 30,\n        hooksByPlatform: 12,\n        ctaBank: 15,\n        platformNotes: 5\n    };\n};\nconst buildFormatRisksByPlatform = ()=>({\n        instagram_reels: [\n            \"Слишком длинный первый кадр снижает удержание.\",\n            \"Перегруженный текст на экране плохо читается в ленте.\"\n        ],\n        tiktok: [\n            \"Слишком «рекламный» тон режет органику.\",\n            \"Нет конфликта в начале — быстрый скролл мимо.\"\n        ],\n        youtube_shorts: [\n            \"Слабая логика аргументов снижает досмотр.\",\n            \"Отсутствие proof в середине убивает доверие.\"\n        ],\n        rutube: [\n            \"Слишком быстрый монтаж может выглядеть шумно.\",\n            \"Сложные термины без расшифровки снижают вовлечение.\"\n        ],\n        vk_clips: [\n            \"Пафосные формулировки и клише снижают отклик.\",\n            \"Без локальной конкретики ролик воспринимается как шаблон.\"\n        ]\n    });\nconst buildTop5WithPriority = (prioritizedFormats, platformPriority)=>{\n    const list = Array.isArray(prioritizedFormats) ? prioritizedFormats : [];\n    const priority = Array.isArray(platformPriority) ? platformPriority : [];\n    if (!priority.length) {\n        return list.slice(0, 5).map((item)=>item.format_name);\n    }\n    const priorityFormats = list.filter((item)=>Array.isArray(item.best_platforms) && item.best_platforms.some((platform)=>priority.includes(platform)));\n    const nonPriorityFormats = list.filter((item)=>!priorityFormats.includes(item));\n    const selected = [];\n    priorityFormats.slice(0, 3).forEach((item)=>selected.push(item));\n    const pool = [\n        ...priorityFormats.slice(3),\n        ...nonPriorityFormats\n    ];\n    for (const item of pool){\n        if (selected.length >= 5) break;\n        selected.push(item);\n    }\n    while(selected.length < 5 && list[selected.length]){\n        selected.push(list[selected.length]);\n    }\n    return selected.slice(0, 5).map((item)=>item.format_name);\n};\nconst buildRecommendations = (formats, input, sizeOverride)=>{\n    const prioritized = prioritizeFormats(formats, input.platform_priority);\n    const top = buildTop5WithPriority(prioritized, input.platform_priority);\n    const week = prioritized.slice(0, 7).map((item, idx)=>{\n        const platformLabel = Array.isArray(item.best_platforms) && item.best_platforms.length ? item.best_platforms.join(\", \") : \"platform\";\n        return {\n            day: `D${idx + 1}`,\n            format_name: item.format_name,\n            platform: platformLabel\n        };\n    });\n    const sizes = sizeOverride ?? resolveRecommendationSizes(input.constraints.max_words);\n    const platformNotes = buildPlatformNotes();\n    const limitedPlatformNotes = Object.fromEntries(Object.entries(platformNotes).map(([key, items])=>[\n            key,\n            items.slice(0, sizes.platformNotes)\n        ]));\n    return {\n        top_5_to_start: top,\n        content_mix_week: week,\n        hooks_bank: buildHooksBank(input.goal).slice(0, sizes.hooksBank),\n        hooks_by_platform: buildHooksByPlatform(sizes.hooksByPlatform),\n        format_risks_by_platform: buildFormatRisksByPlatform(),\n        cta_bank: buildCtaBank(input.goal).slice(0, sizes.ctaBank),\n        pitfalls_ru: buildPitfalls().slice(0, 8),\n        platform_notes: limitedPlatformNotes\n    };\n};\nconst buildMeta = (input, withinMaxWords, formatsCountOk, needsReview, limitations)=>{\n    const refs = input.references;\n    const inputQuality = refs.transcripts.length ? \"high\" : refs.themes.length || refs.formats_liked.length || refs.creators.length ? \"medium\" : input.niche ? \"medium\" : \"low\";\n    const assumptions = [\n        \"Длина ролика до 30 сек.\",\n        \"RU аудитория.\",\n        `Платформы: ${input.platforms.join(\", \")}.`\n    ];\n    return {\n        generated_at: new Date().toISOString(),\n        input_quality: inputQuality,\n        needsReview,\n        limitations,\n        assumptions,\n        quality_checks: {\n            within_max_words: withinMaxWords,\n            no_fluff: input.constraints.no_fluff !== false,\n            formats_count_ok: formatsCountOk,\n            platforms_supported_ok: input.platforms.every((item)=>PLATFORM_LIST.includes(item)) && input.platform_priority.every((item)=>PLATFORM_LIST.includes(item))\n        }\n    };\n};\nconst buildEmptyOutput = (input, question)=>{\n    const ask = question || \"Какая ниша и цель (лиды/просмотры/подписки)?\";\n    return {\n        formats: [],\n        recommendations: {\n            top_5_to_start: [],\n            content_mix_week: [],\n            hooks_bank: [],\n            hooks_by_platform: buildHooksByPlatform(10),\n            format_risks_by_platform: buildFormatRisksByPlatform(),\n            cta_bank: [],\n            pitfalls_ru: buildPitfalls().slice(0, 8)\n        },\n        meta: {\n            generated_at: new Date().toISOString(),\n            input_quality: \"low\",\n            needsReview: true,\n            limitations: [\n                ask\n            ],\n            assumptions: [\n                \"Длина ролика до 30 сек.\",\n                \"RU аудитория.\"\n            ],\n            quality_checks: {\n                within_max_words: true,\n                no_fluff: input.constraints.no_fluff !== false,\n                formats_count_ok: false,\n                platforms_supported_ok: input.platforms.every((item)=>PLATFORM_LIST.includes(item))\n            }\n        }\n    };\n};\nconst generateOutput = async (rawInput = {}, options = {})=>{\n    const input = normalizeInput(rawInput);\n    const refs = input.references;\n    const hasLinkRef = hasLinks([\n        ...refs.themes,\n        ...refs.transcripts,\n        ...refs.creators,\n        ...refs.formats_liked\n    ]);\n    const missingCore = !input.niche && refs.themes.length === 0 && refs.transcripts.length === 0;\n    if (missingCore) {\n        const question = hasLinkRef ? \"Какая ниша и цель (лиды/просмотры/подписки)? Если есть только ссылка — пришли транскрипт/описание.\" : \"Какая ниша и цель (лиды/просмотры/подписки)?\";\n        const output = buildEmptyOutput(input, question);\n        applyBudgetMeta(output.meta, input);\n        return {\n            output: wrapOutput(output, input),\n            effectiveInput: input\n        };\n    }\n    let formats = buildFormats(input);\n    let sizes = resolveRecommendationSizes(input.constraints.max_words);\n    let recommendations = buildRecommendations(formats, input, sizes);\n    const limitations = [];\n    if (hasLinkRef && refs.transcripts.length === 0) {\n        limitations.push(\"Есть ссылки без транскрипта: пришли описание/текст.\");\n    }\n    const maxFormats = Math.min(20, Math.max(10, input.constraints.max_formats));\n    let formatsCountOk = formats.length >= 10 && formats.length <= maxFormats;\n    let baseOutput = {\n        formats,\n        recommendations,\n        meta: buildMeta(input, true, formatsCountOk, false, limitations)\n    };\n    const preserveResult = compressPreserveShape(baseOutput, {\n        max_words: input.constraints.max_words,\n        priorities: {\n            secondary_fields: [\n                \"why_ru\"\n            ],\n            array_minimums: {\n                formats: 10,\n                \"recommendations.content_mix_week\": 5,\n                \"recommendations.hooks_bank\": 8,\n                \"recommendations.cta_bank\": 6,\n                \"recommendations.pitfalls_ru\": 6\n            }\n        }\n    });\n    const limitResult = preserveResult.within ? {\n        output: preserveResult.output,\n        within: true\n    } : applyWordLimit(preserveResult.output, input.constraints.max_words);\n    const withinMaxWords = limitResult.within;\n    formatsCountOk = Array.isArray(limitResult.output.formats) && limitResult.output.formats.length >= 10 && limitResult.output.formats.length <= maxFormats;\n    const output = {\n        ...limitResult.output,\n        meta: buildMeta(input, withinMaxWords, formatsCountOk, false, limitResult.output.meta?.limitations ?? limitations)\n    };\n    if (!withinMaxWords) {\n        output.meta.limitations = Array.isArray(output.meta.limitations) ? [\n            ...output.meta.limitations,\n            \"Сжатый ответ: превышен лимит слов.\"\n        ] : [\n            \"Сжатый ответ: превышен лимит слов.\"\n        ];\n    }\n    if (preserveResult.compressed_heavily) {\n        output.meta.limitations = Array.isArray(output.meta.limitations) ? [\n            ...output.meta.limitations,\n            \"compressed_heavily\"\n        ] : [\n            \"compressed_heavily\"\n        ];\n    }\n    applyBudgetMeta(output.meta, input);\n    return {\n        output: wrapOutput(output, input),\n        effectiveInput: input\n    };\n};\nconst generateTrofimOutput = async (input = {}, options = {})=>{\n    const result = await generateOutput(input, options);\n    return result.output;\n};\nconst validateTrofimOutput = (payload)=>{\n    const errors = [];\n    const legacy = unwrapLegacy(payload);\n    if (!legacy || typeof legacy !== \"object\") {\n        return {\n            valid: false,\n            errors: [\n                \"Output must be an object.\"\n            ]\n        };\n    }\n    payload = legacy;\n    if (!Array.isArray(payload.formats)) errors.push(\"formats must be array\");\n    if (!payload.recommendations) errors.push(\"recommendations required\");\n    if (!payload.meta) errors.push(\"meta required\");\n    if (payload.recommendations?.hooks_by_platform) {\n        Object.entries(payload.recommendations.hooks_by_platform).forEach(([platform, hooks])=>{\n            if (!Array.isArray(hooks) || hooks.length < 10 || hooks.length > 12) {\n                errors.push(`hooks_by_platform.${platform} must be 10-12 items`);\n            }\n        });\n    }\n    if (!payload.recommendations?.format_risks_by_platform) {\n        errors.push(\"format_risks_by_platform required\");\n    }\n    return {\n        valid: errors.length === 0,\n        errors\n    };\n};\nmodule.exports = {\n    inputDefaults,\n    inputSchema,\n    outputSchema,\n    systemPrompt,\n    trofimAgent,\n    normalizeInput,\n    generateOutput,\n    generateTrofimOutput,\n    validateTrofimOutput\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QW9MO0lBQ0FjO0lBQ0FFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy9saWIvYWdlbnRzL3Ryb2ZpbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHdyYXBBZ2VudE91dHB1dCwgdW53cmFwTGVnYWN5IH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYWdlbnRFbnZlbG9wZS5qc1wiKTtcbmNvbnN0IHsgd29yZExpbWl0Q29tcHJlc3MgfSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy93b3JkTGltaXRDb21wcmVzcy5qc1wiKTtcbmNvbnN0IHsgY29tcHJlc3NQcmVzZXJ2ZVNoYXBlIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvY29tcHJlc3NQcmVzZXJ2ZVNoYXBlLmpzXCIpO1xuY29uc3QgeyBhcHBseUJ1ZGdldCwgYXBwbHlCdWRnZXRNZXRhIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYnVkZ2V0LmpzXCIpO1xuXG5jb25zdCBpbnB1dERlZmF1bHRzID0ge1xuICBtb2RlOiBcImRlZXBcIixcbiAgcGxhdGZvcm1zOiBbXCJpbnN0YWdyYW1fcmVlbHNcIiwgXCJ0aWt0b2tcIiwgXCJ5b3V0dWJlX3Nob3J0c1wiLCBcInJ1dHViZVwiLCBcInZrX2NsaXBzXCJdLFxuICBwbGF0Zm9ybV9wcmlvcml0eTogW10sXG4gIG5pY2hlOiBcIlwiLFxuICBnb2FsOiBcInZpZXdzXCIsXG4gIGF1ZGllbmNlOiB7IGdlbzogXCJSVVwiLCBwZXJzb25hOiBcIlwiLCB0ZW1wZXJhdHVyZTogXCJjb2xkXCIgfSxcbiAgcmVmZXJlbmNlczoge1xuICAgIHRyYW5zY3JpcHRzOiBbXSxcbiAgICB0aGVtZXM6IFtdLFxuICAgIGNyZWF0b3JzOiBbXSxcbiAgICBmb3JtYXRzX2xpa2VkOiBbXVxuICB9LFxuICBjb25zdHJhaW50czogeyBtYXhfZm9ybWF0czogMjAsIG1heF93b3JkczogNDUwLCBub19mbHVmZjogdHJ1ZSB9LFxuICBsYW5ndWFnZTogXCJydVwiXG59O1xuXG5jb25zdCBpbnB1dFNjaGVtYSA9IHtcbiAgdHlwZTogXCJvYmplY3RcIixcbiAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICBwcm9wZXJ0aWVzOiB7XG4gICAgbW9kZTogeyB0eXBlOiBcInN0cmluZ1wiLCBlbnVtOiBbXCJxdWlja1wiLCBcImRlZXBcIl0sIGRlZmF1bHQ6IFwiZGVlcFwiIH0sXG4gICAgcGxhdGZvcm1zOiB7XG4gICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICBpdGVtczoge1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBlbnVtOiBbXG4gICAgICAgICAgXCJpbnN0YWdyYW1fcmVlbHNcIixcbiAgICAgICAgICBcInRpa3Rva1wiLFxuICAgICAgICAgIFwieW91dHViZV9zaG9ydHNcIixcbiAgICAgICAgICBcInJ1dHViZVwiLFxuICAgICAgICAgIFwidmtfY2xpcHNcIixcbiAgICAgICAgICBcIm1peGVkXCJcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGRlZmF1bHQ6IFtcImluc3RhZ3JhbV9yZWVsc1wiLCBcInRpa3Rva1wiLCBcInlvdXR1YmVfc2hvcnRzXCIsIFwicnV0dWJlXCIsIFwidmtfY2xpcHNcIl1cbiAgICB9LFxuICAgIHBsYXRmb3JtX3ByaW9yaXR5OiB7XG4gICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICBpdGVtczoge1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBlbnVtOiBbXG4gICAgICAgICAgXCJpbnN0YWdyYW1fcmVlbHNcIixcbiAgICAgICAgICBcInRpa3Rva1wiLFxuICAgICAgICAgIFwieW91dHViZV9zaG9ydHNcIixcbiAgICAgICAgICBcInJ1dHViZVwiLFxuICAgICAgICAgIFwidmtfY2xpcHNcIixcbiAgICAgICAgICBcIm1peGVkXCJcbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sXG4gICAgbmljaGU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgIGdvYWw6IHtcbiAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICBlbnVtOiBbXCJsZWFkc1wiLCBcInZpZXdzXCIsIFwiZm9sbG93ZXJzXCJdLFxuICAgICAgZGVmYXVsdDogXCJ2aWV3c1wiXG4gICAgfSxcbiAgICBhdWRpZW5jZToge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgZ2VvOiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IFtcIlJVXCJdLCBkZWZhdWx0OiBcIlJVXCIgfSxcbiAgICAgICAgcGVyc29uYTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgIHRlbXBlcmF0dXJlOiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IFtcImNvbGRcIiwgXCJ3YXJtXCJdLCBkZWZhdWx0OiBcImNvbGRcIiB9XG4gICAgICB9XG4gICAgfSxcbiAgICByZWZlcmVuY2VzOiB7XG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICB0cmFuc2NyaXB0czogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICB0aGVtZXM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgY3JlYXRvcnM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgZm9ybWF0c19saWtlZDogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb25zdHJhaW50czoge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgbWF4X2Zvcm1hdHM6IHsgdHlwZTogXCJudW1iZXJcIiwgZGVmYXVsdDogMjAgfSxcbiAgICAgICAgbWF4X3dvcmRzOiB7IHR5cGU6IFwibnVtYmVyXCIsIGRlZmF1bHQ6IDQ1MCB9LFxuICAgICAgICBub19mbHVmZjogeyB0eXBlOiBcImJvb2xlYW5cIiwgZGVmYXVsdDogdHJ1ZSB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW5ndWFnZTogeyB0eXBlOiBcInN0cmluZ1wiLCBlbnVtOiBbXCJydVwiXSwgZGVmYXVsdDogXCJydVwiIH1cbiAgfSxcbiAgcmVxdWlyZWQ6IFtcIm1vZGVcIl0sXG4gIGRlZmF1bHQ6IGlucHV0RGVmYXVsdHNcbn07XG5cbmNvbnN0IG91dHB1dFNjaGVtYSA9IHtcbiAgdHlwZTogXCJvYmplY3RcIixcbiAgcmVxdWlyZWQ6IFtcImZvcm1hdHNcIiwgXCJyZWNvbW1lbmRhdGlvbnNcIiwgXCJtZXRhXCJdLFxuICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gIHByb3BlcnRpZXM6IHtcbiAgICBmb3JtYXRzOiB7IHR5cGU6IFwiYXJyYXlcIiB9LFxuICAgIHJlY29tbWVuZGF0aW9uczogeyB0eXBlOiBcIm9iamVjdFwiIH0sXG4gICAgbWV0YTogeyB0eXBlOiBcIm9iamVjdFwiIH1cbiAgfVxufTtcblxuY29uc3Qgc3lzdGVtUHJvbXB0ID0gYNCi0Ysg4oCUINCY0Jgt0LDQs9C10L3RgiBhZ2VudE9TOiBcItCi0YDQvtGE0LjQvCDigJQg0JDQvdCw0LvQuNC3IFRpa1RvayDQuCBTaG9ydHNcIi5cbtCg0L7Qu9GMOiDQsNC90LDQu9C40LfQuNGA0L7QstCw0YLRjCDRhNC+0YDQvNCw0YLRiyDQutC+0YDQvtGC0LrQuNGFINCy0LjQtNC10L4g0Lgg0L/RgNC10LTQu9Cw0LPQsNGC0Ywg0LDQvdCw0LvQvtCz0Lgg0L/QvtC0INCg0KQg0LHQtdC3INCy0LXQsS3QtNC+0YHRgtGD0L/QsC5gO1xuXG5jb25zdCB0cm9maW1BZ2VudCA9IHtcbiAgaWQ6IFwidHJvZmltLXNob3J0cy1hbmFsb2dzLXJ1XCIsXG4gIGRpc3BsYXlOYW1lOiBcItCi0YDQvtGE0LjQvCDigJQg0JDQvdCw0LvQuNC3IFRpa1RvayDQuCBTaG9ydHNcIixcbiAgZGVzY3JpcHRpb246XG4gICAgXCLQpNC+0YDQvNCw0YLRiyDQutC+0YDQvtGC0LrQuNGFINCy0LjQtNC10L4g0Lgg0LDQvdCw0LvQvtCz0Lgg0L/QvtC0INCg0KQgKFNob3J0cy9SVVRVQkUvVkspINGBINC60L7QvdC60YDQtdGC0L3Ri9C80Lgg0YHRhtC10L3QsNGA0LjRj9C80LguXCIsXG4gIGlucHV0U2NoZW1hLFxuICBvdXRwdXRTY2hlbWEsXG4gIHN5c3RlbVByb21wdFxufTtcblxuY29uc3Qgd3JhcE91dHB1dCA9IChsZWdhY3lPdXRwdXQsIGlucHV0KSA9PlxuICB3cmFwQWdlbnRPdXRwdXQoe1xuICAgIGFnZW50SWQ6IHRyb2ZpbUFnZW50LmlkLFxuICAgIGlucHV0RWNobzogaW5wdXQsXG4gICAgbW9kZTogaW5wdXQubW9kZSxcbiAgICBsZWdhY3lPdXRwdXRcbiAgfSk7XG5cbmNvbnN0IHRvU3RyaW5nU2FmZSA9ICh2YWx1ZSkgPT4gKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnRyaW0oKSA6IFwiXCIpO1xuXG5jb25zdCB0b1N0cmluZ0FycmF5ID0gKHZhbHVlKSA9PlxuICBBcnJheS5pc0FycmF5KHZhbHVlKVxuICAgID8gdmFsdWVcbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIgJiYgaXRlbS50cmltKCkpXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0udHJpbSgpKVxuICAgIDogW107XG5cbmNvbnN0IFBMQVRGT1JNX0xJU1QgPSBbXG4gIFwiaW5zdGFncmFtX3JlZWxzXCIsXG4gIFwidGlrdG9rXCIsXG4gIFwieW91dHViZV9zaG9ydHNcIixcbiAgXCJydXR1YmVcIixcbiAgXCJ2a19jbGlwc1wiXG5dO1xuXG5jb25zdCBub3JtYWxpemVQbGF0Zm9ybXMgPSAodmFsdWUpID0+IHtcbiAgY29uc3QgYWxsb3dlZCA9IFsuLi5QTEFURk9STV9MSVNULCBcIm1peGVkXCJdO1xuICBjb25zdCBsaXN0ID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5maWx0ZXIoKGl0ZW0pID0+IGFsbG93ZWQuaW5jbHVkZXMoaXRlbSkpIDogW107XG4gIGNvbnN0IGRlZHVwZWQgPSBBcnJheS5mcm9tKG5ldyBTZXQobGlzdCkpO1xuICBpZiAoZGVkdXBlZC5sZW5ndGggPT09IDAgfHwgZGVkdXBlZC5pbmNsdWRlcyhcIm1peGVkXCIpKSB7XG4gICAgcmV0dXJuIFsuLi5QTEFURk9STV9MSVNUXTtcbiAgfVxuICByZXR1cm4gZGVkdXBlZC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gIT09IFwibWl4ZWRcIik7XG59O1xuXG5jb25zdCBub3JtYWxpemVQbGF0Zm9ybVByaW9yaXR5ID0gKHZhbHVlLCBwbGF0Zm9ybXMpID0+IHtcbiAgY29uc3QgYWxsb3dlZCA9IFsuLi5QTEFURk9STV9MSVNULCBcIm1peGVkXCJdO1xuICBjb25zdCBsaXN0ID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5maWx0ZXIoKGl0ZW0pID0+IGFsbG93ZWQuaW5jbHVkZXMoaXRlbSkpIDogW107XG4gIGNvbnN0IGRlZHVwZWQgPSBBcnJheS5mcm9tKG5ldyBTZXQobGlzdCkpO1xuICBpZiAoZGVkdXBlZC5sZW5ndGggPT09IDApIHJldHVybiBbXTtcbiAgY29uc3QgcmVzb2x2ZWQgPSBkZWR1cGVkLmluY2x1ZGVzKFwibWl4ZWRcIikgPyBbLi4uUExBVEZPUk1fTElTVF0gOiBkZWR1cGVkO1xuICByZXR1cm4gcmVzb2x2ZWQuZmlsdGVyKChpdGVtKSA9PiBwbGF0Zm9ybXMuaW5jbHVkZXMoaXRlbSkpO1xufTtcblxuY29uc3Qgbm9ybWFsaXplSW5wdXQgPSAoaW5wdXQpID0+IHtcbiAgY29uc3Qgc2FmZSA9IHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIiAmJiBpbnB1dCAhPT0gbnVsbCA/IGlucHV0IDoge307XG4gIGNvbnN0IGJ1ZGdldCA9IHNhZmUuYnVkZ2V0ICYmIHR5cGVvZiBzYWZlLmJ1ZGdldCA9PT0gXCJvYmplY3RcIiA/IHNhZmUuYnVkZ2V0IDogbnVsbDtcbiAgY29uc3QgbW9kZSA9IHNhZmUubW9kZSA9PT0gXCJxdWlja1wiID8gXCJxdWlja1wiIDogXCJkZWVwXCI7XG4gIGNvbnN0IGdvYWwgPSBbXCJsZWFkc1wiLCBcInZpZXdzXCIsIFwiZm9sbG93ZXJzXCJdLmluY2x1ZGVzKHNhZmUuZ29hbClcbiAgICA/IHNhZmUuZ29hbFxuICAgIDogXCJ2aWV3c1wiO1xuICBjb25zdCBhdWRpZW5jZSA9IHNhZmUuYXVkaWVuY2UgJiYgdHlwZW9mIHNhZmUuYXVkaWVuY2UgPT09IFwib2JqZWN0XCIgPyBzYWZlLmF1ZGllbmNlIDoge307XG4gIGNvbnN0IHJlZmVyZW5jZXMgPSBzYWZlLnJlZmVyZW5jZXMgJiYgdHlwZW9mIHNhZmUucmVmZXJlbmNlcyA9PT0gXCJvYmplY3RcIiA/IHNhZmUucmVmZXJlbmNlcyA6IHt9O1xuICBjb25zdCBjb25zdHJhaW50cyA9IHNhZmUuY29uc3RyYWludHMgJiYgdHlwZW9mIHNhZmUuY29uc3RyYWludHMgPT09IFwib2JqZWN0XCJcbiAgICA/IHNhZmUuY29uc3RyYWludHNcbiAgICA6IHt9O1xuXG4gIGNvbnN0IHBsYXRmb3JtcyA9IG5vcm1hbGl6ZVBsYXRmb3JtcyhzYWZlLnBsYXRmb3Jtcyk7XG5cbiAgY29uc3Qgbm9ybWFsaXplZCA9IHtcbiAgICBtb2RlLFxuICAgIHBsYXRmb3JtcyxcbiAgICBwbGF0Zm9ybV9wcmlvcml0eTogbm9ybWFsaXplUGxhdGZvcm1Qcmlvcml0eShzYWZlLnBsYXRmb3JtX3ByaW9yaXR5LCBwbGF0Zm9ybXMpLFxuICAgIG5pY2hlOiB0b1N0cmluZ1NhZmUoc2FmZS5uaWNoZSksXG4gICAgZ29hbCxcbiAgICBhdWRpZW5jZToge1xuICAgICAgZ2VvOiBhdWRpZW5jZS5nZW8gPT09IFwiUlVcIiA/IFwiUlVcIiA6IFwiUlVcIixcbiAgICAgIHBlcnNvbmE6IHRvU3RyaW5nU2FmZShhdWRpZW5jZS5wZXJzb25hKSxcbiAgICAgIHRlbXBlcmF0dXJlOiBhdWRpZW5jZS50ZW1wZXJhdHVyZSA9PT0gXCJ3YXJtXCIgPyBcIndhcm1cIiA6IFwiY29sZFwiXG4gICAgfSxcbiAgICByZWZlcmVuY2VzOiB7XG4gICAgICB0cmFuc2NyaXB0czogdG9TdHJpbmdBcnJheShyZWZlcmVuY2VzLnRyYW5zY3JpcHRzKSxcbiAgICAgIHRoZW1lczogdG9TdHJpbmdBcnJheShyZWZlcmVuY2VzLnRoZW1lcyksXG4gICAgICBjcmVhdG9yczogdG9TdHJpbmdBcnJheShyZWZlcmVuY2VzLmNyZWF0b3JzKSxcbiAgICAgIGZvcm1hdHNfbGlrZWQ6IHRvU3RyaW5nQXJyYXkocmVmZXJlbmNlcy5mb3JtYXRzX2xpa2VkKVxuICAgIH0sXG4gICAgY29uc3RyYWludHM6IHtcbiAgICAgIG1heF9mb3JtYXRzOlxuICAgICAgICB0eXBlb2YgY29uc3RyYWludHMubWF4X2Zvcm1hdHMgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKGNvbnN0cmFpbnRzLm1heF9mb3JtYXRzKVxuICAgICAgICAgID8gTWF0aC5tYXgoMTAsIE1hdGgucm91bmQoY29uc3RyYWludHMubWF4X2Zvcm1hdHMpKVxuICAgICAgICAgIDogMjAsXG4gICAgICBtYXhfd29yZHM6XG4gICAgICAgIHR5cGVvZiBjb25zdHJhaW50cy5tYXhfd29yZHMgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKGNvbnN0cmFpbnRzLm1heF93b3JkcylcbiAgICAgICAgICA/IE1hdGgubWF4KDIwMCwgTWF0aC5yb3VuZChjb25zdHJhaW50cy5tYXhfd29yZHMpKVxuICAgICAgICAgIDogNDUwLFxuICAgICAgbm9fZmx1ZmY6IGNvbnN0cmFpbnRzLm5vX2ZsdWZmICE9PSBmYWxzZVxuICAgIH0sXG4gICAgbGFuZ3VhZ2U6IHNhZmUubGFuZ3VhZ2UgPT09IFwicnVcIiA/IFwicnVcIiA6IFwicnVcIlxuICB9O1xuXG4gIGNvbnN0IGJ1ZGdldFJlc3VsdCA9IGFwcGx5QnVkZ2V0KG5vcm1hbGl6ZWQsIGJ1ZGdldCwge1xuICAgIG1heEl0ZW1zUGF0aHM6IFtbXCJjb25zdHJhaW50c1wiLCBcIm1heF9mb3JtYXRzXCJdXSxcbiAgICBtYXhXb3Jkc1BhdGg6IFtcImNvbnN0cmFpbnRzXCIsIFwibWF4X3dvcmRzXCJdXG4gIH0pO1xuICBub3JtYWxpemVkLmJ1ZGdldCA9IGJ1ZGdldDtcbiAgbm9ybWFsaXplZC5idWRnZXRfYXBwbGllZCA9IGJ1ZGdldFJlc3VsdC5idWRnZXRfYXBwbGllZDtcbiAgbm9ybWFsaXplZC5idWRnZXRfd2FybmluZ3MgPSBidWRnZXRSZXN1bHQud2FybmluZ3M7XG4gIHJldHVybiBub3JtYWxpemVkO1xufTtcblxuY29uc3QgY291bnRXb3JkcyA9ICh0ZXh0KSA9PiB7XG4gIGlmICghdGV4dCkgcmV0dXJuIDA7XG4gIGNvbnN0IG1hdGNoZXMgPSB0ZXh0Lm1hdGNoKC9bQS1aYS160JAt0K/QsC3RjzAtOV9dKy9nKTtcbiAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzLmxlbmd0aCA6IDA7XG59O1xuXG5jb25zdCBjb3VudFdvcmRzSW5PYmplY3QgPSAodmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGNvdW50V29yZHModmFsdWUpO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gYWNjICsgY291bnRXb3Jkc0luT2JqZWN0KGl0ZW0pLCAwKTtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHZhbHVlKS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gYWNjICsgY291bnRXb3Jkc0luT2JqZWN0KGl0ZW0pLCAwKTtcbiAgfVxuICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IGNvdW50U3RyaW5nc0luT2JqZWN0ID0gKHZhbHVlKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHJldHVybiAxO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gYWNjICsgY291bnRTdHJpbmdzSW5PYmplY3QoaXRlbSksIDApO1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModmFsdWUpLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgKyBjb3VudFN0cmluZ3NJbk9iamVjdChpdGVtKSwgMCk7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCB0cmltV29yZHMgPSAodGV4dCwgbWF4V29yZHMpID0+IHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gXCJcIjtcbiAgY29uc3Qgd29yZHMgPSB0ZXh0LnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICBpZiAod29yZHMubGVuZ3RoIDw9IG1heFdvcmRzKSByZXR1cm4gdGV4dC50cmltKCk7XG4gIHJldHVybiBgJHt3b3Jkcy5zbGljZSgwLCBtYXhXb3Jkcykuam9pbihcIiBcIil9Li4uYDtcbn07XG5cbmNvbnN0IG1hcFN0cmluZ3MgPSAodmFsdWUsIGZuKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHJldHVybiBmbih2YWx1ZSk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbHVlLm1hcCgoaXRlbSkgPT4gbWFwU3RyaW5ncyhpdGVtLCBmbikpO1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtrZXksIHZhbF0pID0+IFtrZXksIG1hcFN0cmluZ3ModmFsLCBmbildKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuY29uc3QgYXBwbHlXb3JkTGltaXQgPSAob3V0cHV0LCBtYXhXb3JkcykgPT4gd29yZExpbWl0Q29tcHJlc3Mob3V0cHV0LCBtYXhXb3Jkcyk7XG5cbmNvbnN0IGhhc0xpbmtzID0gKGFycikgPT4gYXJyLnNvbWUoKGl0ZW0pID0+IC9odHRwcz86XFwvXFwvL2kudGVzdChpdGVtKSk7XG5cbmNvbnN0IGJ1aWxkU2VlZFBocmFzZXMgPSAocmVmZXJlbmNlcykgPT4ge1xuICBjb25zdCBzZWVkcyA9IFtdO1xuICByZWZlcmVuY2VzLnRoZW1lcy5mb3JFYWNoKCh0aGVtZSkgPT4ge1xuICAgIGlmICh0aGVtZSkgc2VlZHMucHVzaCh0aGVtZSk7XG4gIH0pO1xuICByZWZlcmVuY2VzLnRyYW5zY3JpcHRzLnNsaWNlKDAsIDMpLmZvckVhY2goKHRleHQpID0+IHtcbiAgICBjb25zdCBmaXJzdCA9IHRleHQuc3BsaXQoL1suIT9dLylbMF0gfHwgdGV4dDtcbiAgICBjb25zdCBzbmlwcGV0ID0gdHJpbVdvcmRzKGZpcnN0LCA2KTtcbiAgICBpZiAoc25pcHBldCkgc2VlZHMucHVzaChzbmlwcGV0KTtcbiAgfSk7XG4gIHJlZmVyZW5jZXMuZm9ybWF0c19saWtlZC5mb3JFYWNoKCh0ZXh0KSA9PiB7XG4gICAgaWYgKHRleHQpIHNlZWRzLnB1c2godGV4dCk7XG4gIH0pO1xuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHNlZWRzLm1hcCgoaXRlbSkgPT4gaXRlbS50cmltKCkpLmZpbHRlcihCb29sZWFuKSkpLnNsaWNlKDAsIDYpO1xufTtcblxuY29uc3QgUExBVEZPUk1fTEFCRUxTID0ge1xuICBpbnN0YWdyYW1fcmVlbHM6IFwiSW5zdGFncmFtIFJlZWxzXCIsXG4gIHRpa3RvazogXCJUaWtUb2tcIixcbiAgeW91dHViZV9zaG9ydHM6IFwiWW91VHViZSBTaG9ydHNcIixcbiAgcnV0dWJlOiBcIlJVVFVCRVwiLFxuICB2a19jbGlwczogXCJWSyBDbGlwc1wiXG59O1xuXG5jb25zdCBQTEFURk9STV9UV0VBS1MgPSB7XG4gIGluc3RhZ3JhbV9yZWVsczoge1xuICAgIHBhY2luZ19ub3RlOiBcItC+0YfQtdC90Ywg0LHRi9GB0YLRgNGL0Lkg0YLQtdC80L9cIixcbiAgICBjYXB0aW9uX3N0eWxlOiBcItC60YDRg9C/0L3Ri9C1INCx0YvRgdGC0YDRi9C1INGB0YPQsdGC0LjRgtGA0YtcIixcbiAgICBjdGFfc3R5bGU6IFwi0LrQvtGA0L7RgtC60LjQuSBDVEEg0LIg0LrQvtC90YbQtVwiLFxuICAgIHR5cGljYWxfbGVuZ3RoX3NlYzogXCIxNeKAkzMwXCIsXG4gICAgYWRhcHRhdGlvbjogXCLRgdC40LvRjNC90YvQuSDQstC40LfRg9Cw0Lsg0Lgg0YHRg9Cx0YLQuNGC0YDRiyDQsdC10Lcg0LvQuNGI0L3QuNGFINC+0LHRitGP0YHQvdC10L3QuNC5XCJcbiAgfSxcbiAgdGlrdG9rOiB7XG4gICAgcGFjaW5nX25vdGU6IFwi0LHRi9GB0YLRgNGL0Lkg0LrQvtC90YTQu9C40LrRgiDQsiDQvdCw0YfQsNC70LVcIixcbiAgICBjYXB0aW9uX3N0eWxlOiBcItC20LjQstC+0Lkg0LPQvtC70L7RgSArINC60L7RgNC+0YLQutC40LUg0L/QvtC00L/QuNGB0LhcIixcbiAgICBjdGFfc3R5bGU6IFwiQ1RBINGH0LXRgNC10Lcg0LrQvtC80LzQtdC90YJcIixcbiAgICB0eXBpY2FsX2xlbmd0aF9zZWM6IFwiMTLigJMyNVwiLFxuICAgIGFkYXB0YXRpb246IFwi0LvQuNGH0L3Ri9C5INCz0L7Qu9C+0YEsINCx0YvRgdGC0YDRi9C5INC60L7QvdGE0LvQuNC60YIsINCx0LXQtyDQuNC90YTQvtGG0YvQs9Cw0L3RidC40L3Ri1wiXG4gIH0sXG4gIHlvdXR1YmVfc2hvcnRzOiB7XG4gICAgcGFjaW5nX25vdGU6IFwi0YDQvtCy0L3Ri9C5INGC0LXQvNC/XCIsXG4gICAgY2FwdGlvbl9zdHlsZTogXCLRgtC10LfQuNGB0Ysg0L3QsCDRjdC60YDQsNC90LVcIixcbiAgICBjdGFfc3R5bGU6IFwi0L/QvtC00L/QuNGB0LrQsC/RgdC+0YXRgNCw0L3QuNGC0YxcIixcbiAgICB0eXBpY2FsX2xlbmd0aF9zZWM6IFwiMjDigJMzNVwiLFxuICAgIGFkYXB0YXRpb246IFwi0L7QsdC10YnQsNC90LjQtSDihpIg0LDRgNCz0YPQvNC10L3RgtGLIOKGkiBwcm9vZlwiXG4gIH0sXG4gIHJ1dHViZToge1xuICAgIHBhY2luZ19ub3RlOiBcItGH0YPRgtGMINC80LXQtNC70LXQvdC90LXQtVwiLFxuICAgIGNhcHRpb25fc3R5bGU6IFwi0L/RgNC+0YHRgtGL0LUg0L/QvtC00L/QuNGB0LhcIixcbiAgICBjdGFfc3R5bGU6IFwi0YHQv9C+0LrQvtC50L3Ri9C5IENUQVwiLFxuICAgIHR5cGljYWxfbGVuZ3RoX3NlYzogXCIyNeKAkzQ1XCIsXG4gICAgYWRhcHRhdGlvbjogXCLQtNC+0LLQtdGA0LjQtSwg0L/RgNC+0YHRgtC+0YLQsCwg0L/QvtC90Y/RgtC90L7RgdGC0YxcIlxuICB9LFxuICB2a19jbGlwczoge1xuICAgIHBhY2luZ19ub3RlOiBcItGB0L/QvtC60L7QudC90YvQuSDRgtC10LzQv1wiLFxuICAgIGNhcHRpb25fc3R5bGU6IFwi0LvQvtC60LDQu9GM0L3QviDQuCDQv9GA0L7RgdGC0L5cIixcbiAgICBjdGFfc3R5bGU6IFwi0LrQvtC80LzQtdC90YIv0YHQvtGF0YDQsNC90LjRgtGMXCIsXG4gICAgdHlwaWNhbF9sZW5ndGhfc2VjOiBcIjE14oCTMzBcIixcbiAgICBhZGFwdGF0aW9uOiBcItC80LXQvdGM0YjQtSDQv9Cw0YTQvtGB0LAsINCx0L7Qu9GM0YjQtSDQutC+0L3QutGA0LXRgtC40LrQuFwiXG4gIH1cbn07XG5cbmNvbnN0IGJ1aWxkUGxhdGZvcm1Ud2Vha3MgPSAocGxhdGZvcm1zKSA9PlxuICBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgcGxhdGZvcm1zLm1hcCgocGxhdGZvcm0pID0+IFtcbiAgICAgIHBsYXRmb3JtLFxuICAgICAge1xuICAgICAgICBwYWNpbmdfbm90ZTogUExBVEZPUk1fVFdFQUtTW3BsYXRmb3JtXT8ucGFjaW5nX25vdGUgfHwgXCLRgNC+0LLQvdGL0Lkg0YLQtdC80L9cIixcbiAgICAgICAgY2FwdGlvbl9zdHlsZTogUExBVEZPUk1fVFdFQUtTW3BsYXRmb3JtXT8uY2FwdGlvbl9zdHlsZSB8fCBcItC/0YDQvtGB0YLRi9C1INC/0L7QtNC/0LjRgdC4XCIsXG4gICAgICAgIGN0YV9zdHlsZTogUExBVEZPUk1fVFdFQUtTW3BsYXRmb3JtXT8uY3RhX3N0eWxlIHx8IFwi0L7QtNC40L0gQ1RBXCIsXG4gICAgICAgIHR5cGljYWxfbGVuZ3RoX3NlYzogUExBVEZPUk1fVFdFQUtTW3BsYXRmb3JtXT8udHlwaWNhbF9sZW5ndGhfc2VjIHx8IFwiMTXigJMzMFwiXG4gICAgICB9XG4gICAgXSlcbiAgKTtcblxuY29uc3QgYmFzZVRlbXBsYXRlcyA9IFtcbiAge1xuICAgIG5hbWU6IFwi0KDQsNC30LHQvtGAIDEg0L7RiNC40LHQutC4XCIsXG4gICAgdHJpZ2dlcjogXCLRgdGC0YDQsNGFINC/0L7RgtC10YDQuCDQstC90LjQvNCw0L3QuNGPXCIsXG4gICAgaG9vazogXCLQntC00L3QsCDQvtGI0LjQsdC60LAg0LIg0L3QsNGH0LDQu9C1IOKAlCDQvNC40L3Rg9GBINGA0LXQt9GD0LvRjNGC0LDRgi5cIixcbiAgICBjb25mbGljdDogXCLQntGI0LjQsdC+0YfQvdGL0Lkg0YHRgtCw0YDRgiDRg9Cx0LjQstCw0LXRgiDRg9C00LXRgNC20LDQvdC40LUuXCIsXG4gICAgdmFsdWVCZWF0czogW1wi0J3QsNC30L7QstC4INC+0YjQuNCx0LrRgy5cIiwgXCLQn9C+0LrQsNC20LgsINCz0LTQtSDQvtC90LAg0LIg0YDQvtC70LjQutC1LlwiLCBcItCU0LDQuSDQutC+0YDQvtGC0LrRg9GOINC/0YDQsNCy0LrRgy5cIl0sXG4gICAgcHJvb2ZCZWF0czogW1wi0KHQutGA0LjQvSDRg9C00LXRgNC20LDQvdC40Y8v0L/RgNC40LzQtdGAINC60LDQtNGA0LAuXCJdLFxuICAgIGN0YTogXCLQmtC+0LzQvNC10L3RgiBcXFwi0L7RiNC40LHQutCwXFxcIiDigJQg0LTQsNC8INGH0LXQutC70LjRgdGCLlwiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIjMg0YjQsNCz0LAg0LfQsCAzMCDRgdC10LpcIixcbiAgICB0cmlnZ2VyOiBcItGN0LrQvtC90L7QvNC40Y8g0LLRgNC10LzQtdC90LhcIixcbiAgICBob29rOiBcIjMg0YjQsNCz0LAg0LHQtdC3INCy0L7QtNGLLlwiLFxuICAgIGNvbmZsaWN0OiBcItCh0LvQuNGI0LrQvtC8INC80L3QvtCz0L4g0LvQuNGI0L3QtdCz0L4g4oCUINC30YDQuNGC0LXQu9GMINGD0YXQvtC00LjRgi5cIixcbiAgICB2YWx1ZUJlYXRzOiBbXCLQqNCw0LMgMSDigJQg0YXRg9C6LlwiLCBcItCo0LDQsyAyIOKAlCDQutC+0L3QutGA0LXRgtC40LrQsC5cIiwgXCLQqNCw0LMgMyDigJQg0LTQvtC60LDQt9Cw0YLQtdC70YzRgdGC0LLQvi5cIl0sXG4gICAgcHJvb2ZCZWF0czogW1wi0JzQuNC90Lgt0LrQtdC50YEg0LIgMSDRhNGA0LDQt9C1LlwiXSxcbiAgICBjdGE6IFwi0KHQvtGF0YDQsNC90Lgg0Lgg0L/QvtCy0YLQvtGA0LguXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JTQvi/Qv9C+0YHQu9C1XCIsXG4gICAgdHJpZ2dlcjogXCLQutC+0L3RgtGA0LDRgdGCXCIsXG4gICAgaG9vazogXCLQlNC+L9C/0L7RgdC70LUg4oCUIDE1INGB0LXQutGD0L3QtC5cIixcbiAgICBjb25mbGljdDogXCLQkdC10Lcg0YHRgNCw0LLQvdC10L3QuNGPINGB0LvQvtC20L3QviDQstC10YDQuNGC0YwuXCIsXG4gICAgdmFsdWVCZWF0czogW1wi0J/QvtC60LDQttC4INC00L4uXCIsIFwi0J/QvtC60LDQttC4INC/0L7RgdC70LUuXCIsIFwi0J3QsNC30L7QstC4INGA0LDQt9C90LjRhtGDINGG0LjRhNGA0L7QuS5cIl0sXG4gICAgcHJvb2ZCZWF0czogW1wi0KHQutGA0LjQvS/QutCw0LTRgCDRgSDRgNC10LfRg9C70YzRgtCw0YLQvtC8LlwiXSxcbiAgICBjdGE6IFwi0JrQvtC80LzQtdC90YIgXFxcItC00L5cXFwiIOKAlCDQv9GA0LjRiNC70Y4g0YjQsNCx0LvQvtC9LlwiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCc0LjRhC/RhNCw0LrRglwiLFxuICAgIHRyaWdnZXI6IFwi0YHQutC10L/RgdC40YEg0Log0L7QsdC10YnQsNC90LjRj9C8XCIsXG4gICAgaG9vazogXCLQnNC40YQ6INGC0LDQuiDRgNCw0LHQvtGC0LDQtdGCLiDQpNCw0LrRgjog0L3QtdGCLlwiLFxuICAgIGNvbmZsaWN0OiBcItCf0L7Qv9GD0LvRj9GA0L3Ri9C5INGB0L7QstC10YIg0LLRgNC10LTQuNGCLlwiLFxuICAgIHZhbHVlQmVhdHM6IFtcItCe0LfQstGD0YfRjCDQvNC40YQuXCIsIFwi0KDQsNC30LHQtdC5INGE0LDQutGC0LDQvNC4LlwiLCBcItCU0LDQuSDRgNCw0LHQvtGH0YPRjiDQt9Cw0LzQtdC90YMuXCJdLFxuICAgIHByb29mQmVhdHM6IFtcItCk0YDQsNC30LAg0LrQu9C40LXQvdGC0LAv0L/RgNC40LzQtdGALlwiXSxcbiAgICBjdGE6IFwi0JrQvtC80LzQtdC90YIgXFxcItGE0LDQutGCXFxcIiDigJQg0L/RgNC40YjQu9GOINGA0LDQt9Cx0L7RgC5cIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQoNCw0LfQsdC+0YAg0LrQtdC50YHQsCDQsiAzINGC0LXQt9C40YHQsFwiLFxuICAgIHRyaWdnZXI6IFwi0YHQvtGG0LjQsNC70YzQvdC+0LUg0LTQvtC60LDQt9Cw0YLQtdC70YzRgdGC0LLQvlwiLFxuICAgIGhvb2s6IFwi0JrQtdC50YEg0LfQsCAyMCDRgdC10LouXCIsXG4gICAgY29uZmxpY3Q6IFwi0JHQtdC3INC60LXQudGB0LAg0L3QtdGCINC00L7QstC10YDQuNGPLlwiLFxuICAgIHZhbHVlQmVhdHM6IFtcItCa0L7QvdGC0LXQutGB0YIuXCIsIFwi0JTQtdC50YHRgtCy0LjQtS5cIiwgXCLQoNC10LfRg9C70YzRgtCw0YIuXCJdLFxuICAgIHByb29mQmVhdHM6IFtcItCa0LDQtNGAINGA0LXQt9GD0LvRjNGC0LDRgtCwLlwiXSxcbiAgICBjdGE6IFwi0JIg0LvQuNGH0LrRgyBcXFwi0LrQtdC50YFcXFwiIOKAlCDQtNC10YLQsNC70LguXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0J7RgtCy0LXRgiDQvdCwINC60L7QvNC80LXQvdGC0LDRgNC40LlcIixcbiAgICB0cmlnZ2VyOiBcItGB0LLQvtC5LdGH0YPQttC+0LlcIixcbiAgICBob29rOiBcItCS0L7Qv9GA0L7RgSDQuNC3INC60L7QvNC80LXQvdGC0L7QsjogLi4uXCIsXG4gICAgY29uZmxpY3Q6IFwi0KHQvtC80L3QtdC90LjRjyDQuCDQvdC10LTQvtCy0LXRgNC40LUg0LDRg9C00LjRgtC+0YDQuNC4LlwiLFxuICAgIHZhbHVlQmVhdHM6IFtcItCm0LjRgtCw0YLQsCDQutC+0LzQvNC10L3RgtCw0YDQuNGPLlwiLCBcItCa0L7RgNC+0YLQutC40Lkg0L7RgtCy0LXRgi5cIiwgXCLQn9GA0LjQvNC10YAuXCJdLFxuICAgIHByb29mQmVhdHM6IFtcItCh0LrRgNC40L0g0LrQvtC80LzQtdC90YLQsC/Qv9GA0LjQvNC10YAuXCJdLFxuICAgIGN0YTogXCLQn9C40YjQuCDQstC+0L/RgNC+0YEg0LIg0LrQvtC80LzQtdC90YLRiy5cIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQkNC90YLQuC3RgdC+0LLQtdGCXCIsXG4gICAgdHJpZ2dlcjogXCLRgdGC0YDQsNGFINC+0YjQuNCx0LrQuFwiLFxuICAgIGhvb2s6IFwi0J3QtSDQtNC10LvQsNC5INGC0LDQui5cIixcbiAgICBjb25mbGljdDogXCLQotC40L/QuNGH0L3Ri9C5INGB0L7QstC10YIg0LvQvtC80LDQtdGCINGA0LXQt9GD0LvRjNGC0LDRgi5cIixcbiAgICB2YWx1ZUJlYXRzOiBbXCLQn9C+0LrQsNC20Lgg0LDQvdGC0Lgt0YHQvtCy0LXRgi5cIiwgXCLQn9C+0YfQtdC80YMg0L7QvSDQstGA0LXQtNC10L0uXCIsIFwi0JrQsNC6INC/0YDQsNCy0LjQu9GM0L3Qvi5cIl0sXG4gICAgcHJvb2ZCZWF0czogW1wi0JrQvtGA0L7RgtC60LjQuSDQv9GA0LjQvNC10YAuXCJdLFxuICAgIGN0YTogXCLQmtC+0LzQvNC10L3RgiBcXFwi0LDQvdGC0LhcXFwiIOKAlCDRgdC/0LjRgdC+0LouXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0KHRgNCw0LLQvdC10L3QuNC1INC00LLRg9GFINC/0L7QtNGF0L7QtNC+0LJcIixcbiAgICB0cmlnZ2VyOiBcItCy0YvQsdC+0YAg0LHQtdC3INGA0LjRgdC60LBcIixcbiAgICBob29rOiBcItCh0YDQsNCy0L3RjiAyINCy0LDRgNC40LDQvdGC0LAuXCIsXG4gICAgY29uZmxpY3Q6IFwi0J3QtdC/0L7QvdGP0YLQvdC+LCDRh9GC0L4g0LLRi9Cx0YDQsNGC0YwuXCIsXG4gICAgdmFsdWVCZWF0czogW1wi0J/QvtC00YXQvtC0INCQIOKAlCDQvNC40L3Rg9GB0YsuXCIsIFwi0J/QvtC00YXQvtC0INCRIOKAlCDQv9C70Y7RgdGLLlwiLCBcItCa0L7QvNGDINGH0YLQviDQv9C+0LTRhdC+0LTQuNGCLlwiXSxcbiAgICBwcm9vZkJlYXRzOiBbXCLQn9GA0LjQvNC10YAg0YDQtdC30YPQu9GM0YLQsNGC0LAuXCJdLFxuICAgIGN0YTogXCLQmtC+0LzQvNC10L3RgiBcXFwi0JBcXFwiINC40LvQuCBcXFwi0JFcXFwiLlwiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCg0LDQt9Cx0L7RgCDRjdC60YDQsNC90LBcIixcbiAgICB0cmlnZ2VyOiBcItCy0LjQt9GD0LDQu9GM0L3QsNGPINC60L7QvdC60YDQtdGC0LjQutCwXCIsXG4gICAgaG9vazogXCLQntC00LjQvSDRjdC60YDQsNC9IOKAlCDQstGB0Y8g0L7RiNC40LHQutCwLlwiLFxuICAgIGNvbmZsaWN0OiBcItCt0LrRgNCw0L0g0L/QtdGA0LXQs9GA0YPQttC10L0sINC90LXRgiDRhNC+0LrRg9GB0LAuXCIsXG4gICAgdmFsdWVCZWF0czogW1wi0J/QvtC60LDQttC4INGN0LrRgNCw0L0uXCIsIFwi0JLRi9C00LXQu9C4INC70LjRiNC90LXQtS5cIiwgXCLQodC60LDQttC4INC60LDQuiDRg9C/0YDQvtGB0YLQuNGC0YwuXCJdLFxuICAgIHByb29mQmVhdHM6IFtcItCh0LrRgNC40L0g0LTQvi/Qv9C+0YHQu9C1LlwiXSxcbiAgICBjdGE6IFwi0KHQutC40L3RjCDRjdC60YDQsNC9IOKAlCDRgNCw0LfQsdC10YDRgy5cIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQn9GA0L7QstCw0Lsg0Lgg0LLRi9Cy0L7QtFwiLFxuICAgIHRyaWdnZXI6IFwi0YfQtdGB0YLQvdC+0YHRgtGMXCIsXG4gICAgaG9vazogXCLQryDQvtCx0LvQsNC20LDQu9GB0Y8sINC4INCy0L7RgiDQs9C00LUuXCIsXG4gICAgY29uZmxpY3Q6IFwi0J7RiNC40LHQutC4INGB0YLQvtGP0YIg0LTQvtGA0L7Qs9C+LlwiLFxuICAgIHZhbHVlQmVhdHM6IFtcItCn0YLQviDRgdC00LXQu9Cw0LsuXCIsIFwi0J/QvtGH0LXQvNGDINC90LUg0YHRgNCw0LHQvtGC0LDQu9C+LlwiLCBcItCa0LDQuiDQuNGB0L/RgNCw0LLQuNC7LlwiXSxcbiAgICBwcm9vZkJlYXRzOiBbXCLQpNCw0LrRgi/RhtC40YTRgNCwLlwiXSxcbiAgICBjdGE6IFwi0KHQvtGF0YDQsNC90LgsINGH0YLQvtCx0Ysg0L3QtSDQv9C+0LLRgtC+0YDRj9GC0YwuXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JzQuNC90Lgt0YLQtdGB0YJcIixcbiAgICB0cmlnZ2VyOiBcItGB0LDQvNC+0L/RgNC+0LLQtdGA0LrQsFwiLFxuICAgIGhvb2s6IFwi0KLQtdGB0YIg0L3QsCAxMCDRgdC10LrRg9C90LQuXCIsXG4gICAgY29uZmxpY3Q6IFwi0J3QtdC/0L7QvdGP0YLQvdC+LCDQvdCw0YHQutC+0LvRjNC60L4g0YDQvtC70LjQuiDRhtC10L/Qu9GP0LXRgi5cIixcbiAgICB2YWx1ZUJlYXRzOiBbXCLQn9GA0L7QstC10YDQutCwIDEuXCIsIFwi0J/RgNC+0LLQtdGA0LrQsCAyLlwiLCBcItCS0LXRgNC00LjQutGCLlwiXSxcbiAgICBwcm9vZkJlYXRzOiBbXCLQn9GA0LjQvNC10YAg0LrQsNC00YDQsC5cIl0sXG4gICAgY3RhOiBcItCa0L7QvNC80LXQvdGCIFxcXCLRgtC10YHRglxcXCIg4oCUINGH0LXQutC70LjRgdGCLlwiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCk0L7RgNC80YPQu9CwINGF0YPQutCwXCIsXG4gICAgdHJpZ2dlcjogXCLQv9GA0LDQutGC0LjRh9C90L7RgdGC0YxcIixcbiAgICBob29rOiBcItCk0L7RgNC80YPQu9CwINGF0YPQutCwID0gMSDRgdGC0YDQvtC60LAuXCIsXG4gICAgY29uZmxpY3Q6IFwi0JHQtdC3INGE0L7RgNC80YPQu9GLINGF0YPQuiDRgNCw0LfQvNCw0LfQsNC9LlwiLFxuICAgIHZhbHVlQmVhdHM6IFtcItCk0L7RgNC80YPQu9CwLlwiLCBcItCf0YDQuNC80LXRgC5cIiwgXCLQmtCw0Log0L/RgNC40LzQtdC90LjRgtGMLlwiXSxcbiAgICBwcm9vZkJlYXRzOiBbXCLQnNC40L3QuC3QtNC10LzQvi5cIl0sXG4gICAgY3RhOiBcItCSINC70LjRh9C60YMgXFxcItGE0L7RgNC80YPQu9CwXFxcIi5cIlxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQp9C10LrQu9C40YHRgiDQv9C10YDQtdC0INC/0YPQsdC70LjQutCw0YbQuNC10LlcIixcbiAgICB0cmlnZ2VyOiBcItC60L7QvdGC0YDQvtC70Ywg0LrQsNGH0LXRgdGC0LLQsFwiLFxuICAgIGhvb2s6IFwi0J/RgNC+0LLQtdGA0YwgMyDQv9GD0L3QutGC0LAg0L/QtdGA0LXQtCDQv9C+0YHRgtC+0LwuXCIsXG4gICAgY29uZmxpY3Q6IFwi0J/Rg9Cx0LvQuNC60YPRjtGCINCx0LXQtyDQv9GA0L7QstC10YDQutC4LlwiLFxuICAgIHZhbHVlQmVhdHM6IFtcItCf0YPQvdC60YIgMS5cIiwgXCLQn9GD0L3QutGCIDIuXCIsIFwi0J/Rg9C90LrRgiAzLlwiXSxcbiAgICBwcm9vZkJlYXRzOiBbXCLQn9GA0LjQvNC10YAg0L7RiNC40LHQutC4LlwiXSxcbiAgICBjdGE6IFwi0KHQvtGF0YDQsNC90Lgg0YHQv9C40YHQvtC6LlwiXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCg0LDQt9Cx0L7RgCDQt9CwINC60LDQtNGA0L7QvFwiLFxuICAgIHRyaWdnZXI6IFwi0LvRjtCx0L7Qv9GL0YLRgdGC0LLQvlwiLFxuICAgIGhvb2s6IFwi0JfQsCDQutCw0LTRgNC+0Lwg4oCUINGH0YLQviDQvdC1INCy0LjQtNC90L4uXCIsXG4gICAgY29uZmxpY3Q6IFwi0KHQutGA0YvRgtCw0Y8g0YfQsNGB0YLRjCDRgNC10YjQsNC10YIg0YDQtdC30YPQu9GM0YLQsNGCLlwiLFxuICAgIHZhbHVlQmVhdHM6IFtcItCn0YLQviDRgdC60YDRi9GC0L4uXCIsIFwi0J/QvtGH0LXQvNGDINCy0LDQttC90L4uXCIsIFwi0JrQsNC6INC/0L7QutCw0LfQsNGC0YwuXCJdLFxuICAgIHByb29mQmVhdHM6IFtcItCh0LrRgNC40L0g0LHRjdC60YHRgtC10LnQtNC20LAuXCJdLFxuICAgIGN0YTogXCLQmtC+0LzQvNC10L3RgiBcXFwi0LHRjdC6XFxcIi5cIlxuICB9XG5dO1xuXG5jb25zdCBwaWNrUGxhdGZvcm1zRm9ySW5kZXggPSAocGxhdGZvcm1zLCBpbmRleCkgPT4ge1xuICBpZiAoIXBsYXRmb3Jtcy5sZW5ndGgpIHJldHVybiBbXCJ5b3V0dWJlX3Nob3J0c1wiXTtcbiAgY29uc3QgcGljayA9IHBsYXRmb3Jtc1tpbmRleCAlIHBsYXRmb3Jtcy5sZW5ndGhdO1xuICByZXR1cm4gW3BpY2tdO1xufTtcblxuY29uc3QgYnVpbGRBbmFsb2dUZW1wbGF0ZSA9IChzZWVkLCB0ZW1wbGF0ZSkgPT4ge1xuICByZXR1cm4ge1xuICAgIC4uLnRlbXBsYXRlLFxuICAgIG5hbWU6IGAke3RlbXBsYXRlLm5hbWV9OiAke3RyaW1Xb3JkcyhzZWVkLCAzKX1gLFxuICAgIGhvb2s6IGAke3RyaW1Xb3JkcyhzZWVkLCA0KX0g4oCUINGB0LTQtdC70LDQuSDQuNC90LDRh9C1LmAsXG4gICAgY29uZmxpY3Q6IGDQotC10LzQsCBcIiR7dHJpbVdvcmRzKHNlZWQsIDQpfVwiINCx0YvRgdGC0YDQviDQvdCw0LTQvtC10LTQsNC10YIg0LHQtdC3INC90L7QstC+0LPQviDRg9Cz0LvQsC5gXG4gIH07XG59O1xuXG5jb25zdCBidWlsZEZvcm1hdEl0ZW0gPSAodGVtcGxhdGUsIGlucHV0LCBpbmRleCkgPT4ge1xuICBjb25zdCBuaWNoZUxhYmVsID0gaW5wdXQubmljaGUgPyB0cmltV29yZHMoaW5wdXQubmljaGUsIDMpIDogXCLQvdC40YjQtVwiO1xuICBjb25zdCBwbGF0Zm9ybXMgPSBwaWNrUGxhdGZvcm1zRm9ySW5kZXgoaW5wdXQucGxhdGZvcm1zLCBpbmRleCk7XG4gIGNvbnN0IHByaW1hcnlQbGF0Zm9ybSA9IHBsYXRmb3Jtc1swXSB8fCBpbnB1dC5wbGF0Zm9ybXNbMF0gfHwgXCJ5b3V0dWJlX3Nob3J0c1wiO1xuICBjb25zdCBwbGF0Zm9ybUxhYmVsID0gUExBVEZPUk1fTEFCRUxTW3ByaW1hcnlQbGF0Zm9ybV0gfHwgcHJpbWFyeVBsYXRmb3JtO1xuICBjb25zdCBnb2FsID0gaW5wdXQuZ29hbDtcbiAgY29uc3QgY3RhID1cbiAgICBnb2FsID09PSBcImxlYWRzXCJcbiAgICAgID8gdGVtcGxhdGUuY3RhLnJlcGxhY2UoXCLQodC+0YXRgNCw0L3QuFwiLCBcItCSINC70LjRh9C60YNcIilcbiAgICAgIDogZ29hbCA9PT0gXCJmb2xsb3dlcnNcIlxuICAgICAgICA/IFwi0J/QvtC00L/QuNGI0LjRgdGMINC30LAg0YHQtdGA0LjRjiDRgNCw0LfQsdC+0YDQvtCyLlwiXG4gICAgICAgIDogdGVtcGxhdGUuY3RhO1xuXG4gIGNvbnN0IGFkYXB0YXRpb24gPSBbXG4gICAgYNCQ0LTQsNC/0YLQsNGG0LjRjyDQv9C+0LQgJHtwbGF0Zm9ybUxhYmVsfTogJHtQTEFURk9STV9UV0VBS1NbcHJpbWFyeVBsYXRmb3JtXT8uYWRhcHRhdGlvbiB8fCBcItC60L7RgNC+0YLQutC+INC4INC/0L4g0LTQtdC70YNcIn0uYCxcbiAgICBg0KLRgNC40LPQs9C10YA6ICR7dGVtcGxhdGUudHJpZ2dlcn0uYCxcbiAgICBg0J/QvtC00YHRgtCw0LLRjCDQvdC40YjRgzogJHtuaWNoZUxhYmVsfS5gXG4gIF07XG5cbiAgY29uc3Qgd2h5V29ya3MgPSBbXCLQn9GA0Y/QvNC+0Lkg0LfQsNGF0L7QtCDQsdC10Lcg0LLRgdGC0YPQv9C70LXQvdC40LkuXCIsIFwi0JrQvtGA0L7RgtC60LjQtSDRhNGA0LDQt9GLINC4INC/0YDQuNC80LXRgNGLLlwiXTtcblxuICBjb25zdCBlZmZlY3QgPVxuICAgIGdvYWwgPT09IFwibGVhZHNcIlxuICAgICAgPyB7IGxlYWRzX2VzdGltYXRlOiBcItCf0L7RgtC10L3RhtC40LDQuyDQu9C40LTQvtCyINC/0YDQuCDRh9GR0YLQutC+0LwgQ1RBLlwiLCBub3RlOiBcImVzdGltYXRlXCIgfVxuICAgICAgOiBnb2FsID09PSBcImZvbGxvd2Vyc1wiXG4gICAgICAgID8geyB2aWV3c19lc3RpbWF0ZTogXCLQoNC+0YHRgiDQv9C+0LTQv9C40YHQvtC6INC/0YDQuCDRgdC10YDQuNC50L3QvtC8INGE0L7RgNC80LDRgtC1LlwiLCBub3RlOiBcImVzdGltYXRlXCIgfVxuICAgICAgICA6IHsgdmlld3NfZXN0aW1hdGU6IFwi0KDQvtGB0YIg0LTQvtGB0LzQvtGC0YDQvtCyINC/0YDQuCDQutC+0YDQvtGC0LrQvtC8INGF0YPQutC1LlwiLCBub3RlOiBcImVzdGltYXRlXCIgfTtcblxuICByZXR1cm4ge1xuICAgIGZvcm1hdF9uYW1lOiB0ZW1wbGF0ZS5uYW1lLFxuICAgIGJlc3RfcGxhdGZvcm1zOiBwbGF0Zm9ybXMsXG4gICAgaG9va19wYXR0ZXJuOiB0ZW1wbGF0ZS5ob29rLFxuICAgIGNvbmZsaWN0OiB0ZW1wbGF0ZS5jb25mbGljdCxcbiAgICBzY3JpcHRfc3RydWN0dXJlOiB7XG4gICAgICBob29rXzBfM3M6IHRlbXBsYXRlLmhvb2ssXG4gICAgICB2YWx1ZV8zXzE1czogdGVtcGxhdGUudmFsdWVCZWF0cy5zbGljZSgwLCAyKSxcbiAgICAgIHByb29mXzE1XzMwczogdGVtcGxhdGUucHJvb2ZCZWF0cy5zbGljZSgwLCAxKSxcbiAgICAgIGN0YVxuICAgIH0sXG4gICAgd2h5X2l0X3dvcmtzX3J1OiB3aHlXb3Jrcy5zbGljZSgwLCAyKSxcbiAgICBhZGFwdGF0aW9uX25vdGVzOiBhZGFwdGF0aW9uLnNsaWNlKDAsIDMpLFxuICAgIHBsYXRmb3JtX3R3ZWFrczogYnVpbGRQbGF0Zm9ybVR3ZWFrcyhwbGF0Zm9ybXMpLFxuICAgIGV4cGVjdGVkX2VmZmVjdDogZWZmZWN0LFxuICAgIGRpZmZpY3VsdHk6IGluZGV4ICUgMyA9PT0gMCA/IFwiZWFzeVwiIDogaW5kZXggJSAzID09PSAxID8gXCJtZWRpdW1cIiA6IFwiaGFyZFwiLFxuICAgIHJldXNlX3BvdGVudGlhbDogaW5kZXggJSAyID09PSAwID8gXCJoaWdoXCIgOiBcIm1pZFwiLFxuICAgIGRvX2FuZF9kb250OiB7XG4gICAgICBkbzogW1wi0KHRgtCw0LLRjCDQutC+0L3RhNC70LjQutGCINCyIDEt0Lkg0YTRgNCw0LfQtS5cIiwgXCLQn9C+0LrQsNC20LggMSDQv9GA0LjQvNC10YAuXCJdLFxuICAgICAgZG9udDogW1wi0J3QtSDQvdCw0YfQuNC90LDQuSDRgSDQv9GA0LjQstC10YLRgdGC0LLQuNGPLlwiLCBcItCd0LUg0YDQsNGB0YLRj9Cz0LjQstCw0Lkg0YTRgNCw0LfRiy5cIl1cbiAgICB9XG4gIH07XG59O1xuXG5jb25zdCBidWlsZEZvcm1hdHMgPSAoaW5wdXQpID0+IHtcbiAgY29uc3QgbWF4Rm9ybWF0c0Jhc2UgPSBNYXRoLm1pbigyMCwgTWF0aC5tYXgoMTAsIGlucHV0LmNvbnN0cmFpbnRzLm1heF9mb3JtYXRzKSk7XG4gIGNvbnN0IG1heEZvcm1hdHMgPVxuICAgIGlucHV0LmNvbnN0cmFpbnRzLm1heF93b3JkcyA8IDQwMFxuICAgICAgPyAxMFxuICAgICAgOiBpbnB1dC5jb25zdHJhaW50cy5tYXhfd29yZHMgPCA1NTBcbiAgICAgICAgPyBNYXRoLm1pbigxMiwgbWF4Rm9ybWF0c0Jhc2UpXG4gICAgICAgIDogbWF4Rm9ybWF0c0Jhc2U7XG4gIGNvbnN0IHNlZWRzID0gYnVpbGRTZWVkUGhyYXNlcyhpbnB1dC5yZWZlcmVuY2VzKTtcbiAgY29uc3QgZm9ybWF0cyA9IFtdO1xuXG4gIGlmIChzZWVkcy5sZW5ndGggPiAwKSB7XG4gICAgc2VlZHMuZm9yRWFjaCgoc2VlZCwgaWR4KSA9PiB7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGJhc2VUZW1wbGF0ZXNbaWR4ICUgYmFzZVRlbXBsYXRlcy5sZW5ndGhdO1xuICAgICAgZm9ybWF0cy5wdXNoKGJ1aWxkRm9ybWF0SXRlbShidWlsZEFuYWxvZ1RlbXBsYXRlKHNlZWQsIHRlbXBsYXRlKSwgaW5wdXQsIGlkeCkpO1xuICAgIH0pO1xuICB9XG5cbiAgbGV0IGluZGV4ID0gZm9ybWF0cy5sZW5ndGg7XG4gIHdoaWxlIChmb3JtYXRzLmxlbmd0aCA8IG1heEZvcm1hdHMpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGJhc2VUZW1wbGF0ZXNbaW5kZXggJSBiYXNlVGVtcGxhdGVzLmxlbmd0aF07XG4gICAgZm9ybWF0cy5wdXNoKGJ1aWxkRm9ybWF0SXRlbSh0ZW1wbGF0ZSwgaW5wdXQsIGluZGV4KSk7XG4gICAgaW5kZXggKz0gMTtcbiAgfVxuXG4gIHJldHVybiBmb3JtYXRzLnNsaWNlKDAsIG1heEZvcm1hdHMpO1xufTtcblxuY29uc3QgYnVpbGRIb29rc0JhbmsgPSAoZ29hbCkgPT4ge1xuICBjb25zdCBiYXNlID0gW1xuICAgIFwi0KHRgtC+0L8uIDEg0L7RiNC40LHQutCwINCyINC90LDRh9Cw0LvQtS5cIixcbiAgICBcItCh0YDQsNC30YMg0Log0LTQtdC70YMuXCIsXG4gICAgXCLQktC+0YIg0LPQtNC1INGC0LXRgNGP0Y7RgtGB0Y8g0L/RgNC+0YHQvNC+0YLRgNGLLlwiLFxuICAgIFwi0JXRgdC70Lgg0LTQtdC70LDQtdGI0Ywg0YLQsNC6IOKAlCDQvNC40LzQvi5cIixcbiAgICBcItCa0L7RgNC+0YLQutC40Lkg0YDQsNC30LHQvtGAINC30LAgMTUg0YHQtdC6LlwiLFxuICAgIFwi0J/QvtC60LDQttGDINC90LAg0L/RgNC40LzQtdGA0LUuXCIsXG4gICAgXCLQndC1INC/0L7QstGC0L7RgNGP0Lkg0Y3RgtC+LlwiLFxuICAgIFwi0JLQvtGCINC/0L7Rh9C10LzRgyDQvdC1INGA0LDQsdC+0YLQsNC10YIuXCIsXG4gICAgXCIzINGB0LvQvtCy0LAsINC60L7RgtC+0YDRi9C1INGD0LHQuNCy0LDRjtGCINGF0YPQui5cIixcbiAgICBcItCU0LLQsCDQstCw0YDQuNCw0L3RgtCwIOKAlCDQvtC00LjQvSDRgNCw0LHQvtGH0LjQuS5cIixcbiAgICBcItCi0LXRgdGCINC90LAgMTAg0YHQtdC60YPQvdC0LlwiLFxuICAgIFwi0JPQtNC1INGA0L7Qu9C40Log0YPQvNC40YDQsNC10YIuXCIsXG4gICAgXCLQodGA0LDQstC90LXQvdC40LUg0LTQvi/Qv9C+0YHQu9C1LlwiLFxuICAgIFwi0KDQsNC30LHQvtGAINC60L7QvNC80LXQvdGC0LAg4oCUINC+0YLQstC10YIuXCIsXG4gICAgXCLQnNC40YQsINC60L7RgtC+0YDRi9C5INC80LXRiNCw0LXRgi5cIixcbiAgICBcIjEg0YTQvtGA0LzRg9C70LAsINC60L7RgtC+0YDQsNGPINGB0L/QsNGB0LDQtdGCLlwiLFxuICAgIFwi0JrQtdC50YEg0LfQsCAyMCDRgdC10LrRg9C90LQuXCIsXG4gICAgXCLQn9C+0LrQsNC20YMg0Y3QutGA0LDQvS5cIixcbiAgICBcItCV0YHQu9C4INGF0L7Rh9C10YjRjCDRgNC10LfRg9C70YzRgtCw0YIg4oCUINGB0LzQvtGC0YDQuC5cIixcbiAgICBcItCS0L7RgiDRh9GC0L4g0LjRgdC/0YDQsNCy0LjRgtGMINC/0YDRj9C80L4g0YHQtdC50YfQsNGBLlwiLFxuICAgIFwi0JPQtNC1INGC0LXRgNGP0LXRgtGB0Y8g0LTQvtCy0LXRgNC40LUuXCIsXG4gICAgXCLQodGA0LDQt9GDINCx0LXQtyDQstGB0YLRg9C/0LvQtdC90LjQuS5cIixcbiAgICBcItCe0YjQuNCx0LrQsCwg0LrQvtGC0L7RgNGD0Y4g0LTQtdC70LDRjtGCINCy0YHQtS5cIixcbiAgICBcItCh0Y3QutC+0L3QvtC80LvRjiA1INC80LjQvdGD0YIuXCIsXG4gICAgXCLQodC60L7Qu9GM0LrQviDRgdC10LrRg9C90LQg0YDQtdGI0LDRjtGCINCy0YHRkT9cIlxuICBdO1xuICBpZiAoZ29hbCA9PT0gXCJmb2xsb3dlcnNcIikgYmFzZS5wdXNoKFwi0J/QvtC00L/QuNGI0LjRgdGMINC30LAg0YHQtdGA0LjRjiDRgNCw0LfQsdC+0YDQvtCyLlwiKTtcbiAgcmV0dXJuIGJhc2U7XG59O1xuXG5jb25zdCBidWlsZFBsYXRmb3JtTm90ZXMgPSAoKSA9PiAoe1xuICBpbnN0YWdyYW1fcmVlbHM6IFtcbiAgICBcItCk0L7QutGD0YEg0L3QsCDQstC40LfRg9Cw0LvRjNC90L7QuSDQtNC40L3QsNC80LjQutC1INC4INC60YDRg9C/0L3Ri9GFINC/0LvQsNC90LDRhS5cIixcbiAgICBcItCi0LXQutGB0YIg0L3QsCDRjdC60YDQsNC90LUg0LTQvtC70LbQtdC9INGH0LjRgtCw0YLRjNGB0Y8g0LHQtdC3INC30LLRg9C60LAg0LfQsCAxINCy0LfQs9C70Y/QtC5cIixcbiAgICBcItCf0LXRgNC10YXQvtC00Ysg0LvRg9GH0YjQtSDRgNC10LfQutC40LUsINGH0LXQvCDQtNC70LjQvdC90YvQtSDRgdC60LvQtdC50LrQuC5cIixcbiAgICBcItCi0YDQtdC90LTQvtCy0YvQuSDQsNGD0LTQuNC+LdGF0YPQuiDRg9GB0LjQu9C40LLQsNC10YIg0LTQvtGB0LzQvtGC0YAuXCIsXG4gICAgXCJDVEEg0LrQvtGA0L7RgtC60LjQuSDQuCDQsiDQutC+0L3RhtC1LCDQsdC10Lcg0L/QtdGA0LXQs9GA0YPQt9CwLlwiXG4gIF0sXG4gIHRpa3RvazogW1xuICAgIFwi0J/QtdGA0LLRi9C1INGB0LvQvtCy0LAg0LTQvtC70LbQvdGLINC30LLRg9GH0LDRgtGMINC60LDQuiDRgdC/0L7RgNC90L7QtSDQvNC90LXQvdC40LUuXCIsXG4gICAgXCLQm9C40YfQvdGL0Lkg0LPQvtC70L7RgSDQsNCy0YLQvtGA0LAg0LLQsNC20L3QtdC1INGB0YLRg9C00LjQudC90L7QuSDQutCw0YDRgtC40L3QutC4LlwiLFxuICAgIFwi0JrQvtC80LzQtdC90YIt0LTQuNCw0LvQvtCzINGA0LDQsdC+0YLQsNC10YIg0LvRg9GH0YjQtSDQv9GA0Y/QvNC+0Lkg0L/RgNC+0LTQsNC20LguXCIsXG4gICAgXCLQoNC10LfQutCw0Y8g0YHQvNC10L3QsCDQv9C70LDQvdC+0LIg0LTQtdGA0LbQuNGCINGD0LTQtdGA0LbQsNC90LjQtS5cIixcbiAgICBcItCk0YDQsNC30Ysg0LTQvtC70LbQvdGLINCx0YvRgtGMINGA0LDQt9Cz0L7QstC+0YDQvdGL0LzQuCwg0L3QtSDRgNC10LrQu9Cw0LzQvdGL0LzQuC5cIlxuICBdLFxuICB5b3V0dWJlX3Nob3J0czogW1xuICAgIFwi0KHQvdCw0YfQsNC70LAg0YLQtdC30LjRgS3QvtCx0LXRidCw0L3QuNC1LCDQt9Cw0YLQtdC8IDLigJMzINCw0YDQs9GD0LzQtdC90YLQsC5cIixcbiAgICBcItCb0L7Qs9C40LrQsCDQuCDRgdGC0YDRg9C60YLRg9GA0LAg0LLQsNC20L3QtdC1INGC0YDQtdC90LTQvtCy0L7Qs9C+INC80L7QvdGC0LDQttCwLlwiLFxuICAgIFwi0JzQuNC90Lgt0L7QsdGK0Y/RgdC90LXQvdC40LUg0LTQvtC/0YPRgdGC0LjQvNC+LCDQtdGB0LvQuCDQtdGB0YLRjCBwcm9vZi5cIixcbiAgICBcItCf0LXRgNC10YXQvtC0INC6IENUQSDRh9C10YDQtdC3INCy0YvQstC+0LQsINCwINC90LUg0YfQtdGA0LXQtyDQvdCw0LbQuNC8LlwiLFxuICAgIFwi0JIg0L3QsNC30LLQsNC90LjQuCDQuCDRgtC10LrRgdGC0LUg0LvRg9GH0YjQtSDQvtGB0YLQsNCy0LjRgtGMINC60LvRjtGH0LXQstC+0Lkg0LfQsNC/0YDQvtGBLlwiXG4gIF0sXG4gIHJ1dHViZTogW1xuICAgIFwi0KLQtdC80L8g0YHRgNC10LTQvdC40Lk6INCw0YPQtNC40YLQvtGA0LjRjyDRgtC10YDQv9C40YIg0YfRg9GC0Ywg0LHQvtC70LXQtSDQtNC70LjQvdC90YvQuSDQt9Cw0YXQvtC0LlwiLFxuICAgIFwi0J/RgNC+0YHRgtGL0LUg0Lgg0YHQv9C+0LrQvtC50L3Ri9C1INGE0L7RgNC80YPQu9C40YDQvtCy0LrQuCDQv9C+0LLRi9GI0LDRjtGCINC00L7QstC10YDQuNC1LlwiLFxuICAgIFwi0J/QvtC70LXQt9C90Ysg0L/RgNCw0LrRgtC40YfQvdGL0LUg0L/RgNC40LzQtdGA0Ysg0LjQtyDQu9C+0LrQsNC70YzQvdC+0LPQviDQutC+0L3RgtC10LrRgdGC0LAuXCIsXG4gICAgXCLQnNC10L3RjNGI0LUg0LLQuNC30YPQsNC70YzQvdC+0LPQviDRiNGD0LzQsCwg0LHQvtC70YzRiNC1INGP0YHQvdC+0Lkg0L/QvtC00LDRh9C4LlwiLFxuICAgIFwiQ1RBINCw0LrQutGD0YDQsNGC0L3Ri9C5OiDCq9C10YHQu9C4INC/0L7Qu9C10LfQvdC+LCDQv9GA0L7QtNC+0LvQttC40LzCuy5cIlxuICBdLFxuICB2a19jbGlwczogW1xuICAgIFwi0JvRg9GH0YjQtSDQt9Cw0YXQvtC00Y/RgiDQv9GA0LjQutC70LDQtNC90YvQtSDQu9C+0LrQsNC70YzQvdGL0LUg0LrQtdC50YHRiy5cIixcbiAgICBcItCi0L7QvSDQvNC+0LbQtdGCINCx0YvRgtGMINC00YDRg9C20LXQu9GO0LHQvdC+LdC00LXQu9C+0LLRi9C8LlwiLFxuICAgIFwi0JjQt9Cx0YvRgtC+0Log0LDQvdCz0LvQuNGG0LjQt9C80L7QsiDQvtCx0YvRh9C90L4g0YHQvdC40LbQsNC10YIg0L7RgtC60LvQuNC6LlwiLFxuICAgIFwi0KPQv9C+0YAg0L3QsCDQv9C+0LvQtdC30L3QvtGB0YLRjCDQuCDQsdGL0YHRgtGA0YvQuSDQstGL0LLQvtC0LlwiLFxuICAgIFwiQ1RBINGH0LXRgNC10Lcg0LrQvtC80LzQtdC90YLQsNGA0LjQuSDQuNC70Lgg0LvQuNGH0LrRgyDQsdC10Lcg0LDQs9GA0LXRgdGB0LjQuC5cIlxuICBdXG59KTtcblxuY29uc3QgYnVpbGRIb29rc0J5UGxhdGZvcm0gPSAobGltaXQpID0+IHtcbiAgY29uc3QgY291bnQgPVxuICAgIHR5cGVvZiBsaW1pdCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUobGltaXQpXG4gICAgICA/IE1hdGgubWluKDEyLCBNYXRoLm1heCgxMCwgTWF0aC5yb3VuZChsaW1pdCkpKVxuICAgICAgOiAxMDtcbiAgY29uc3QgaG9va3MgPSB7XG4gICAgaW5zdGFncmFtX3JlZWxzOiBbXG4gICAgICBcItCh0YLQvtC/LiAxINC+0YjQuNCx0LrQsCDQsiDQvdCw0YfQsNC70LUuXCIsXG4gICAgICBcItCh0YDQsNC30YMg0Log0LTQtdC70YMuXCIsXG4gICAgICBcItCT0LTQtSDRgNC+0LvQuNC6INGD0LzQuNGA0LDQtdGCLlwiLFxuICAgICAgXCLQn9C+0LrQsNC20YMg0L3QsCDQv9GA0LjQvNC10YDQtS5cIixcbiAgICAgIFwi0JTQvi/Qv9C+0YHQu9C1INC30LAgMTAg0YHQtdC60YPQvdC0LlwiLFxuICAgICAgXCLQndC1INC/0L7QstGC0L7RgNGP0Lkg0Y3RgtC+LlwiLFxuICAgICAgXCLQktC+0YIg0YfRgtC+INC40YHQv9GA0LDQstC40YLRjC5cIixcbiAgICAgIFwi0JrQvtGA0L7RgtC60LjQuSDRgNCw0LfQsdC+0YAuXCIsXG4gICAgICBcItCh0LzQvtGC0YDQuCDQtNC+INC60L7QvdGG0LAuXCIsXG4gICAgICBcItCh0LTQtdC70LDQuSDRgtCw0LouXCIsXG4gICAgICBcItCe0YjQuNCx0LrQsCDQsiDQv9C10YDQstC+0Lwg0LrQsNC00YDQtS5cIixcbiAgICAgIFwi0KHQuNC70YzQvdGL0Lkg0YXRg9C6INC30LAgMiDRgdC10LrRg9C90LTRiy5cIlxuICAgIF0sXG4gICAgdGlrdG9rOiBbXG4gICAgICBcItCh0YDQsNC30YMg0LrQvtC90YTQu9C40LrRgjog0LLQvtGCINC+0YjQuNCx0LrQsC5cIixcbiAgICAgIFwi0K8g0LTQtdC70LDQuyDRgtCw0Log4oCUINC4INC30YDRjy5cIixcbiAgICAgIFwi0J/QvtGH0LXQvNGDINGN0YLQviDQvdC1INGA0LDQsdC+0YLQsNC10YIuXCIsXG4gICAgICBcItCf0L7QutCw0LbRgyDRgNC10LDQu9GM0L3Ri9C5INC60LXQudGBLlwiLFxuICAgICAgXCLQndC1INC00LXQu9Cw0Lkg0YLQsNC6LlwiLFxuICAgICAgXCLQmtC+0YDQvtGC0LrQviDQuCDRh9C10YHRgtC90L4uXCIsXG4gICAgICBcItCi0LXRgdGCINC90LAgMTAg0YHQtdC60YPQvdC0LlwiLFxuICAgICAgXCLQktC+0YIg0LPQtNC1INCy0YHQtSDQvtGI0LjQsdCw0Y7RgtGB0Y8uXCIsXG4gICAgICBcItCS0L7RgiDRh9GC0L4g0YHQv9Cw0YHQsNC10YIuXCIsXG4gICAgICBcItCh0LzQvtGC0YDQuCDRgdGO0LTQsC5cIixcbiAgICAgIFwi0JrQvtC90YTQu9C40LrRgiDQv9GA0Y/QvNC+INCyINC/0LXRgNCy0L7QuSDRhNGA0LDQt9C1LlwiLFxuICAgICAgXCLQndC1INC/0L7QstGC0L7RgNGP0Lkg0Y3RgtC+INCyIFRpa1Rvay5cIlxuICAgIF0sXG4gICAgeW91dHViZV9zaG9ydHM6IFtcbiAgICAgIFwi0J7QsdC10YnQsNC90LjQtSDQsiAxINGE0YDQsNC30LUuXCIsXG4gICAgICBcIjMg0YLQtdC30LjRgdCwINC30LAgMjAg0YHQtdC6LlwiLFxuICAgICAgXCLQn9C+0LrQsNC20YMg0LDRgNCz0YPQvNC10L3RgtGLINC4IHByb29mLlwiLFxuICAgICAgXCLQk9C00LUg0YLQtdGA0Y/RjtGC0YHRjyDQv9GA0L7RgdC80L7RgtGA0YsuXCIsXG4gICAgICBcItCh0YDQsNCy0L3QtdC90LjQtSDQkC/QkS5cIixcbiAgICAgIFwi0JrQtdC50YEg0LIgMyDRiNCw0LPQsC5cIixcbiAgICAgIFwi0KTQvtGA0LzRg9C70LAg0YXRg9C60LAuXCIsXG4gICAgICBcItCa0L7RgNC+0YLQutC40Lkg0YfQtdC60LvQuNGB0YIuXCIsXG4gICAgICBcItCg0LDQt9Cx0L7RgCDQvtGI0LjQsdC60LguXCIsXG4gICAgICBcItCR0LXQtyDQstC+0LTRiy5cIixcbiAgICAgIFwiMyDRgtC10LfQuNGB0LAg0Lgg0L7QtNC40L0gcHJvb2YuXCIsXG4gICAgICBcItCT0LTQtSDRgtC10YDRj9C10YLRgdGPINC00L7RgdC80L7RgtGALlwiXG4gICAgXSxcbiAgICBydXR1YmU6IFtcbiAgICAgIFwi0KHQv9C+0LrQvtC50L3QviDRgNCw0LfQsdC10YDRkdC8LlwiLFxuICAgICAgXCLQn9C+0LrQsNC20YMg0L3QsCDQv9GA0LjQvNC10YDQtS5cIixcbiAgICAgIFwi0KfRgtC+INCy0LDQttC90L4g0LIg0L3QsNGH0LDQu9C1LlwiLFxuICAgICAgXCLQkdC10Lcg0YHQu9C+0LbQvdGL0YUg0YHQu9C+0LIuXCIsXG4gICAgICBcItCa0L7RgNC+0YLQutC40Lkg0YDQsNC30LHQvtGALlwiLFxuICAgICAgXCLQk9C00LUg0YLQtdGA0Y/QtdGC0YHRjyDQtNC+0LLQtdGA0LjQtS5cIixcbiAgICAgIFwi0J/RgNC+0YHRgtC+0Lkg0YfQtdC60LvQuNGB0YIuXCIsXG4gICAgICBcItCn0YLQviDQuNGB0L/RgNCw0LLQuNGC0YwuXCIsXG4gICAgICBcItCg0LDQt9Cx0LXRgNGR0Lwg0YjQsNCz0LguXCIsXG4gICAgICBcItCf0L4g0LTQtdC70YMuXCIsXG4gICAgICBcItCe0LTQuNC9INC/0YDQuNC80LXRgCDQstC80LXRgdGC0L4g0YLQtdC+0YDQuNC4LlwiLFxuICAgICAgXCLQn9GA0L7QstC10YDQutCwINC/0LXRgNC10LQg0L/Rg9Cx0LvQuNC60LDRhtC40LXQuS5cIlxuICAgIF0sXG4gICAgdmtfY2xpcHM6IFtcbiAgICAgIFwi0JrQvtGA0L7RgtC60L4g0Lgg0L/QviDQtNC10LvRgy5cIixcbiAgICAgIFwi0JLQvtGCINCz0LTQtSDQvtGI0LjQsdC60LAuXCIsXG4gICAgICBcItCh0YDQsNC30YMg0Log0YHRg9GC0LguXCIsXG4gICAgICBcItCf0L7QutCw0LbRgyDQv9GA0LjQvNC10YAuXCIsXG4gICAgICBcItCg0LDQt9Cx0L7RgCDQt9CwIDE1INGB0LXQui5cIixcbiAgICAgIFwi0J3QtSDQtNC10LvQsNC5INGC0LDQui5cIixcbiAgICAgIFwi0J/RgNC+0YHRgtC+0Lkg0YfQtdC60LvQuNGB0YIuXCIsXG4gICAgICBcItCS0L7RgiDQutCw0Log0LvRg9GH0YjQtS5cIixcbiAgICAgIFwi0JLQsNGA0LjQsNC90YIg0JAv0JEuXCIsXG4gICAgICBcItCh0LzQvtGC0YDQuC5cIixcbiAgICAgIFwi0JvQvtC60LDQu9GM0L3Ri9C5INC60LXQudGBINCx0LXQtyDQv9Cw0YTQvtGB0LAuXCIsXG4gICAgICBcItCT0LTQtSDRgtC10YDRj9GO0YLRgdGPINC30LDRj9Cy0LrQuC5cIlxuICAgIF1cbiAgfTtcblxuICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIE9iamVjdC5lbnRyaWVzKGhvb2tzKS5tYXAoKFtrZXksIGl0ZW1zXSkgPT4gW2tleSwgaXRlbXMuc2xpY2UoMCwgY291bnQpXSlcbiAgKTtcbn07XG5cbmNvbnN0IGJ1aWxkQ3RhQmFuayA9IChnb2FsKSA9PiB7XG4gIGlmIChnb2FsID09PSBcImxlYWRzXCIpIHtcbiAgICByZXR1cm4gW1xuICAgICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0YjQsNCx0LvQvtC9XFxcIlwiLFxuICAgICAgXCLQkiDQu9C40YfQutGDIFxcXCLRgNCw0LfQsdC+0YBcXFwiXCIsXG4gICAgICBcItCa0L7QvNC80LXQvdGCIFxcXCLRhdC+0YfRg1xcXCJcIixcbiAgICAgIFwi0J3QsNC/0LjRiNC4IFxcXCLRh9C10LrQu9C40YHRglxcXCJcIixcbiAgICAgIFwi0KHQutC40L3RjCDQv9GA0LjQvNC10YAg0LIg0LvQuNGH0LrRg1wiLFxuICAgICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0L/RgNC40LzQtdGAXFxcIlwiLFxuICAgICAgXCLQkiDQu9C40YfQutGDIFxcXCLQsNGD0LTQuNGCXFxcIlwiLFxuICAgICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0YTQvtGA0LzRg9C70LBcXFwiXCIsXG4gICAgICBcItCh0LrQuNC90Ywg0YHQutGA0LjQvSDigJQg0YDQsNC30LHQtdGA0YNcIixcbiAgICAgIFwi0JrQvtC80LzQtdC90YIgXFxcItC+0YjQuNCx0LrQsFxcXCJcIixcbiAgICAgIFwi0JrQvtC80LzQtdC90YIgXFxcItC60LXQudGBXFxcIlwiLFxuICAgICAgXCLQkiDQu9C40YfQutGDIFxcXCLRiNCw0LPQuFxcXCJcIixcbiAgICAgIFwi0JrQvtC80LzQtdC90YIgXFxcItC/0YDQvtCy0LXRgNC60LBcXFwiXCIsXG4gICAgICBcItCh0LrQuNC90Ywg0L3QuNGI0YMg4oCUINC/0L7QtNCx0LXRgNGDINGE0L7RgNC80LDRglwiLFxuICAgICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0YLQtdGB0YJcXFwiXCIsXG4gICAgICBcItCSINC70LjRh9C60YMgXFxcItGB0YLRgNGD0LrRgtGD0YDQsFxcXCJcIixcbiAgICAgIFwi0JrQvtC80LzQtdC90YIgXFxcItGF0L7Rh9GDINGE0L7RgNC80LDRglxcXCJcIlxuICAgIF07XG4gIH1cbiAgcmV0dXJuIFtcbiAgICBcItCh0L7RhdGA0LDQvdC4XCIsXG4gICAgXCLQn9C+0LTQv9C40YjQuNGB0YxcIixcbiAgICBcItCa0L7QvNC80LXQvdGCIFxcXCLQv9C+0LvQtdC30L3QvlxcXCJcIixcbiAgICBcItCh0L7RhdGA0LDQvdC4INC4INC/0L7QstGC0L7RgNC4XCIsXG4gICAgXCLQn9C+0LTQv9C40YjQuNGB0Ywg0LfQsCDRgdC10YDQuNGOXCIsXG4gICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0YjQsNCx0LvQvtC9XFxcIlwiLFxuICAgIFwi0KHQvtGF0YDQsNC90Lgg0L3QsCDQv9C+0YLQvtC8XCIsXG4gICAgXCLQn9C+0LTQv9C40YjQuNGB0YwsINC10YHQu9C4INCyINGC0LXQvNC1XCIsXG4gICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0L/RgNC40LzQtdGAXFxcIlwiLFxuICAgIFwi0KHQvtGF0YDQsNC90LjRgtGMINGH0LXQutC70LjRgdGCXCIsXG4gICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0LTQsFxcXCJcIixcbiAgICBcItCf0L7QtNC/0LjRiNC40YHRjCDQuCDQttC80Lgg0LrQvtC70L7QutC+0LtcIixcbiAgICBcItCa0L7QvNC80LXQvdGCIFxcXCLRhdC+0YfRgyDQv9GA0L7QtNC+0LvQttC10L3QuNC1XFxcIlwiLFxuICAgIFwi0KHQvtGF0YDQsNC90Lgg0Lgg0L7RgtC/0YDQsNCy0Ywg0LTRgNGD0LPRg1wiLFxuICAgIFwi0JrQvtC80LzQtdC90YIgXFxcItC/0L7Qu9C10LfQvdC+P1xcXCJcIixcbiAgICBcItCf0L7QtNC/0LjRiNC40YHRjCDQvdCwINGA0LDQt9Cx0L7RgNGLXCIsXG4gICAgXCLQmtC+0LzQvNC10L3RgiBcXFwi0YDQsNC30LHQvtGAXFxcIlwiXG4gIF07XG59O1xuXG5jb25zdCBidWlsZFBpdGZhbGxzID0gKCkgPT4gW1xuICBcItCh0LvQuNGI0LrQvtC8INC00LvQuNC90L3QvtC1INCy0YHRgtGD0L/Qu9C10L3QuNC1XCIsXG4gIFwi0J7QsdC10YnQsNC90LjRjyDQsdC10Lcg0LTQvtC60LDQt9Cw0YLQtdC70YzRgdGC0LJcIixcbiAgXCIz4oCTNCBDVEEg0LIg0L7QtNC90L7QvCDRgNC+0LvQuNC60LVcIixcbiAgXCLQodC70LjRiNC60L7QvCDQvtCx0YnQuNC1INGE0L7RgNC80YPQu9C40YDQvtCy0LrQuFwiLFxuICBcItCe0YLRgdGD0YLRgdGC0LLQuNC1INC60L7QvdC60YDQtdGC0LjQutC4L9GG0LjRhNGAXCIsXG4gIFwi0KHQu9Cw0LHRi9C5INGF0YPQuiDQsdC10Lcg0LrQvtC90YTQu9C40LrRgtCwXCIsXG4gIFwi0JzQtdC00LvQtdC90L3Ri9C5INGC0LXQvNC/XCIsXG4gIFwi0J/QtdGA0LXQs9GA0YPQttC10L3QvdGL0Lkg0Y3QutGA0LDQvVwiLFxuICBcItCd0LXRgiDQv9GA0LjQvNC10YDQsFwiLFxuICBcItCh0LvQuNGI0LrQvtC8INGB0LvQvtC20L3Ri9C1INGC0LXRgNC80LjQvdGLXCIsXG4gIFwi0J3QtdGCINC+0YDQuNC10L3RgtC40YDQsCDQv9C+INGG0LXQu9C4XCIsXG4gIFwi0JrQvtC/0LjRgNC+0LLQsNC90LjQtSDRh9GD0LbQvtCz0L4g0YLQtdC60YHRgtCwXCJcbl07XG5cbmNvbnN0IHByaW9yaXRpemVGb3JtYXRzID0gKGZvcm1hdHMsIHByaW9yaXR5KSA9PiB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwcmlvcml0eSkgfHwgcHJpb3JpdHkubGVuZ3RoID09PSAwKSByZXR1cm4gZm9ybWF0cztcbiAgY29uc3QgaW5kZXhPZlBsYXRmb3JtID0gKGZvcm1hdCkgPT4ge1xuICAgIGNvbnN0IGxpc3QgPSBBcnJheS5pc0FycmF5KGZvcm1hdC5iZXN0X3BsYXRmb3JtcykgPyBmb3JtYXQuYmVzdF9wbGF0Zm9ybXMgOiBbXTtcbiAgICBsZXQgYmVzdCA9IEluZmluaXR5O1xuICAgIGxpc3QuZm9yRWFjaCgocGxhdGZvcm0pID0+IHtcbiAgICAgIGNvbnN0IGlkeCA9IHByaW9yaXR5LmluZGV4T2YocGxhdGZvcm0pO1xuICAgICAgaWYgKGlkeCAhPT0gLTEgJiYgaWR4IDwgYmVzdCkgYmVzdCA9IGlkeDtcbiAgICB9KTtcbiAgICByZXR1cm4gYmVzdDtcbiAgfTtcbiAgcmV0dXJuIGZvcm1hdHNcbiAgICAubWFwKChpdGVtLCBpZHgpID0+ICh7IGl0ZW0sIGlkeCwgcHJpbzogaW5kZXhPZlBsYXRmb3JtKGl0ZW0pIH0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBpZiAoYS5wcmlvID09PSBiLnByaW8pIHJldHVybiBhLmlkeCAtIGIuaWR4O1xuICAgICAgaWYgKGEucHJpbyA9PT0gSW5maW5pdHkpIHJldHVybiAxO1xuICAgICAgaWYgKGIucHJpbyA9PT0gSW5maW5pdHkpIHJldHVybiAtMTtcbiAgICAgIHJldHVybiBhLnByaW8gLSBiLnByaW87XG4gICAgfSlcbiAgICAubWFwKChlbnRyeSkgPT4gZW50cnkuaXRlbSk7XG59O1xuXG5jb25zdCByZXNvbHZlUmVjb21tZW5kYXRpb25TaXplcyA9IChtYXhXb3JkcykgPT4ge1xuICBpZiAobWF4V29yZHMgPCA0MjApIHtcbiAgICByZXR1cm4geyBob29rc0Jhbms6IDEyLCBob29rc0J5UGxhdGZvcm06IDEwLCBjdGFCYW5rOiAxMCwgcGxhdGZvcm1Ob3RlczogMyB9O1xuICB9XG4gIGlmIChtYXhXb3JkcyA8IDYwMCkge1xuICAgIHJldHVybiB7IGhvb2tzQmFuazogMjAsIGhvb2tzQnlQbGF0Zm9ybTogMTAsIGN0YUJhbms6IDEyLCBwbGF0Zm9ybU5vdGVzOiA0IH07XG4gIH1cbiAgcmV0dXJuIHsgaG9va3NCYW5rOiAzMCwgaG9va3NCeVBsYXRmb3JtOiAxMiwgY3RhQmFuazogMTUsIHBsYXRmb3JtTm90ZXM6IDUgfTtcbn07XG5cbmNvbnN0IGJ1aWxkRm9ybWF0Umlza3NCeVBsYXRmb3JtID0gKCkgPT4gKHtcbiAgaW5zdGFncmFtX3JlZWxzOiBbXG4gICAgXCLQodC70LjRiNC60L7QvCDQtNC70LjQvdC90YvQuSDQv9C10YDQstGL0Lkg0LrQsNC00YAg0YHQvdC40LbQsNC10YIg0YPQtNC10YDQttCw0L3QuNC1LlwiLFxuICAgIFwi0J/QtdGA0LXQs9GA0YPQttC10L3QvdGL0Lkg0YLQtdC60YHRgiDQvdCwINGN0LrRgNCw0L3QtSDQv9C70L7RhdC+INGH0LjRgtCw0LXRgtGB0Y8g0LIg0LvQtdC90YLQtS5cIlxuICBdLFxuICB0aWt0b2s6IFtcbiAgICBcItCh0LvQuNGI0LrQvtC8IMKr0YDQtdC60LvQsNC80L3Ri9C5wrsg0YLQvtC9INGA0LXQttC10YIg0L7RgNCz0LDQvdC40LrRgy5cIixcbiAgICBcItCd0LXRgiDQutC+0L3RhNC70LjQutGC0LAg0LIg0L3QsNGH0LDQu9C1IOKAlCDQsdGL0YHRgtGA0YvQuSDRgdC60YDQvtC70Lsg0LzQuNC80L4uXCJcbiAgXSxcbiAgeW91dHViZV9zaG9ydHM6IFtcbiAgICBcItCh0LvQsNCx0LDRjyDQu9C+0LPQuNC60LAg0LDRgNCz0YPQvNC10L3RgtC+0LIg0YHQvdC40LbQsNC10YIg0LTQvtGB0LzQvtGC0YAuXCIsXG4gICAgXCLQntGC0YHRg9GC0YHRgtCy0LjQtSBwcm9vZiDQsiDRgdC10YDQtdC00LjQvdC1INGD0LHQuNCy0LDQtdGCINC00L7QstC10YDQuNC1LlwiXG4gIF0sXG4gIHJ1dHViZTogW1xuICAgIFwi0KHQu9C40YjQutC+0Lwg0LHRi9GB0YLRgNGL0Lkg0LzQvtC90YLQsNC2INC80L7QttC10YIg0LLRi9Cz0LvRj9C00LXRgtGMINGI0YPQvNC90L4uXCIsXG4gICAgXCLQodC70L7QttC90YvQtSDRgtC10YDQvNC40L3RiyDQsdC10Lcg0YDQsNGB0YjQuNGE0YDQvtCy0LrQuCDRgdC90LjQttCw0Y7RgiDQstC+0LLQu9C10YfQtdC90LjQtS5cIlxuICBdLFxuICB2a19jbGlwczogW1xuICAgIFwi0J/QsNGE0L7RgdC90YvQtSDRhNC+0YDQvNGD0LvQuNGA0L7QstC60Lgg0Lgg0LrQu9C40YjQtSDRgdC90LjQttCw0Y7RgiDQvtGC0LrQu9C40LouXCIsXG4gICAgXCLQkdC10Lcg0LvQvtC60LDQu9GM0L3QvtC5INC60L7QvdC60YDQtdGC0LjQutC4INGA0L7Qu9C40Log0LLQvtGB0L/RgNC40L3QuNC80LDQtdGC0YHRjyDQutCw0Log0YjQsNCx0LvQvtC9LlwiXG4gIF1cbn0pO1xuXG5jb25zdCBidWlsZFRvcDVXaXRoUHJpb3JpdHkgPSAocHJpb3JpdGl6ZWRGb3JtYXRzLCBwbGF0Zm9ybVByaW9yaXR5KSA9PiB7XG4gIGNvbnN0IGxpc3QgPSBBcnJheS5pc0FycmF5KHByaW9yaXRpemVkRm9ybWF0cykgPyBwcmlvcml0aXplZEZvcm1hdHMgOiBbXTtcbiAgY29uc3QgcHJpb3JpdHkgPSBBcnJheS5pc0FycmF5KHBsYXRmb3JtUHJpb3JpdHkpID8gcGxhdGZvcm1Qcmlvcml0eSA6IFtdO1xuICBpZiAoIXByaW9yaXR5Lmxlbmd0aCkge1xuICAgIHJldHVybiBsaXN0LnNsaWNlKDAsIDUpLm1hcCgoaXRlbSkgPT4gaXRlbS5mb3JtYXRfbmFtZSk7XG4gIH1cblxuICBjb25zdCBwcmlvcml0eUZvcm1hdHMgPSBsaXN0LmZpbHRlcigoaXRlbSkgPT5cbiAgICBBcnJheS5pc0FycmF5KGl0ZW0uYmVzdF9wbGF0Zm9ybXMpICYmIGl0ZW0uYmVzdF9wbGF0Zm9ybXMuc29tZSgocGxhdGZvcm0pID0+IHByaW9yaXR5LmluY2x1ZGVzKHBsYXRmb3JtKSlcbiAgKTtcbiAgY29uc3Qgbm9uUHJpb3JpdHlGb3JtYXRzID0gbGlzdC5maWx0ZXIoKGl0ZW0pID0+ICFwcmlvcml0eUZvcm1hdHMuaW5jbHVkZXMoaXRlbSkpO1xuICBjb25zdCBzZWxlY3RlZCA9IFtdO1xuICBwcmlvcml0eUZvcm1hdHMuc2xpY2UoMCwgMykuZm9yRWFjaCgoaXRlbSkgPT4gc2VsZWN0ZWQucHVzaChpdGVtKSk7XG5cbiAgY29uc3QgcG9vbCA9IFsuLi5wcmlvcml0eUZvcm1hdHMuc2xpY2UoMyksIC4uLm5vblByaW9yaXR5Rm9ybWF0c107XG4gIGZvciAoY29uc3QgaXRlbSBvZiBwb29sKSB7XG4gICAgaWYgKHNlbGVjdGVkLmxlbmd0aCA+PSA1KSBicmVhaztcbiAgICBzZWxlY3RlZC5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgd2hpbGUgKHNlbGVjdGVkLmxlbmd0aCA8IDUgJiYgbGlzdFtzZWxlY3RlZC5sZW5ndGhdKSB7XG4gICAgc2VsZWN0ZWQucHVzaChsaXN0W3NlbGVjdGVkLmxlbmd0aF0pO1xuICB9XG5cbiAgcmV0dXJuIHNlbGVjdGVkLnNsaWNlKDAsIDUpLm1hcCgoaXRlbSkgPT4gaXRlbS5mb3JtYXRfbmFtZSk7XG59O1xuXG5jb25zdCBidWlsZFJlY29tbWVuZGF0aW9ucyA9IChmb3JtYXRzLCBpbnB1dCwgc2l6ZU92ZXJyaWRlKSA9PiB7XG4gIGNvbnN0IHByaW9yaXRpemVkID0gcHJpb3JpdGl6ZUZvcm1hdHMoZm9ybWF0cywgaW5wdXQucGxhdGZvcm1fcHJpb3JpdHkpO1xuICBjb25zdCB0b3AgPSBidWlsZFRvcDVXaXRoUHJpb3JpdHkocHJpb3JpdGl6ZWQsIGlucHV0LnBsYXRmb3JtX3ByaW9yaXR5KTtcbiAgY29uc3Qgd2VlayA9IHByaW9yaXRpemVkLnNsaWNlKDAsIDcpLm1hcCgoaXRlbSwgaWR4KSA9PiB7XG4gICAgY29uc3QgcGxhdGZvcm1MYWJlbCA9XG4gICAgICBBcnJheS5pc0FycmF5KGl0ZW0uYmVzdF9wbGF0Zm9ybXMpICYmIGl0ZW0uYmVzdF9wbGF0Zm9ybXMubGVuZ3RoXG4gICAgICAgID8gaXRlbS5iZXN0X3BsYXRmb3Jtcy5qb2luKFwiLCBcIilcbiAgICAgICAgOiBcInBsYXRmb3JtXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRheTogYEQke2lkeCArIDF9YCxcbiAgICAgIGZvcm1hdF9uYW1lOiBpdGVtLmZvcm1hdF9uYW1lLFxuICAgICAgcGxhdGZvcm06IHBsYXRmb3JtTGFiZWxcbiAgICB9O1xuICB9KTtcbiAgY29uc3Qgc2l6ZXMgPSBzaXplT3ZlcnJpZGUgPz8gcmVzb2x2ZVJlY29tbWVuZGF0aW9uU2l6ZXMoaW5wdXQuY29uc3RyYWludHMubWF4X3dvcmRzKTtcbiAgY29uc3QgcGxhdGZvcm1Ob3RlcyA9IGJ1aWxkUGxhdGZvcm1Ob3RlcygpO1xuICBjb25zdCBsaW1pdGVkUGxhdGZvcm1Ob3RlcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhwbGF0Zm9ybU5vdGVzKS5tYXAoKFtrZXksIGl0ZW1zXSkgPT4gW2tleSwgaXRlbXMuc2xpY2UoMCwgc2l6ZXMucGxhdGZvcm1Ob3RlcyldKVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgdG9wXzVfdG9fc3RhcnQ6IHRvcCxcbiAgICBjb250ZW50X21peF93ZWVrOiB3ZWVrLFxuICAgIGhvb2tzX2Jhbms6IGJ1aWxkSG9va3NCYW5rKGlucHV0LmdvYWwpLnNsaWNlKDAsIHNpemVzLmhvb2tzQmFuayksXG4gICAgaG9va3NfYnlfcGxhdGZvcm06IGJ1aWxkSG9va3NCeVBsYXRmb3JtKHNpemVzLmhvb2tzQnlQbGF0Zm9ybSksXG4gICAgZm9ybWF0X3Jpc2tzX2J5X3BsYXRmb3JtOiBidWlsZEZvcm1hdFJpc2tzQnlQbGF0Zm9ybSgpLFxuICAgIGN0YV9iYW5rOiBidWlsZEN0YUJhbmsoaW5wdXQuZ29hbCkuc2xpY2UoMCwgc2l6ZXMuY3RhQmFuayksXG4gICAgcGl0ZmFsbHNfcnU6IGJ1aWxkUGl0ZmFsbHMoKS5zbGljZSgwLCA4KSxcbiAgICBwbGF0Zm9ybV9ub3RlczogbGltaXRlZFBsYXRmb3JtTm90ZXNcbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkTWV0YSA9IChpbnB1dCwgd2l0aGluTWF4V29yZHMsIGZvcm1hdHNDb3VudE9rLCBuZWVkc1JldmlldywgbGltaXRhdGlvbnMpID0+IHtcbiAgY29uc3QgcmVmcyA9IGlucHV0LnJlZmVyZW5jZXM7XG4gIGNvbnN0IGlucHV0UXVhbGl0eSA9IHJlZnMudHJhbnNjcmlwdHMubGVuZ3RoXG4gICAgPyBcImhpZ2hcIlxuICAgIDogcmVmcy50aGVtZXMubGVuZ3RoIHx8IHJlZnMuZm9ybWF0c19saWtlZC5sZW5ndGggfHwgcmVmcy5jcmVhdG9ycy5sZW5ndGhcbiAgICAgID8gXCJtZWRpdW1cIlxuICAgICAgOiBpbnB1dC5uaWNoZVxuICAgICAgICA/IFwibWVkaXVtXCJcbiAgICAgICAgOiBcImxvd1wiO1xuXG4gIGNvbnN0IGFzc3VtcHRpb25zID0gW1xuICAgIFwi0JTQu9C40L3QsCDRgNC+0LvQuNC60LAg0LTQviAzMCDRgdC10LouXCIsXG4gICAgXCJSVSDQsNGD0LTQuNGC0L7RgNC40Y8uXCIsXG4gICAgYNCf0LvQsNGC0YTQvtGA0LzRizogJHtpbnB1dC5wbGF0Zm9ybXMuam9pbihcIiwgXCIpfS5gXG4gIF07XG5cbiAgcmV0dXJuIHtcbiAgICBnZW5lcmF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBpbnB1dF9xdWFsaXR5OiBpbnB1dFF1YWxpdHksXG4gICAgbmVlZHNSZXZpZXcsXG4gICAgbGltaXRhdGlvbnMsXG4gICAgYXNzdW1wdGlvbnMsXG4gICAgcXVhbGl0eV9jaGVja3M6IHtcbiAgICAgIHdpdGhpbl9tYXhfd29yZHM6IHdpdGhpbk1heFdvcmRzLFxuICAgICAgbm9fZmx1ZmY6IGlucHV0LmNvbnN0cmFpbnRzLm5vX2ZsdWZmICE9PSBmYWxzZSxcbiAgICAgIGZvcm1hdHNfY291bnRfb2s6IGZvcm1hdHNDb3VudE9rLFxuICAgICAgcGxhdGZvcm1zX3N1cHBvcnRlZF9vazpcbiAgICAgICAgaW5wdXQucGxhdGZvcm1zLmV2ZXJ5KChpdGVtKSA9PiBQTEFURk9STV9MSVNULmluY2x1ZGVzKGl0ZW0pKSAmJlxuICAgICAgICBpbnB1dC5wbGF0Zm9ybV9wcmlvcml0eS5ldmVyeSgoaXRlbSkgPT4gUExBVEZPUk1fTElTVC5pbmNsdWRlcyhpdGVtKSlcbiAgICB9XG4gIH07XG59O1xuXG5jb25zdCBidWlsZEVtcHR5T3V0cHV0ID0gKGlucHV0LCBxdWVzdGlvbikgPT4ge1xuICBjb25zdCBhc2sgPSBxdWVzdGlvbiB8fCBcItCa0LDQutCw0Y8g0L3QuNGI0LAg0Lgg0YbQtdC70YwgKNC70LjQtNGLL9C/0YDQvtGB0LzQvtGC0YDRiy/Qv9C+0LTQv9C40YHQutC4KT9cIjtcbiAgcmV0dXJuIHtcbiAgICBmb3JtYXRzOiBbXSxcbiAgICByZWNvbW1lbmRhdGlvbnM6IHtcbiAgICAgIHRvcF81X3RvX3N0YXJ0OiBbXSxcbiAgICAgIGNvbnRlbnRfbWl4X3dlZWs6IFtdLFxuICAgICAgaG9va3NfYmFuazogW10sXG4gICAgICBob29rc19ieV9wbGF0Zm9ybTogYnVpbGRIb29rc0J5UGxhdGZvcm0oMTApLFxuICAgICAgZm9ybWF0X3Jpc2tzX2J5X3BsYXRmb3JtOiBidWlsZEZvcm1hdFJpc2tzQnlQbGF0Zm9ybSgpLFxuICAgICAgY3RhX2Jhbms6IFtdLFxuICAgICAgcGl0ZmFsbHNfcnU6IGJ1aWxkUGl0ZmFsbHMoKS5zbGljZSgwLCA4KVxuICAgIH0sXG4gICAgbWV0YToge1xuICAgICAgZ2VuZXJhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBpbnB1dF9xdWFsaXR5OiBcImxvd1wiLFxuICAgICAgbmVlZHNSZXZpZXc6IHRydWUsXG4gICAgICBsaW1pdGF0aW9uczogW2Fza10sXG4gICAgICBhc3N1bXB0aW9uczogW1wi0JTQu9C40L3QsCDRgNC+0LvQuNC60LAg0LTQviAzMCDRgdC10LouXCIsIFwiUlUg0LDRg9C00LjRgtC+0YDQuNGPLlwiXSxcbiAgICAgIHF1YWxpdHlfY2hlY2tzOiB7XG4gICAgICAgIHdpdGhpbl9tYXhfd29yZHM6IHRydWUsXG4gICAgICAgIG5vX2ZsdWZmOiBpbnB1dC5jb25zdHJhaW50cy5ub19mbHVmZiAhPT0gZmFsc2UsXG4gICAgICAgIGZvcm1hdHNfY291bnRfb2s6IGZhbHNlLFxuICAgICAgICBwbGF0Zm9ybXNfc3VwcG9ydGVkX29rOiBpbnB1dC5wbGF0Zm9ybXMuZXZlcnkoKGl0ZW0pID0+IFBMQVRGT1JNX0xJU1QuaW5jbHVkZXMoaXRlbSkpXG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuY29uc3QgZ2VuZXJhdGVPdXRwdXQgPSBhc3luYyAocmF3SW5wdXQgPSB7fSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGlucHV0ID0gbm9ybWFsaXplSW5wdXQocmF3SW5wdXQpO1xuICBjb25zdCByZWZzID0gaW5wdXQucmVmZXJlbmNlcztcbiAgY29uc3QgaGFzTGlua1JlZiA9IGhhc0xpbmtzKFsuLi5yZWZzLnRoZW1lcywgLi4ucmVmcy50cmFuc2NyaXB0cywgLi4ucmVmcy5jcmVhdG9ycywgLi4ucmVmcy5mb3JtYXRzX2xpa2VkXSk7XG4gIGNvbnN0IG1pc3NpbmdDb3JlID0gIWlucHV0Lm5pY2hlICYmIHJlZnMudGhlbWVzLmxlbmd0aCA9PT0gMCAmJiByZWZzLnRyYW5zY3JpcHRzLmxlbmd0aCA9PT0gMDtcblxuICBpZiAobWlzc2luZ0NvcmUpIHtcbiAgICBjb25zdCBxdWVzdGlvbiA9IGhhc0xpbmtSZWZcbiAgICAgID8gXCLQmtCw0LrQsNGPINC90LjRiNCwINC4INGG0LXQu9GMICjQu9C40LTRiy/Qv9GA0L7RgdC80L7RgtGA0Ysv0L/QvtC00L/QuNGB0LrQuCk/INCV0YHQu9C4INC10YHRgtGMINGC0L7Qu9GM0LrQviDRgdGB0YvQu9C60LAg4oCUINC/0YDQuNGI0LvQuCDRgtGA0LDQvdGB0LrRgNC40L/Rgi/QvtC/0LjRgdCw0L3QuNC1LlwiXG4gICAgICA6IFwi0JrQsNC60LDRjyDQvdC40YjQsCDQuCDRhtC10LvRjCAo0LvQuNC00Ysv0L/RgNC+0YHQvNC+0YLRgNGLL9C/0L7QtNC/0LjRgdC60LgpP1wiO1xuICAgIGNvbnN0IG91dHB1dCA9IGJ1aWxkRW1wdHlPdXRwdXQoaW5wdXQsIHF1ZXN0aW9uKTtcbiAgICBhcHBseUJ1ZGdldE1ldGEob3V0cHV0Lm1ldGEsIGlucHV0KTtcbiAgICByZXR1cm4geyBvdXRwdXQ6IHdyYXBPdXRwdXQob3V0cHV0LCBpbnB1dCksIGVmZmVjdGl2ZUlucHV0OiBpbnB1dCB9O1xuICB9XG5cbiAgbGV0IGZvcm1hdHMgPSBidWlsZEZvcm1hdHMoaW5wdXQpO1xuICBsZXQgc2l6ZXMgPSByZXNvbHZlUmVjb21tZW5kYXRpb25TaXplcyhpbnB1dC5jb25zdHJhaW50cy5tYXhfd29yZHMpO1xuICBsZXQgcmVjb21tZW5kYXRpb25zID0gYnVpbGRSZWNvbW1lbmRhdGlvbnMoZm9ybWF0cywgaW5wdXQsIHNpemVzKTtcblxuICBjb25zdCBsaW1pdGF0aW9ucyA9IFtdO1xuICBpZiAoaGFzTGlua1JlZiAmJiByZWZzLnRyYW5zY3JpcHRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGxpbWl0YXRpb25zLnB1c2goXCLQldGB0YLRjCDRgdGB0YvQu9C60Lgg0LHQtdC3INGC0YDQsNC90YHQutGA0LjQv9GC0LA6INC/0YDQuNGI0LvQuCDQvtC/0LjRgdCw0L3QuNC1L9GC0LXQutGB0YIuXCIpO1xuICB9XG5cbiAgY29uc3QgbWF4Rm9ybWF0cyA9IE1hdGgubWluKDIwLCBNYXRoLm1heCgxMCwgaW5wdXQuY29uc3RyYWludHMubWF4X2Zvcm1hdHMpKTtcbiAgbGV0IGZvcm1hdHNDb3VudE9rID0gZm9ybWF0cy5sZW5ndGggPj0gMTAgJiYgZm9ybWF0cy5sZW5ndGggPD0gbWF4Rm9ybWF0cztcbiAgbGV0IGJhc2VPdXRwdXQgPSB7XG4gICAgZm9ybWF0cyxcbiAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgbWV0YTogYnVpbGRNZXRhKGlucHV0LCB0cnVlLCBmb3JtYXRzQ291bnRPaywgZmFsc2UsIGxpbWl0YXRpb25zKVxuICB9O1xuXG4gIGNvbnN0IHByZXNlcnZlUmVzdWx0ID0gY29tcHJlc3NQcmVzZXJ2ZVNoYXBlKGJhc2VPdXRwdXQsIHtcbiAgICBtYXhfd29yZHM6IGlucHV0LmNvbnN0cmFpbnRzLm1heF93b3JkcyxcbiAgICBwcmlvcml0aWVzOiB7XG4gICAgICBzZWNvbmRhcnlfZmllbGRzOiBbXCJ3aHlfcnVcIl0sXG4gICAgICBhcnJheV9taW5pbXVtczoge1xuICAgICAgICBmb3JtYXRzOiAxMCxcbiAgICAgICAgXCJyZWNvbW1lbmRhdGlvbnMuY29udGVudF9taXhfd2Vla1wiOiA1LFxuICAgICAgICBcInJlY29tbWVuZGF0aW9ucy5ob29rc19iYW5rXCI6IDgsXG4gICAgICAgIFwicmVjb21tZW5kYXRpb25zLmN0YV9iYW5rXCI6IDYsXG4gICAgICAgIFwicmVjb21tZW5kYXRpb25zLnBpdGZhbGxzX3J1XCI6IDZcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGxpbWl0UmVzdWx0ID0gcHJlc2VydmVSZXN1bHQud2l0aGluXG4gICAgPyB7IG91dHB1dDogcHJlc2VydmVSZXN1bHQub3V0cHV0LCB3aXRoaW46IHRydWUgfVxuICAgIDogYXBwbHlXb3JkTGltaXQocHJlc2VydmVSZXN1bHQub3V0cHV0LCBpbnB1dC5jb25zdHJhaW50cy5tYXhfd29yZHMpO1xuICBjb25zdCB3aXRoaW5NYXhXb3JkcyA9IGxpbWl0UmVzdWx0LndpdGhpbjtcbiAgZm9ybWF0c0NvdW50T2sgPVxuICAgIEFycmF5LmlzQXJyYXkobGltaXRSZXN1bHQub3V0cHV0LmZvcm1hdHMpICYmXG4gICAgbGltaXRSZXN1bHQub3V0cHV0LmZvcm1hdHMubGVuZ3RoID49IDEwICYmXG4gICAgbGltaXRSZXN1bHQub3V0cHV0LmZvcm1hdHMubGVuZ3RoIDw9IG1heEZvcm1hdHM7XG5cbiAgY29uc3Qgb3V0cHV0ID0ge1xuICAgIC4uLmxpbWl0UmVzdWx0Lm91dHB1dCxcbiAgICBtZXRhOiBidWlsZE1ldGEoXG4gICAgICBpbnB1dCxcbiAgICAgIHdpdGhpbk1heFdvcmRzLFxuICAgICAgZm9ybWF0c0NvdW50T2ssXG4gICAgICBmYWxzZSxcbiAgICAgIGxpbWl0UmVzdWx0Lm91dHB1dC5tZXRhPy5saW1pdGF0aW9ucyA/PyBsaW1pdGF0aW9uc1xuICAgIClcbiAgfTtcblxuICBpZiAoIXdpdGhpbk1heFdvcmRzKSB7XG4gICAgb3V0cHV0Lm1ldGEubGltaXRhdGlvbnMgPSBBcnJheS5pc0FycmF5KG91dHB1dC5tZXRhLmxpbWl0YXRpb25zKVxuICAgICAgPyBbLi4ub3V0cHV0Lm1ldGEubGltaXRhdGlvbnMsIFwi0KHQttCw0YLRi9C5INC+0YLQstC10YI6INC/0YDQtdCy0YvRiNC10L0g0LvQuNC80LjRgiDRgdC70L7Qsi5cIl1cbiAgICAgIDogW1wi0KHQttCw0YLRi9C5INC+0YLQstC10YI6INC/0YDQtdCy0YvRiNC10L0g0LvQuNC80LjRgiDRgdC70L7Qsi5cIl07XG4gIH1cbiAgaWYgKHByZXNlcnZlUmVzdWx0LmNvbXByZXNzZWRfaGVhdmlseSkge1xuICAgIG91dHB1dC5tZXRhLmxpbWl0YXRpb25zID0gQXJyYXkuaXNBcnJheShvdXRwdXQubWV0YS5saW1pdGF0aW9ucylcbiAgICAgID8gWy4uLm91dHB1dC5tZXRhLmxpbWl0YXRpb25zLCBcImNvbXByZXNzZWRfaGVhdmlseVwiXVxuICAgICAgOiBbXCJjb21wcmVzc2VkX2hlYXZpbHlcIl07XG4gIH1cblxuICBhcHBseUJ1ZGdldE1ldGEob3V0cHV0Lm1ldGEsIGlucHV0KTtcbiAgcmV0dXJuIHsgb3V0cHV0OiB3cmFwT3V0cHV0KG91dHB1dCwgaW5wdXQpLCBlZmZlY3RpdmVJbnB1dDogaW5wdXQgfTtcbn07XG5cbmNvbnN0IGdlbmVyYXRlVHJvZmltT3V0cHV0ID0gYXN5bmMgKGlucHV0ID0ge30sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZW5lcmF0ZU91dHB1dChpbnB1dCwgb3B0aW9ucyk7XG4gIHJldHVybiByZXN1bHQub3V0cHV0O1xufTtcblxuY29uc3QgdmFsaWRhdGVUcm9maW1PdXRwdXQgPSAocGF5bG9hZCkgPT4ge1xuICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgY29uc3QgbGVnYWN5ID0gdW53cmFwTGVnYWN5KHBheWxvYWQpO1xuICBpZiAoIWxlZ2FjeSB8fCB0eXBlb2YgbGVnYWN5ICE9PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcnM6IFtcIk91dHB1dCBtdXN0IGJlIGFuIG9iamVjdC5cIl0gfTtcbiAgfVxuICBwYXlsb2FkID0gbGVnYWN5O1xuICBpZiAoIUFycmF5LmlzQXJyYXkocGF5bG9hZC5mb3JtYXRzKSkgZXJyb3JzLnB1c2goXCJmb3JtYXRzIG11c3QgYmUgYXJyYXlcIik7XG4gIGlmICghcGF5bG9hZC5yZWNvbW1lbmRhdGlvbnMpIGVycm9ycy5wdXNoKFwicmVjb21tZW5kYXRpb25zIHJlcXVpcmVkXCIpO1xuICBpZiAoIXBheWxvYWQubWV0YSkgZXJyb3JzLnB1c2goXCJtZXRhIHJlcXVpcmVkXCIpO1xuICBpZiAocGF5bG9hZC5yZWNvbW1lbmRhdGlvbnM/Lmhvb2tzX2J5X3BsYXRmb3JtKSB7XG4gICAgT2JqZWN0LmVudHJpZXMocGF5bG9hZC5yZWNvbW1lbmRhdGlvbnMuaG9va3NfYnlfcGxhdGZvcm0pLmZvckVhY2goKFtwbGF0Zm9ybSwgaG9va3NdKSA9PiB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaG9va3MpIHx8IGhvb2tzLmxlbmd0aCA8IDEwIHx8IGhvb2tzLmxlbmd0aCA+IDEyKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBob29rc19ieV9wbGF0Zm9ybS4ke3BsYXRmb3JtfSBtdXN0IGJlIDEwLTEyIGl0ZW1zYCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFwYXlsb2FkLnJlY29tbWVuZGF0aW9ucz8uZm9ybWF0X3Jpc2tzX2J5X3BsYXRmb3JtKSB7XG4gICAgZXJyb3JzLnB1c2goXCJmb3JtYXRfcmlza3NfYnlfcGxhdGZvcm0gcmVxdWlyZWRcIik7XG4gIH1cbiAgcmV0dXJuIHsgdmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsIGVycm9ycyB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlucHV0RGVmYXVsdHMsXG4gIGlucHV0U2NoZW1hLFxuICBvdXRwdXRTY2hlbWEsXG4gIHN5c3RlbVByb21wdCxcbiAgdHJvZmltQWdlbnQsXG4gIG5vcm1hbGl6ZUlucHV0LFxuICBnZW5lcmF0ZU91dHB1dCxcbiAgZ2VuZXJhdGVUcm9maW1PdXRwdXQsXG4gIHZhbGlkYXRlVHJvZmltT3V0cHV0XG59O1xuIl0sIm5hbWVzIjpbIndyYXBBZ2VudE91dHB1dCIsInVud3JhcExlZ2FjeSIsInJlcXVpcmUiLCJ3b3JkTGltaXRDb21wcmVzcyIsImNvbXByZXNzUHJlc2VydmVTaGFwZSIsImFwcGx5QnVkZ2V0IiwiYXBwbHlCdWRnZXRNZXRhIiwiaW5wdXREZWZhdWx0cyIsIm1vZGUiLCJwbGF0Zm9ybXMiLCJwbGF0Zm9ybV9wcmlvcml0eSIsIm5pY2hlIiwiZ29hbCIsImF1ZGllbmNlIiwiZ2VvIiwicGVyc29uYSIsInRlbXBlcmF0dXJlIiwicmVmZXJlbmNlcyIsInRyYW5zY3JpcHRzIiwidGhlbWVzIiwiY3JlYXRvcnMiLCJmb3JtYXRzX2xpa2VkIiwiY29uc3RyYWludHMiLCJtYXhfZm9ybWF0cyIsIm1heF93b3JkcyIsIm5vX2ZsdWZmIiwibGFuZ3VhZ2UiLCJpbnB1dFNjaGVtYSIsInR5cGUiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJlbnVtIiwiZGVmYXVsdCIsIml0ZW1zIiwicmVxdWlyZWQiLCJvdXRwdXRTY2hlbWEiLCJmb3JtYXRzIiwicmVjb21tZW5kYXRpb25zIiwibWV0YSIsInN5c3RlbVByb21wdCIsInRyb2ZpbUFnZW50IiwiaWQiLCJkaXNwbGF5TmFtZSIsImRlc2NyaXB0aW9uIiwid3JhcE91dHB1dCIsImxlZ2FjeU91dHB1dCIsImlucHV0IiwiYWdlbnRJZCIsImlucHV0RWNobyIsInRvU3RyaW5nU2FmZSIsInZhbHVlIiwidHJpbSIsInRvU3RyaW5nQXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJmaWx0ZXIiLCJpdGVtIiwibWFwIiwiUExBVEZPUk1fTElTVCIsIm5vcm1hbGl6ZVBsYXRmb3JtcyIsImFsbG93ZWQiLCJsaXN0IiwiaW5jbHVkZXMiLCJkZWR1cGVkIiwiZnJvbSIsIlNldCIsImxlbmd0aCIsIm5vcm1hbGl6ZVBsYXRmb3JtUHJpb3JpdHkiLCJyZXNvbHZlZCIsIm5vcm1hbGl6ZUlucHV0Iiwic2FmZSIsImJ1ZGdldCIsIm5vcm1hbGl6ZWQiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIk1hdGgiLCJtYXgiLCJyb3VuZCIsImJ1ZGdldFJlc3VsdCIsIm1heEl0ZW1zUGF0aHMiLCJtYXhXb3Jkc1BhdGgiLCJidWRnZXRfYXBwbGllZCIsImJ1ZGdldF93YXJuaW5ncyIsIndhcm5pbmdzIiwiY291bnRXb3JkcyIsInRleHQiLCJtYXRjaGVzIiwibWF0Y2giLCJjb3VudFdvcmRzSW5PYmplY3QiLCJyZWR1Y2UiLCJhY2MiLCJPYmplY3QiLCJ2YWx1ZXMiLCJjb3VudFN0cmluZ3NJbk9iamVjdCIsInRyaW1Xb3JkcyIsIm1heFdvcmRzIiwid29yZHMiLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsIm1hcFN0cmluZ3MiLCJmbiIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsImtleSIsInZhbCIsImFwcGx5V29yZExpbWl0Iiwib3V0cHV0IiwiaGFzTGlua3MiLCJhcnIiLCJzb21lIiwidGVzdCIsImJ1aWxkU2VlZFBocmFzZXMiLCJzZWVkcyIsImZvckVhY2giLCJ0aGVtZSIsInB1c2giLCJmaXJzdCIsInNuaXBwZXQiLCJCb29sZWFuIiwiUExBVEZPUk1fTEFCRUxTIiwiaW5zdGFncmFtX3JlZWxzIiwidGlrdG9rIiwieW91dHViZV9zaG9ydHMiLCJydXR1YmUiLCJ2a19jbGlwcyIsIlBMQVRGT1JNX1RXRUFLUyIsInBhY2luZ19ub3RlIiwiY2FwdGlvbl9zdHlsZSIsImN0YV9zdHlsZSIsInR5cGljYWxfbGVuZ3RoX3NlYyIsImFkYXB0YXRpb24iLCJidWlsZFBsYXRmb3JtVHdlYWtzIiwicGxhdGZvcm0iLCJiYXNlVGVtcGxhdGVzIiwibmFtZSIsInRyaWdnZXIiLCJob29rIiwiY29uZmxpY3QiLCJ2YWx1ZUJlYXRzIiwicHJvb2ZCZWF0cyIsImN0YSIsInBpY2tQbGF0Zm9ybXNGb3JJbmRleCIsImluZGV4IiwicGljayIsImJ1aWxkQW5hbG9nVGVtcGxhdGUiLCJzZWVkIiwidGVtcGxhdGUiLCJidWlsZEZvcm1hdEl0ZW0iLCJuaWNoZUxhYmVsIiwicHJpbWFyeVBsYXRmb3JtIiwicGxhdGZvcm1MYWJlbCIsInJlcGxhY2UiLCJ3aHlXb3JrcyIsImVmZmVjdCIsImxlYWRzX2VzdGltYXRlIiwibm90ZSIsInZpZXdzX2VzdGltYXRlIiwiZm9ybWF0X25hbWUiLCJiZXN0X3BsYXRmb3JtcyIsImhvb2tfcGF0dGVybiIsInNjcmlwdF9zdHJ1Y3R1cmUiLCJob29rXzBfM3MiLCJ2YWx1ZV8zXzE1cyIsInByb29mXzE1XzMwcyIsIndoeV9pdF93b3Jrc19ydSIsImFkYXB0YXRpb25fbm90ZXMiLCJwbGF0Zm9ybV90d2Vha3MiLCJleHBlY3RlZF9lZmZlY3QiLCJkaWZmaWN1bHR5IiwicmV1c2VfcG90ZW50aWFsIiwiZG9fYW5kX2RvbnQiLCJkbyIsImRvbnQiLCJidWlsZEZvcm1hdHMiLCJtYXhGb3JtYXRzQmFzZSIsIm1pbiIsIm1heEZvcm1hdHMiLCJpZHgiLCJidWlsZEhvb2tzQmFuayIsImJhc2UiLCJidWlsZFBsYXRmb3JtTm90ZXMiLCJidWlsZEhvb2tzQnlQbGF0Zm9ybSIsImxpbWl0IiwiY291bnQiLCJob29rcyIsImJ1aWxkQ3RhQmFuayIsImJ1aWxkUGl0ZmFsbHMiLCJwcmlvcml0aXplRm9ybWF0cyIsInByaW9yaXR5IiwiaW5kZXhPZlBsYXRmb3JtIiwiZm9ybWF0IiwiYmVzdCIsIkluZmluaXR5IiwiaW5kZXhPZiIsInByaW8iLCJzb3J0IiwiYSIsImIiLCJlbnRyeSIsInJlc29sdmVSZWNvbW1lbmRhdGlvblNpemVzIiwiaG9va3NCYW5rIiwiaG9va3NCeVBsYXRmb3JtIiwiY3RhQmFuayIsInBsYXRmb3JtTm90ZXMiLCJidWlsZEZvcm1hdFJpc2tzQnlQbGF0Zm9ybSIsImJ1aWxkVG9wNVdpdGhQcmlvcml0eSIsInByaW9yaXRpemVkRm9ybWF0cyIsInBsYXRmb3JtUHJpb3JpdHkiLCJwcmlvcml0eUZvcm1hdHMiLCJub25Qcmlvcml0eUZvcm1hdHMiLCJzZWxlY3RlZCIsInBvb2wiLCJidWlsZFJlY29tbWVuZGF0aW9ucyIsInNpemVPdmVycmlkZSIsInByaW9yaXRpemVkIiwidG9wIiwid2VlayIsImRheSIsInNpemVzIiwibGltaXRlZFBsYXRmb3JtTm90ZXMiLCJ0b3BfNV90b19zdGFydCIsImNvbnRlbnRfbWl4X3dlZWsiLCJob29rc19iYW5rIiwiaG9va3NfYnlfcGxhdGZvcm0iLCJmb3JtYXRfcmlza3NfYnlfcGxhdGZvcm0iLCJjdGFfYmFuayIsInBpdGZhbGxzX3J1IiwicGxhdGZvcm1fbm90ZXMiLCJidWlsZE1ldGEiLCJ3aXRoaW5NYXhXb3JkcyIsImZvcm1hdHNDb3VudE9rIiwibmVlZHNSZXZpZXciLCJsaW1pdGF0aW9ucyIsInJlZnMiLCJpbnB1dFF1YWxpdHkiLCJhc3N1bXB0aW9ucyIsImdlbmVyYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImlucHV0X3F1YWxpdHkiLCJxdWFsaXR5X2NoZWNrcyIsIndpdGhpbl9tYXhfd29yZHMiLCJmb3JtYXRzX2NvdW50X29rIiwicGxhdGZvcm1zX3N1cHBvcnRlZF9vayIsImV2ZXJ5IiwiYnVpbGRFbXB0eU91dHB1dCIsInF1ZXN0aW9uIiwiYXNrIiwiZ2VuZXJhdGVPdXRwdXQiLCJyYXdJbnB1dCIsIm9wdGlvbnMiLCJoYXNMaW5rUmVmIiwibWlzc2luZ0NvcmUiLCJlZmZlY3RpdmVJbnB1dCIsImJhc2VPdXRwdXQiLCJwcmVzZXJ2ZVJlc3VsdCIsInByaW9yaXRpZXMiLCJzZWNvbmRhcnlfZmllbGRzIiwiYXJyYXlfbWluaW11bXMiLCJsaW1pdFJlc3VsdCIsIndpdGhpbiIsImNvbXByZXNzZWRfaGVhdmlseSIsImdlbmVyYXRlVHJvZmltT3V0cHV0IiwicmVzdWx0IiwidmFsaWRhdGVUcm9maW1PdXRwdXQiLCJwYXlsb2FkIiwiZXJyb3JzIiwibGVnYWN5IiwidmFsaWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/trofim.js\n");

/***/ }),

/***/ "(rsc)/./lib/llm/provider.js":
/*!*****************************!*\
  !*** ./lib/llm/provider.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst fs = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst path = __webpack_require__(/*! node:path */ \"node:path\");\nconst DEFAULT_PROVIDER = \"fake\";\nconst normalizeProviderName = (value)=>{\n    const normalized = String(value || \"\").trim().toLowerCase();\n    return normalized === \"real\" ? \"real\" : \"fake\";\n};\nconst getConfiguredProviderName = ()=>normalizeProviderName(process.env.LLM_PROVIDER || DEFAULT_PROVIDER);\nconst hasRealProviderCredentials = ()=>Boolean(String(process.env.OPENAI_API_KEY || \"\").trim());\nconst AGENT_ID_ALIASES = {\n    platon: \"platon-prospect-research-ru\",\n    anatoly: \"anatoly-account-research-ru\",\n    maxim: \"maxim-local-leads-ru\"\n};\nconst canonicalAgentId = (agentId)=>{\n    if (!agentId) return \"\";\n    const normalized = String(agentId).trim();\n    return AGENT_ID_ALIASES[normalized] || normalized;\n};\nconst resolveFixtureOutputPath = (agentId, fixturesRoot)=>{\n    const canonical = canonicalAgentId(agentId);\n    if (!canonical) return \"\";\n    const root = fixturesRoot || path.join(process.cwd(), \"fixtures\", \"agents\");\n    return path.join(root, canonical, \"output.json\");\n};\nconst hasFixtureForAgent = (agentId, fixturesRoot)=>{\n    const outputPath = resolveFixtureOutputPath(agentId, fixturesRoot);\n    return Boolean(outputPath && fs.existsSync(outputPath));\n};\nconst stripVolatile = (value)=>{\n    if (!value || typeof value !== \"object\") return value;\n    if (Array.isArray(value)) return value.map((item)=>stripVolatile(item));\n    const next = {};\n    Object.entries(value).forEach(([key, val])=>{\n        if (key === \"generated_at\") {\n            next[key] = \"1970-01-01T00:00:00.000Z\";\n            return;\n        }\n        if (key === \"run_id\" || key === \"trace_id\") {\n            next[key] = \"stub-run\";\n            return;\n        }\n        if (key === \"duration_ms\") {\n            next[key] = 0;\n            return;\n        }\n        next[key] = stripVolatile(val);\n    });\n    return next;\n};\nconst cloneJson = (value)=>{\n    try {\n        return JSON.parse(JSON.stringify(value));\n    } catch  {\n        return value;\n    }\n};\nconst pickSchemaNode = (schema)=>{\n    if (!schema || typeof schema !== \"object\") return {};\n    if (Array.isArray(schema.oneOf) && schema.oneOf.length) return schema.oneOf[0] || {};\n    if (Array.isArray(schema.anyOf) && schema.anyOf.length) return schema.anyOf[0] || {};\n    if (Array.isArray(schema.allOf) && schema.allOf.length) {\n        return schema.allOf.reduce((acc, item)=>({\n                ...acc,\n                ...item\n            }), {});\n    }\n    return schema;\n};\nconst schemaType = (schema)=>{\n    const node = pickSchemaNode(schema);\n    if (!node || typeof node !== \"object\") return \"object\";\n    if (node.const !== undefined) return typeof node.const;\n    if (node.default !== undefined) return typeof node.default;\n    if (Array.isArray(node.enum) && node.enum.length) return typeof node.enum[0];\n    if (Array.isArray(node.type)) return node.type[0] || \"object\";\n    return node.type || \"object\";\n};\nconst valueForFormat = (format)=>{\n    if (format === \"date-time\") return \"1970-01-01T00:00:00.000Z\";\n    if (format === \"date\") return \"1970-01-01\";\n    if (format === \"email\") return \"stub@example.com\";\n    if (format === \"uri\" || format === \"url\") return \"https://example.com\";\n    return \"stub\";\n};\nconst buildFromSchema = (schema, keyHint = \"\")=>{\n    const node = pickSchemaNode(schema);\n    if (!node || typeof node !== \"object\") return {};\n    if (Object.prototype.hasOwnProperty.call(node, \"const\")) return cloneJson(node.const);\n    if (Object.prototype.hasOwnProperty.call(node, \"default\")) return cloneJson(node.default);\n    if (Array.isArray(node.enum) && node.enum.length) return cloneJson(node.enum[0]);\n    const type = schemaType(node);\n    if (type === \"string\") {\n        if (node.format) return valueForFormat(node.format);\n        if (keyHint.toLowerCase().includes(\"email\")) return \"stub@example.com\";\n        if (keyHint.toLowerCase().includes(\"url\") || keyHint.toLowerCase().includes(\"link\")) {\n            return \"https://example.com\";\n        }\n        return \"stub\";\n    }\n    if (type === \"number\" || type === \"integer\") {\n        if (Number.isFinite(node.minimum)) return Number(node.minimum);\n        return 0;\n    }\n    if (type === \"boolean\") return false;\n    if (type === \"array\") {\n        const itemSchema = node.items || {};\n        return [\n            buildFromSchema(itemSchema, keyHint ? `${keyHint}_item` : \"item\")\n        ];\n    }\n    if (type === \"object\") {\n        const properties = node.properties && typeof node.properties === \"object\" ? node.properties : {};\n        const required = Array.isArray(node.required) ? node.required : [];\n        const keys = new Set([\n            ...required,\n            ...Object.keys(properties)\n        ]);\n        const result = {};\n        if (keys.size === 0) {\n            return keyHint === \"meta\" ? {\n                generated_at: \"1970-01-01T00:00:00.000Z\"\n            } : {};\n        }\n        keys.forEach((key)=>{\n            const childSchema = properties[key] || {};\n            result[key] = buildFromSchema(childSchema, key);\n        });\n        return result;\n    }\n    return {};\n};\nclass FakeLLMProvider {\n    constructor(options = {}){\n        this.name = \"fake\";\n        this.fixturesRoot = options.fixturesRoot || path.join(process.cwd(), \"fixtures\", \"agents\");\n    }\n    loadFixtureData(agentId) {\n        const outputPath = resolveFixtureOutputPath(agentId, this.fixturesRoot);\n        if (!outputPath || !fs.existsSync(outputPath)) return null;\n        try {\n            const parsed = JSON.parse(fs.readFileSync(outputPath, \"utf8\"));\n            const legacyData = parsed && parsed.data ? parsed.data : parsed;\n            return stripVolatile(cloneJson(legacyData));\n        } catch  {\n            return null;\n        }\n    }\n    async generateJson({ schema, meta } = {}) {\n        const agentId = meta && typeof meta === \"object\" ? meta.agent_id || meta.agentId : \"\";\n        const fixtureData = agentId ? this.loadFixtureData(agentId) : null;\n        if (fixtureData) {\n            return fixtureData;\n        }\n        return buildFromSchema(schema || {}, \"root\");\n    }\n}\nconst sanitizeSchemaName = (value)=>{\n    const normalized = String(value || \"agent_output\").replace(/[^a-zA-Z0-9_]/g, \"_\").replace(/_+/g, \"_\").replace(/^_+|_+$/g, \"\");\n    return normalized || \"agent_output\";\n};\nconst stripCodeFences = (value)=>String(value || \"\").replace(/```json/gi, \"```\").replace(/^```/, \"\").replace(/```$/, \"\").trim();\nconst parseJsonString = (value)=>{\n    if (typeof value !== \"string\") return null;\n    const direct = value.trim();\n    if (!direct) return null;\n    try {\n        return JSON.parse(direct);\n    } catch  {\n    // continue\n    }\n    const stripped = stripCodeFences(direct);\n    if (!stripped) return null;\n    try {\n        return JSON.parse(stripped);\n    } catch  {\n        return null;\n    }\n};\nconst extractErrorMessage = (payload)=>{\n    if (!payload || typeof payload !== \"object\") return \"\";\n    if (payload.error && typeof payload.error === \"object\") {\n        const message = payload.error.message || payload.error.code;\n        if (message) return String(message);\n    }\n    return \"\";\n};\nconst getNumericOption = (value, fallback)=>{\n    const numeric = Number(value);\n    return Number.isFinite(numeric) ? numeric : fallback;\n};\nclass RealLLMProvider {\n    constructor(options = {}){\n        this.name = \"real\";\n        this.apiKey = options.apiKey || process.env.OPENAI_API_KEY || \"\";\n        this.baseUrl = String(options.baseUrl || process.env.OPENAI_BASE_URL || \"https://api.openai.com/v1\").replace(/\\/+$/, \"\");\n        this.model = options.model || process.env.OPENAI_MODEL || \"gpt-5-mini\";\n        this.timeoutMs = getNumericOption(options.timeoutMs || process.env.OPENAI_TIMEOUT_MS, 45000);\n        this.fetchImpl = options.fetch || globalThis.fetch;\n    }\n    async requestChatCompletions(payload) {\n        if (typeof this.fetchImpl !== \"function\") {\n            throw new Error(\"Global fetch is not available for RealLLMProvider.\");\n        }\n        const controller = new AbortController();\n        const timeout = setTimeout(()=>controller.abort(), this.timeoutMs);\n        let response;\n        try {\n            response = await this.fetchImpl(`${this.baseUrl}/chat/completions`, {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: `Bearer ${this.apiKey}`\n                },\n                body: JSON.stringify(payload),\n                signal: controller.signal\n            });\n        } catch (error) {\n            const message = error && typeof error === \"object\" && error.name === \"AbortError\" ? `OpenAI request timed out after ${this.timeoutMs}ms` : `OpenAI request failed: ${error instanceof Error ? error.message : \"unknown error\"}`;\n            throw new Error(message);\n        } finally{\n            clearTimeout(timeout);\n        }\n        const text = await response.text();\n        const parsed = parseJsonString(text) || {};\n        if (!response.ok) {\n            const apiMessage = extractErrorMessage(parsed);\n            const reason = apiMessage || text.slice(0, 300) || `HTTP ${response.status}`;\n            const error = new Error(`OpenAI request failed (${response.status}): ${reason}`);\n            error.status = response.status;\n            throw error;\n        }\n        return parsed;\n    }\n    extractMessageText(payload) {\n        const content = payload?.choices?.[0]?.message?.content;\n        if (typeof content === \"string\") return content;\n        if (Array.isArray(content)) {\n            return content.map((part)=>{\n                if (!part || typeof part !== \"object\") return \"\";\n                if (typeof part.text === \"string\") return part.text;\n                if (part.text && typeof part.text === \"object\" && typeof part.text.value === \"string\") {\n                    return part.text.value;\n                }\n                if (typeof part.content === \"string\") return part.content;\n                return \"\";\n            }).join(\"\").trim();\n        }\n        return \"\";\n    }\n    buildMessages(system, prompt, schema) {\n        const baseSystem = typeof system === \"string\" && system.trim() ? system.trim() : \"You are a strict JSON assistant.\";\n        const schemaHint = schema && typeof schema === \"object\" && Object.keys(schema).length ? `Return only JSON that matches this schema:\\n${JSON.stringify(schema)}` : \"Return only valid JSON.\";\n        const userPrompt = typeof prompt === \"string\" && prompt.trim() ? prompt.trim() : \"{}\";\n        return [\n            {\n                role: \"system\",\n                content: `${baseSystem}\\n\\n${schemaHint}`\n            },\n            {\n                role: \"user\",\n                content: userPrompt\n            }\n        ];\n    }\n    async generateJson({ system, prompt, schema, temperature, maxTokens, meta } = {}) {\n        if (!this.apiKey) {\n            throw new Error(\"OPENAI_API_KEY is required when LLM_PROVIDER=real.\");\n        }\n        const requestedModel = meta && typeof meta === \"object\" && typeof meta.model === \"string\" ? meta.model.trim() : \"\";\n        const model = requestedModel || this.model;\n        const messages = this.buildMessages(system, prompt, schema);\n        const cappedTemperature = Math.min(Math.max(getNumericOption(temperature, 0.2), 0), 1.5);\n        const tokenLimit = Math.max(200, Math.min(6000, getNumericOption(maxTokens, 1800)));\n        const hasSchema = Boolean(schema && typeof schema === \"object\" && Object.keys(schema).length);\n        const schemaName = sanitizeSchemaName(meta && typeof meta === \"object\" ? meta.agent_id || meta.agentId || \"agent_output\" : \"agent_output\");\n        const withSchemaPayload = {\n            model,\n            messages,\n            temperature: cappedTemperature,\n            max_tokens: tokenLimit,\n            response_format: hasSchema ? {\n                type: \"json_schema\",\n                json_schema: {\n                    name: schemaName,\n                    strict: true,\n                    schema\n                }\n            } : {\n                type: \"json_object\"\n            }\n        };\n        let firstResult;\n        try {\n            firstResult = await this.requestChatCompletions(withSchemaPayload);\n        } catch (error) {\n            // Some models/endpoints may reject json_schema; fallback to plain json_object.\n            const fallbackPayload = {\n                model,\n                messages,\n                temperature: cappedTemperature,\n                max_tokens: tokenLimit,\n                response_format: {\n                    type: \"json_object\"\n                }\n            };\n            firstResult = await this.requestChatCompletions(fallbackPayload);\n        }\n        const text = this.extractMessageText(firstResult);\n        const parsed = parseJsonString(text);\n        if (parsed && typeof parsed === \"object\") {\n            return parsed;\n        }\n        throw new Error(\"OpenAI returned non-JSON output for generateJson().\");\n    }\n}\nconst createLLMProvider = ({ provider, fixturesRoot } = {})=>{\n    const mode = normalizeProviderName(provider || getConfiguredProviderName());\n    if (mode === \"real\") return new RealLLMProvider();\n    return new FakeLLMProvider({\n        fixturesRoot\n    });\n};\nlet singleton = null;\nconst getLLMProvider = (options = {})=>{\n    if (options.forceNew) return createLLMProvider(options);\n    if (!singleton) singleton = createLLMProvider(options);\n    return singleton;\n};\nconst isFakeLLMProvider = (provider)=>{\n    const name = provider && typeof provider === \"object\" ? provider.name : \"\";\n    return normalizeProviderName(name) === \"fake\";\n};\nmodule.exports = {\n    FakeLLMProvider,\n    RealLLMProvider,\n    buildFromSchema,\n    canonicalAgentId,\n    createLLMProvider,\n    getConfiguredProviderName,\n    getLLMProvider,\n    hasRealProviderCredentials,\n    hasFixtureForAgent,\n    isFakeLLMProvider,\n    resolveFixtureOutputPath,\n    stripVolatile\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TDtJQUN6QixNQUFNckYsT0FBT3FGLFlBQVksT0FBT0EsYUFBYSxXQUFXQSxTQUFTckYsSUFBSSxHQUFHO0lBQ3hFLE9BQU9qRixzQkFBc0JpRixVQUFVO0FBQ3pDO0FBRUEyRixPQUFPQyxPQUFPLEdBQUc7SUFDZjlGO0lBQ0EwQjtJQUNBN0M7SUFDQTNDO0lBQ0FvSjtJQUNBL0o7SUFDQW1LO0lBQ0EvSjtJQUNBZTtJQUNBa0o7SUFDQXhKO0lBQ0FTO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy9saWIvbGxtL3Byb3ZpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZShcIm5vZGU6ZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcIm5vZGU6cGF0aFwiKTtcblxuY29uc3QgREVGQVVMVF9QUk9WSURFUiA9IFwiZmFrZVwiO1xuXG5jb25zdCBub3JtYWxpemVQcm92aWRlck5hbWUgPSAodmFsdWUpID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFN0cmluZyh2YWx1ZSB8fCBcIlwiKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPT09IFwicmVhbFwiID8gXCJyZWFsXCIgOiBcImZha2VcIjtcbn07XG5cbmNvbnN0IGdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUgPSAoKSA9PiBub3JtYWxpemVQcm92aWRlck5hbWUocHJvY2Vzcy5lbnYuTExNX1BST1ZJREVSIHx8IERFRkFVTFRfUFJPVklERVIpO1xuY29uc3QgaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMgPSAoKSA9PlxuICBCb29sZWFuKFN0cmluZyhwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB8fCBcIlwiKS50cmltKCkpO1xuXG5jb25zdCBBR0VOVF9JRF9BTElBU0VTID0ge1xuICBwbGF0b246IFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCIsXG4gIGFuYXRvbHk6IFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIsXG4gIG1heGltOiBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCJcbn07XG5cbmNvbnN0IGNhbm9uaWNhbEFnZW50SWQgPSAoYWdlbnRJZCkgPT4ge1xuICBpZiAoIWFnZW50SWQpIHJldHVybiBcIlwiO1xuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKGFnZW50SWQpLnRyaW0oKTtcbiAgcmV0dXJuIEFHRU5UX0lEX0FMSUFTRVNbbm9ybWFsaXplZF0gfHwgbm9ybWFsaXplZDtcbn07XG5cbmNvbnN0IHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aCA9IChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpID0+IHtcbiAgY29uc3QgY2Fub25pY2FsID0gY2Fub25pY2FsQWdlbnRJZChhZ2VudElkKTtcbiAgaWYgKCFjYW5vbmljYWwpIHJldHVybiBcIlwiO1xuICBjb25zdCByb290ID0gZml4dHVyZXNSb290IHx8IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcImZpeHR1cmVzXCIsIFwiYWdlbnRzXCIpO1xuICByZXR1cm4gcGF0aC5qb2luKHJvb3QsIGNhbm9uaWNhbCwgXCJvdXRwdXQuanNvblwiKTtcbn07XG5cbmNvbnN0IGhhc0ZpeHR1cmVGb3JBZ2VudCA9IChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpID0+IHtcbiAgY29uc3Qgb3V0cHV0UGF0aCA9IHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpO1xuICByZXR1cm4gQm9vbGVhbihvdXRwdXRQYXRoICYmIGZzLmV4aXN0c1N5bmMob3V0cHV0UGF0aCkpO1xufTtcblxuY29uc3Qgc3RyaXBWb2xhdGlsZSA9ICh2YWx1ZSkgPT4ge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IHN0cmlwVm9sYXRpbGUoaXRlbSkpO1xuXG4gIGNvbnN0IG5leHQgPSB7fTtcbiAgT2JqZWN0LmVudHJpZXModmFsdWUpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICBpZiAoa2V5ID09PSBcImdlbmVyYXRlZF9hdFwiKSB7XG4gICAgICBuZXh0W2tleV0gPSBcIjE5NzAtMDEtMDFUMDA6MDA6MDAuMDAwWlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcInJ1bl9pZFwiIHx8IGtleSA9PT0gXCJ0cmFjZV9pZFwiKSB7XG4gICAgICBuZXh0W2tleV0gPSBcInN0dWItcnVuXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwiZHVyYXRpb25fbXNcIikge1xuICAgICAgbmV4dFtrZXldID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmV4dFtrZXldID0gc3RyaXBWb2xhdGlsZSh2YWwpO1xuICB9KTtcbiAgcmV0dXJuIG5leHQ7XG59O1xuXG5jb25zdCBjbG9uZUpzb24gPSAodmFsdWUpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmNvbnN0IHBpY2tTY2hlbWFOb2RlID0gKHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiKSByZXR1cm4ge307XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikgJiYgc2NoZW1hLm9uZU9mLmxlbmd0aCkgcmV0dXJuIHNjaGVtYS5vbmVPZlswXSB8fCB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFueU9mKSAmJiBzY2hlbWEuYW55T2YubGVuZ3RoKSByZXR1cm4gc2NoZW1hLmFueU9mWzBdIHx8IHt9O1xuICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpICYmIHNjaGVtYS5hbGxPZi5sZW5ndGgpIHtcbiAgICByZXR1cm4gc2NoZW1hLmFsbE9mLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiAoeyAuLi5hY2MsIC4uLml0ZW0gfSksIHt9KTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcblxuY29uc3Qgc2NoZW1hVHlwZSA9IChzY2hlbWEpID0+IHtcbiAgY29uc3Qgbm9kZSA9IHBpY2tTY2hlbWFOb2RlKHNjaGVtYSk7XG4gIGlmICghbm9kZSB8fCB0eXBlb2Ygbm9kZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIFwib2JqZWN0XCI7XG4gIGlmIChub2RlLmNvbnN0ICE9PSB1bmRlZmluZWQpIHJldHVybiB0eXBlb2Ygbm9kZS5jb25zdDtcbiAgaWYgKG5vZGUuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdHlwZW9mIG5vZGUuZGVmYXVsdDtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5lbnVtKSAmJiBub2RlLmVudW0ubGVuZ3RoKSByZXR1cm4gdHlwZW9mIG5vZGUuZW51bVswXTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS50eXBlKSkgcmV0dXJuIG5vZGUudHlwZVswXSB8fCBcIm9iamVjdFwiO1xuICByZXR1cm4gbm9kZS50eXBlIHx8IFwib2JqZWN0XCI7XG59O1xuXG5jb25zdCB2YWx1ZUZvckZvcm1hdCA9IChmb3JtYXQpID0+IHtcbiAgaWYgKGZvcm1hdCA9PT0gXCJkYXRlLXRpbWVcIikgcmV0dXJuIFwiMTk3MC0wMS0wMVQwMDowMDowMC4wMDBaXCI7XG4gIGlmIChmb3JtYXQgPT09IFwiZGF0ZVwiKSByZXR1cm4gXCIxOTcwLTAxLTAxXCI7XG4gIGlmIChmb3JtYXQgPT09IFwiZW1haWxcIikgcmV0dXJuIFwic3R1YkBleGFtcGxlLmNvbVwiO1xuICBpZiAoZm9ybWF0ID09PSBcInVyaVwiIHx8IGZvcm1hdCA9PT0gXCJ1cmxcIikgcmV0dXJuIFwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiO1xuICByZXR1cm4gXCJzdHViXCI7XG59O1xuXG5jb25zdCBidWlsZEZyb21TY2hlbWEgPSAoc2NoZW1hLCBrZXlIaW50ID0gXCJcIikgPT4ge1xuICBjb25zdCBub2RlID0gcGlja1NjaGVtYU5vZGUoc2NoZW1hKTtcbiAgaWYgKCFub2RlIHx8IHR5cGVvZiBub2RlICE9PSBcIm9iamVjdFwiKSByZXR1cm4ge307XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub2RlLCBcImNvbnN0XCIpKSByZXR1cm4gY2xvbmVKc29uKG5vZGUuY29uc3QpO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsIFwiZGVmYXVsdFwiKSkgcmV0dXJuIGNsb25lSnNvbihub2RlLmRlZmF1bHQpO1xuICBpZiAoQXJyYXkuaXNBcnJheShub2RlLmVudW0pICYmIG5vZGUuZW51bS5sZW5ndGgpIHJldHVybiBjbG9uZUpzb24obm9kZS5lbnVtWzBdKTtcblxuICBjb25zdCB0eXBlID0gc2NoZW1hVHlwZShub2RlKTtcblxuICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChub2RlLmZvcm1hdCkgcmV0dXJuIHZhbHVlRm9yRm9ybWF0KG5vZGUuZm9ybWF0KTtcbiAgICBpZiAoa2V5SGludC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZW1haWxcIikpIHJldHVybiBcInN0dWJAZXhhbXBsZS5jb21cIjtcbiAgICBpZiAoa2V5SGludC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwidXJsXCIpIHx8IGtleUhpbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImxpbmtcIikpIHtcbiAgICAgIHJldHVybiBcImh0dHBzOi8vZXhhbXBsZS5jb21cIjtcbiAgICB9XG4gICAgcmV0dXJuIFwic3R1YlwiO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJpbnRlZ2VyXCIpIHtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG5vZGUubWluaW11bSkpIHJldHVybiBOdW1iZXIobm9kZS5taW5pbXVtKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmICh0eXBlID09PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlID09PSBcImFycmF5XCIpIHtcbiAgICBjb25zdCBpdGVtU2NoZW1hID0gbm9kZS5pdGVtcyB8fCB7fTtcbiAgICByZXR1cm4gW2J1aWxkRnJvbVNjaGVtYShpdGVtU2NoZW1hLCBrZXlIaW50ID8gYCR7a2V5SGludH1faXRlbWAgOiBcIml0ZW1cIildO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gbm9kZS5wcm9wZXJ0aWVzICYmIHR5cGVvZiBub2RlLnByb3BlcnRpZXMgPT09IFwib2JqZWN0XCIgPyBub2RlLnByb3BlcnRpZXMgOiB7fTtcbiAgICBjb25zdCByZXF1aXJlZCA9IEFycmF5LmlzQXJyYXkobm9kZS5yZXF1aXJlZCkgPyBub2RlLnJlcXVpcmVkIDogW107XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoWy4uLnJlcXVpcmVkLCAuLi5PYmplY3Qua2V5cyhwcm9wZXJ0aWVzKV0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgaWYgKGtleXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGtleUhpbnQgPT09IFwibWV0YVwiID8geyBnZW5lcmF0ZWRfYXQ6IFwiMTk3MC0wMS0wMVQwMDowMDowMC4wMDBaXCIgfSA6IHt9O1xuICAgIH1cblxuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBjaGlsZFNjaGVtYSA9IHByb3BlcnRpZXNba2V5XSB8fCB7fTtcbiAgICAgIHJlc3VsdFtrZXldID0gYnVpbGRGcm9tU2NoZW1hKGNoaWxkU2NoZW1hLCBrZXkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiB7fTtcbn07XG5cbmNsYXNzIEZha2VMTE1Qcm92aWRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IFwiZmFrZVwiO1xuICAgIHRoaXMuZml4dHVyZXNSb290ID0gb3B0aW9ucy5maXh0dXJlc1Jvb3QgfHwgcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwiZml4dHVyZXNcIiwgXCJhZ2VudHNcIik7XG4gIH1cblxuICBsb2FkRml4dHVyZURhdGEoYWdlbnRJZCkge1xuICAgIGNvbnN0IG91dHB1dFBhdGggPSByZXNvbHZlRml4dHVyZU91dHB1dFBhdGgoYWdlbnRJZCwgdGhpcy5maXh0dXJlc1Jvb3QpO1xuICAgIGlmICghb3V0cHV0UGF0aCB8fCAhZnMuZXhpc3RzU3luYyhvdXRwdXRQYXRoKSkgcmV0dXJuIG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKG91dHB1dFBhdGgsIFwidXRmOFwiKSk7XG4gICAgICBjb25zdCBsZWdhY3lEYXRhID0gcGFyc2VkICYmIHBhcnNlZC5kYXRhID8gcGFyc2VkLmRhdGEgOiBwYXJzZWQ7XG4gICAgICByZXR1cm4gc3RyaXBWb2xhdGlsZShjbG9uZUpzb24obGVnYWN5RGF0YSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVKc29uKHsgc2NoZW1hLCBtZXRhIH0gPSB7fSkge1xuICAgIGNvbnN0IGFnZW50SWQgPSBtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiID8gbWV0YS5hZ2VudF9pZCB8fCBtZXRhLmFnZW50SWQgOiBcIlwiO1xuICAgIGNvbnN0IGZpeHR1cmVEYXRhID0gYWdlbnRJZCA/IHRoaXMubG9hZEZpeHR1cmVEYXRhKGFnZW50SWQpIDogbnVsbDtcbiAgICBpZiAoZml4dHVyZURhdGEpIHtcbiAgICAgIHJldHVybiBmaXh0dXJlRGF0YTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVpbGRGcm9tU2NoZW1hKHNjaGVtYSB8fCB7fSwgXCJyb290XCIpO1xuICB9XG59XG5cbmNvbnN0IHNhbml0aXplU2NoZW1hTmFtZSA9ICh2YWx1ZSkgPT4ge1xuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKHZhbHVlIHx8IFwiYWdlbnRfb3V0cHV0XCIpXG4gICAgLnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgXCJfXCIpXG4gICAgLnJlcGxhY2UoL18rL2csIFwiX1wiKVxuICAgIC5yZXBsYWNlKC9eXyt8XyskL2csIFwiXCIpO1xuICByZXR1cm4gbm9ybWFsaXplZCB8fCBcImFnZW50X291dHB1dFwiO1xufTtcblxuY29uc3Qgc3RyaXBDb2RlRmVuY2VzID0gKHZhbHVlKSA9PlxuICBTdHJpbmcodmFsdWUgfHwgXCJcIilcbiAgICAucmVwbGFjZSgvYGBganNvbi9naSwgXCJgYGBcIilcbiAgICAucmVwbGFjZSgvXmBgYC8sIFwiXCIpXG4gICAgLnJlcGxhY2UoL2BgYCQvLCBcIlwiKVxuICAgIC50cmltKCk7XG5cbmNvbnN0IHBhcnNlSnNvblN0cmluZyA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZGlyZWN0ID0gdmFsdWUudHJpbSgpO1xuICBpZiAoIWRpcmVjdCkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGlyZWN0KTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gY29udGludWVcbiAgfVxuICBjb25zdCBzdHJpcHBlZCA9IHN0cmlwQ29kZUZlbmNlcyhkaXJlY3QpO1xuICBpZiAoIXN0cmlwcGVkKSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJpcHBlZCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBleHRyYWN0RXJyb3JNZXNzYWdlID0gKHBheWxvYWQpID0+IHtcbiAgaWYgKCFwYXlsb2FkIHx8IHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgaWYgKHBheWxvYWQuZXJyb3IgJiYgdHlwZW9mIHBheWxvYWQuZXJyb3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5lcnJvci5tZXNzYWdlIHx8IHBheWxvYWQuZXJyb3IuY29kZTtcbiAgICBpZiAobWVzc2FnZSkgcmV0dXJuIFN0cmluZyhtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn07XG5cbmNvbnN0IGdldE51bWVyaWNPcHRpb24gPSAodmFsdWUsIGZhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IG51bWVyaWMgPSBOdW1iZXIodmFsdWUpO1xuICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpID8gbnVtZXJpYyA6IGZhbGxiYWNrO1xufTtcblxuY2xhc3MgUmVhbExMTVByb3ZpZGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5uYW1lID0gXCJyZWFsXCI7XG4gICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleSB8fCBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB8fCBcIlwiO1xuICAgIHRoaXMuYmFzZVVybCA9IFN0cmluZyhcbiAgICAgIG9wdGlvbnMuYmFzZVVybCB8fCBwcm9jZXNzLmVudi5PUEVOQUlfQkFTRV9VUkwgfHwgXCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXCJcbiAgICApLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG4gICAgdGhpcy5tb2RlbCA9IG9wdGlvbnMubW9kZWwgfHwgcHJvY2Vzcy5lbnYuT1BFTkFJX01PREVMIHx8IFwiZ3B0LTUtbWluaVwiO1xuICAgIHRoaXMudGltZW91dE1zID0gZ2V0TnVtZXJpY09wdGlvbihvcHRpb25zLnRpbWVvdXRNcyB8fCBwcm9jZXNzLmVudi5PUEVOQUlfVElNRU9VVF9NUywgNDUwMDApO1xuICAgIHRoaXMuZmV0Y2hJbXBsID0gb3B0aW9ucy5mZXRjaCB8fCBnbG9iYWxUaGlzLmZldGNoO1xuICB9XG5cbiAgYXN5bmMgcmVxdWVzdENoYXRDb21wbGV0aW9ucyhwYXlsb2FkKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmZldGNoSW1wbCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHbG9iYWwgZmV0Y2ggaXMgbm90IGF2YWlsYWJsZSBmb3IgUmVhbExMTVByb3ZpZGVyLlwiKTtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIHRoaXMudGltZW91dE1zKTtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaEltcGwoYCR7dGhpcy5iYXNlVXJsfS9jaGF0L2NvbXBsZXRpb25zYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiXG4gICAgICAgICAgPyBgT3BlbkFJIHJlcXVlc3QgdGltZWQgb3V0IGFmdGVyICR7dGhpcy50aW1lb3V0TXN9bXNgXG4gICAgICAgICAgOiBgT3BlbkFJIHJlcXVlc3QgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJ1bmtub3duIGVycm9yXCJ9YDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VKc29uU3RyaW5nKHRleHQpIHx8IHt9O1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGFwaU1lc3NhZ2UgPSBleHRyYWN0RXJyb3JNZXNzYWdlKHBhcnNlZCk7XG4gICAgICBjb25zdCByZWFzb24gPSBhcGlNZXNzYWdlIHx8IHRleHQuc2xpY2UoMCwgMzAwKSB8fCBgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYE9wZW5BSSByZXF1ZXN0IGZhaWxlZCAoJHtyZXNwb25zZS5zdGF0dXN9KTogJHtyZWFzb259YCk7XG4gICAgICBlcnJvci5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuXG4gIGV4dHJhY3RNZXNzYWdlVGV4dChwYXlsb2FkKSB7XG4gICAgY29uc3QgY29udGVudCA9IHBheWxvYWQ/LmNob2ljZXM/LlswXT8ubWVzc2FnZT8uY29udGVudDtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBjb250ZW50O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XG4gICAgICByZXR1cm4gY29udGVudFxuICAgICAgICAubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgaWYgKCFwYXJ0IHx8IHR5cGVvZiBwYXJ0ICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcnQudGV4dCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHBhcnQudGV4dDtcbiAgICAgICAgICBpZiAocGFydC50ZXh0ICYmIHR5cGVvZiBwYXJ0LnRleHQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHBhcnQudGV4dC52YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnQudGV4dC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBwYXJ0LmNvbnRlbnQ7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKFwiXCIpXG4gICAgICAgIC50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgYnVpbGRNZXNzYWdlcyhzeXN0ZW0sIHByb21wdCwgc2NoZW1hKSB7XG4gICAgY29uc3QgYmFzZVN5c3RlbSA9XG4gICAgICB0eXBlb2Ygc3lzdGVtID09PSBcInN0cmluZ1wiICYmIHN5c3RlbS50cmltKClcbiAgICAgICAgPyBzeXN0ZW0udHJpbSgpXG4gICAgICAgIDogXCJZb3UgYXJlIGEgc3RyaWN0IEpTT04gYXNzaXN0YW50LlwiO1xuICAgIGNvbnN0IHNjaGVtYUhpbnQgPVxuICAgICAgc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMoc2NoZW1hKS5sZW5ndGhcbiAgICAgICAgPyBgUmV0dXJuIG9ubHkgSlNPTiB0aGF0IG1hdGNoZXMgdGhpcyBzY2hlbWE6XFxuJHtKU09OLnN0cmluZ2lmeShzY2hlbWEpfWBcbiAgICAgICAgOiBcIlJldHVybiBvbmx5IHZhbGlkIEpTT04uXCI7XG4gICAgY29uc3QgdXNlclByb21wdCA9IHR5cGVvZiBwcm9tcHQgPT09IFwic3RyaW5nXCIgJiYgcHJvbXB0LnRyaW0oKSA/IHByb21wdC50cmltKCkgOiBcInt9XCI7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudDogYCR7YmFzZVN5c3RlbX1cXG5cXG4ke3NjaGVtYUhpbnR9YCB9LFxuICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogdXNlclByb21wdCB9XG4gICAgXTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlSnNvbih7IHN5c3RlbSwgcHJvbXB0LCBzY2hlbWEsIHRlbXBlcmF0dXJlLCBtYXhUb2tlbnMsIG1ldGEgfSA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT1BFTkFJX0FQSV9LRVkgaXMgcmVxdWlyZWQgd2hlbiBMTE1fUFJPVklERVI9cmVhbC5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdGVkTW9kZWwgPVxuICAgICAgbWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbWV0YS5tb2RlbCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICA/IG1ldGEubW9kZWwudHJpbSgpXG4gICAgICAgIDogXCJcIjtcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVlc3RlZE1vZGVsIHx8IHRoaXMubW9kZWw7XG4gICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmJ1aWxkTWVzc2FnZXMoc3lzdGVtLCBwcm9tcHQsIHNjaGVtYSk7XG4gICAgY29uc3QgY2FwcGVkVGVtcGVyYXR1cmUgPSBNYXRoLm1pbihNYXRoLm1heChnZXROdW1lcmljT3B0aW9uKHRlbXBlcmF0dXJlLCAwLjIpLCAwKSwgMS41KTtcbiAgICBjb25zdCB0b2tlbkxpbWl0ID0gTWF0aC5tYXgoMjAwLCBNYXRoLm1pbig2MDAwLCBnZXROdW1lcmljT3B0aW9uKG1heFRva2VucywgMTgwMCkpKTtcbiAgICBjb25zdCBoYXNTY2hlbWEgPSBCb29sZWFuKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoKTtcbiAgICBjb25zdCBzY2hlbWFOYW1lID0gc2FuaXRpemVTY2hlbWFOYW1lKFxuICAgICAgbWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiA/IG1ldGEuYWdlbnRfaWQgfHwgbWV0YS5hZ2VudElkIHx8IFwiYWdlbnRfb3V0cHV0XCIgOiBcImFnZW50X291dHB1dFwiXG4gICAgKTtcblxuICAgIGNvbnN0IHdpdGhTY2hlbWFQYXlsb2FkID0ge1xuICAgICAgbW9kZWwsXG4gICAgICBtZXNzYWdlcyxcbiAgICAgIHRlbXBlcmF0dXJlOiBjYXBwZWRUZW1wZXJhdHVyZSxcbiAgICAgIG1heF90b2tlbnM6IHRva2VuTGltaXQsXG4gICAgICByZXNwb25zZV9mb3JtYXQ6IGhhc1NjaGVtYVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFwianNvbl9zY2hlbWFcIixcbiAgICAgICAgICAgIGpzb25fc2NoZW1hOiB7IG5hbWU6IHNjaGVtYU5hbWUsIHN0cmljdDogdHJ1ZSwgc2NoZW1hIH1cbiAgICAgICAgICB9XG4gICAgICAgIDogeyB0eXBlOiBcImpzb25fb2JqZWN0XCIgfVxuICAgIH07XG5cbiAgICBsZXQgZmlyc3RSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIGZpcnN0UmVzdWx0ID0gYXdhaXQgdGhpcy5yZXF1ZXN0Q2hhdENvbXBsZXRpb25zKHdpdGhTY2hlbWFQYXlsb2FkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU29tZSBtb2RlbHMvZW5kcG9pbnRzIG1heSByZWplY3QganNvbl9zY2hlbWE7IGZhbGxiYWNrIHRvIHBsYWluIGpzb25fb2JqZWN0LlxuICAgICAgY29uc3QgZmFsbGJhY2tQYXlsb2FkID0ge1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIHRlbXBlcmF0dXJlOiBjYXBwZWRUZW1wZXJhdHVyZSxcbiAgICAgICAgbWF4X3Rva2VuczogdG9rZW5MaW1pdCxcbiAgICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9XG4gICAgICB9O1xuICAgICAgZmlyc3RSZXN1bHQgPSBhd2FpdCB0aGlzLnJlcXVlc3RDaGF0Q29tcGxldGlvbnMoZmFsbGJhY2tQYXlsb2FkKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5leHRyYWN0TWVzc2FnZVRleHQoZmlyc3RSZXN1bHQpO1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSnNvblN0cmluZyh0ZXh0KTtcbiAgICBpZiAocGFyc2VkICYmIHR5cGVvZiBwYXJzZWQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIHJldHVybmVkIG5vbi1KU09OIG91dHB1dCBmb3IgZ2VuZXJhdGVKc29uKCkuXCIpO1xuICB9XG59XG5cbmNvbnN0IGNyZWF0ZUxMTVByb3ZpZGVyID0gKHsgcHJvdmlkZXIsIGZpeHR1cmVzUm9vdCB9ID0ge30pID0+IHtcbiAgY29uc3QgbW9kZSA9IG5vcm1hbGl6ZVByb3ZpZGVyTmFtZShwcm92aWRlciB8fCBnZXRDb25maWd1cmVkUHJvdmlkZXJOYW1lKCkpO1xuICBpZiAobW9kZSA9PT0gXCJyZWFsXCIpIHJldHVybiBuZXcgUmVhbExMTVByb3ZpZGVyKCk7XG4gIHJldHVybiBuZXcgRmFrZUxMTVByb3ZpZGVyKHsgZml4dHVyZXNSb290IH0pO1xufTtcblxubGV0IHNpbmdsZXRvbiA9IG51bGw7XG5cbmNvbnN0IGdldExMTVByb3ZpZGVyID0gKG9wdGlvbnMgPSB7fSkgPT4ge1xuICBpZiAob3B0aW9ucy5mb3JjZU5ldykgcmV0dXJuIGNyZWF0ZUxMTVByb3ZpZGVyKG9wdGlvbnMpO1xuICBpZiAoIXNpbmdsZXRvbikgc2luZ2xldG9uID0gY3JlYXRlTExNUHJvdmlkZXIob3B0aW9ucyk7XG4gIHJldHVybiBzaW5nbGV0b247XG59O1xuXG5jb25zdCBpc0Zha2VMTE1Qcm92aWRlciA9IChwcm92aWRlcikgPT4ge1xuICBjb25zdCBuYW1lID0gcHJvdmlkZXIgJiYgdHlwZW9mIHByb3ZpZGVyID09PSBcIm9iamVjdFwiID8gcHJvdmlkZXIubmFtZSA6IFwiXCI7XG4gIHJldHVybiBub3JtYWxpemVQcm92aWRlck5hbWUobmFtZSkgPT09IFwiZmFrZVwiO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEZha2VMTE1Qcm92aWRlcixcbiAgUmVhbExMTVByb3ZpZGVyLFxuICBidWlsZEZyb21TY2hlbWEsXG4gIGNhbm9uaWNhbEFnZW50SWQsXG4gIGNyZWF0ZUxMTVByb3ZpZGVyLFxuICBnZXRDb25maWd1cmVkUHJvdmlkZXJOYW1lLFxuICBnZXRMTE1Qcm92aWRlcixcbiAgaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMsXG4gIGhhc0ZpeHR1cmVGb3JBZ2VudCxcbiAgaXNGYWtlTExNUHJvdmlkZXIsXG4gIHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aCxcbiAgc3RyaXBWb2xhdGlsZVxufTtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiREVGQVVMVF9QUk9WSURFUiIsIm5vcm1hbGl6ZVByb3ZpZGVyTmFtZSIsInZhbHVlIiwibm9ybWFsaXplZCIsIlN0cmluZyIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsImdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUiLCJwcm9jZXNzIiwiZW52IiwiTExNX1BST1ZJREVSIiwiaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMiLCJCb29sZWFuIiwiT1BFTkFJX0FQSV9LRVkiLCJBR0VOVF9JRF9BTElBU0VTIiwicGxhdG9uIiwiYW5hdG9seSIsIm1heGltIiwiY2Fub25pY2FsQWdlbnRJZCIsImFnZW50SWQiLCJyZXNvbHZlRml4dHVyZU91dHB1dFBhdGgiLCJmaXh0dXJlc1Jvb3QiLCJjYW5vbmljYWwiLCJyb290Iiwiam9pbiIsImN3ZCIsImhhc0ZpeHR1cmVGb3JBZ2VudCIsIm91dHB1dFBhdGgiLCJleGlzdHNTeW5jIiwic3RyaXBWb2xhdGlsZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJuZXh0IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWwiLCJjbG9uZUpzb24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJwaWNrU2NoZW1hTm9kZSIsInNjaGVtYSIsIm9uZU9mIiwibGVuZ3RoIiwiYW55T2YiLCJhbGxPZiIsInJlZHVjZSIsImFjYyIsInNjaGVtYVR5cGUiLCJub2RlIiwiY29uc3QiLCJ1bmRlZmluZWQiLCJkZWZhdWx0IiwiZW51bSIsInR5cGUiLCJ2YWx1ZUZvckZvcm1hdCIsImZvcm1hdCIsImJ1aWxkRnJvbVNjaGVtYSIsImtleUhpbnQiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbmNsdWRlcyIsIk51bWJlciIsImlzRmluaXRlIiwibWluaW11bSIsIml0ZW1TY2hlbWEiLCJpdGVtcyIsInByb3BlcnRpZXMiLCJyZXF1aXJlZCIsImtleXMiLCJTZXQiLCJyZXN1bHQiLCJzaXplIiwiZ2VuZXJhdGVkX2F0IiwiY2hpbGRTY2hlbWEiLCJGYWtlTExNUHJvdmlkZXIiLCJvcHRpb25zIiwibmFtZSIsImxvYWRGaXh0dXJlRGF0YSIsInBhcnNlZCIsInJlYWRGaWxlU3luYyIsImxlZ2FjeURhdGEiLCJkYXRhIiwiZ2VuZXJhdGVKc29uIiwibWV0YSIsImFnZW50X2lkIiwiZml4dHVyZURhdGEiLCJzYW5pdGl6ZVNjaGVtYU5hbWUiLCJyZXBsYWNlIiwic3RyaXBDb2RlRmVuY2VzIiwicGFyc2VKc29uU3RyaW5nIiwiZGlyZWN0Iiwic3RyaXBwZWQiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwicGF5bG9hZCIsImVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJnZXROdW1lcmljT3B0aW9uIiwiZmFsbGJhY2siLCJudW1lcmljIiwiUmVhbExMTVByb3ZpZGVyIiwiYXBpS2V5IiwiYmFzZVVybCIsIk9QRU5BSV9CQVNFX1VSTCIsIm1vZGVsIiwiT1BFTkFJX01PREVMIiwidGltZW91dE1zIiwiT1BFTkFJX1RJTUVPVVRfTVMiLCJmZXRjaEltcGwiLCJmZXRjaCIsImdsb2JhbFRoaXMiLCJyZXF1ZXN0Q2hhdENvbXBsZXRpb25zIiwiRXJyb3IiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJib2R5Iiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0IiwidGV4dCIsIm9rIiwiYXBpTWVzc2FnZSIsInJlYXNvbiIsInNsaWNlIiwic3RhdHVzIiwiZXh0cmFjdE1lc3NhZ2VUZXh0IiwiY29udGVudCIsImNob2ljZXMiLCJwYXJ0IiwiYnVpbGRNZXNzYWdlcyIsInN5c3RlbSIsInByb21wdCIsImJhc2VTeXN0ZW0iLCJzY2hlbWFIaW50IiwidXNlclByb21wdCIsInJvbGUiLCJ0ZW1wZXJhdHVyZSIsIm1heFRva2VucyIsInJlcXVlc3RlZE1vZGVsIiwibWVzc2FnZXMiLCJjYXBwZWRUZW1wZXJhdHVyZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ0b2tlbkxpbWl0IiwiaGFzU2NoZW1hIiwic2NoZW1hTmFtZSIsIndpdGhTY2hlbWFQYXlsb2FkIiwibWF4X3Rva2VucyIsInJlc3BvbnNlX2Zvcm1hdCIsImpzb25fc2NoZW1hIiwic3RyaWN0IiwiZmlyc3RSZXN1bHQiLCJmYWxsYmFja1BheWxvYWQiLCJjcmVhdGVMTE1Qcm92aWRlciIsInByb3ZpZGVyIiwibW9kZSIsInNpbmdsZXRvbiIsImdldExMTVByb3ZpZGVyIiwiZm9yY2VOZXciLCJpc0Zha2VMTE1Qcm92aWRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/llm/provider.js\n");

/***/ }),

/***/ "(rsc)/./utils/agentEnvelope.js":
/*!********************************!*\
  !*** ./utils/agentEnvelope.js ***!
  \********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { randomUUID } = __webpack_require__(/*! crypto */ \"crypto\");\nconst { getAgentSchema } = __webpack_require__(/*! ./agentSchemas */ \"(rsc)/./utils/agentSchemas.js\");\nconst { validateAgentResponse } = __webpack_require__(/*! ./validateAgentResponse */ \"(rsc)/./utils/validateAgentResponse.js\");\nconst { buildHandoff } = __webpack_require__(/*! ./handoff */ \"(rsc)/./utils/handoff.js\");\nconst { getConfiguredProviderName, hasRealProviderCredentials } = __webpack_require__(/*! ../lib/llm/provider.js */ \"(rsc)/./lib/llm/provider.js\");\nconst makeRunId = ()=>{\n    if (typeof randomUUID === \"function\") {\n        return randomUUID();\n    }\n    const rand = Math.random().toString(36).slice(2, 8);\n    return `run_${Date.now()}_${rand}`;\n};\nconst deriveQualityChecks = (legacyMeta = {})=>{\n    const legacy = legacyMeta && legacyMeta.quality_checks ? legacyMeta.quality_checks : {};\n    const providerName = getConfiguredProviderName();\n    const withinLimits = typeof legacy.within_max_words === \"boolean\" ? legacy.within_max_words : typeof legacy.within_limits === \"boolean\" ? legacy.within_limits : true;\n    const noFabrication = typeof legacy.no_fabrication === \"boolean\" ? legacy.no_fabrication : typeof legacy.no_gray_scraping === \"boolean\" ? legacy.no_gray_scraping : true;\n    const dedupeOk = typeof legacy.dedupe_ok === \"boolean\" ? legacy.dedupe_ok : true;\n    const groundingOk = typeof legacy.grounded_claims_ok === \"boolean\" ? legacy.grounded_claims_ok : typeof legacy.grounding_ok === \"boolean\" ? legacy.grounding_ok : true;\n    const llmConnectedByEnv = providerName === \"real\" && hasRealProviderCredentials();\n    return {\n        no_fabrication: noFabrication,\n        within_limits: withinLimits,\n        dedupe_ok: dedupeOk,\n        grounding_ok: groundingOk,\n        llm_connected: typeof legacy.llm_connected === \"boolean\" ? legacy.llm_connected : llmConnectedByEnv,\n        schema_valid: true\n    };\n};\nconst unwrapLegacy = (payload)=>{\n    if (payload && payload.data && payload.meta) return payload.data;\n    return payload;\n};\nconst sanitizeInputEcho = (input)=>{\n    if (!input || typeof input !== \"object\") return input;\n    const clone = Array.isArray(input) ? [\n        ...input\n    ] : {\n        ...input\n    };\n    if (Array.isArray(clone)) return clone;\n    Object.keys(clone).forEach((key)=>{\n        if (key.startsWith(\"__\")) {\n            delete clone[key];\n        }\n    });\n    return clone;\n};\nconst wrapAgentOutput = ({ agentId, inputEcho, mode, legacyOutput, webStatsOverride, traceId })=>{\n    const data = legacyOutput || {};\n    const legacyMeta = data && data.meta ? data.meta : {};\n    const schema = getAgentSchema(agentId);\n    const validation = validateAgentResponse(data, schema);\n    const qualityChecks = deriveQualityChecks(legacyMeta);\n    qualityChecks.schema_valid = validation.ok;\n    const limitations = Array.isArray(legacyMeta.limitations) ? legacyMeta.limitations : [];\n    const assumptions = Array.isArray(legacyMeta.assumptions) ? legacyMeta.assumptions : [];\n    const warnings = Array.isArray(legacyMeta.warnings) ? legacyMeta.warnings : [];\n    const budgetApplied = legacyMeta && typeof legacyMeta.budget_applied === \"object\" ? legacyMeta.budget_applied : null;\n    const knowledgeUsed = legacyMeta && legacyMeta.knowledge_used || inputEcho && inputEcho.__knowledge_used || {\n        workspace_items: 0,\n        agent_items: 0,\n        top_ids: []\n    };\n    const web_stats = webStatsOverride || (legacyMeta && legacyMeta.web_stats ? legacyMeta.web_stats : null);\n    const handoff = buildHandoff(agentId, data);\n    const envelopeMeta = {\n        agent_id: agentId,\n        generated_at: new Date().toISOString(),\n        run_id: makeRunId(),\n        mode: mode || \"\",\n        input_echo: sanitizeInputEcho(inputEcho) || {},\n        quality_checks: qualityChecks,\n        limitations,\n        assumptions,\n        handoff,\n        web_stats,\n        knowledge_used: knowledgeUsed\n    };\n    if (warnings.length) {\n        envelopeMeta.warnings = warnings;\n    }\n    if (budgetApplied) {\n        envelopeMeta.budget_applied = budgetApplied;\n    }\n    const hasWebStats = web_stats && typeof web_stats === \"object\";\n    const trace_id = traceId || (hasWebStats ? envelopeMeta.run_id : undefined);\n    if (trace_id) {\n        envelopeMeta.trace_id = trace_id;\n    }\n    return {\n        data,\n        meta: envelopeMeta,\n        validation\n    };\n};\nmodule.exports = {\n    wrapAgentOutput,\n    unwrapLegacy\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsSUFBSUgsU0FBU2lCLE1BQU0sRUFBRTtRQUNuQk4sYUFBYVgsUUFBUSxHQUFHQTtJQUMxQjtJQUNBLElBQUlDLGVBQWU7UUFDakJVLGFBQWFULGNBQWMsR0FBR0Q7SUFDaEM7SUFFQSxNQUFNaUIsY0FBY1QsYUFBYSxPQUFPQSxjQUFjO0lBQ3RELE1BQU1VLFdBQVcxQixXQUFZeUIsQ0FBQUEsY0FBY1AsYUFBYUksTUFBTSxHQUFHSyxTQUFRO0lBQ3pFLElBQUlELFVBQVU7UUFDWlIsYUFBYVEsUUFBUSxHQUFHQTtJQUMxQjtJQUVBLE9BQU87UUFBRTVDO1FBQU1DLE1BQU1tQztRQUFjaEI7SUFBVztBQUNoRDtBQUVBMEIsT0FBT0MsT0FBTyxHQUFHO0lBQ2ZuQztJQUNBZDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYWdlbnRFbnZlbG9wZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJhbmRvbVVVSUQgfSA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCB7IGdldEFnZW50U2NoZW1hIH0gPSByZXF1aXJlKFwiLi9hZ2VudFNjaGVtYXNcIik7XG5jb25zdCB7IHZhbGlkYXRlQWdlbnRSZXNwb25zZSB9ID0gcmVxdWlyZShcIi4vdmFsaWRhdGVBZ2VudFJlc3BvbnNlXCIpO1xuY29uc3QgeyBidWlsZEhhbmRvZmYgfSA9IHJlcXVpcmUoXCIuL2hhbmRvZmZcIik7XG5jb25zdCB7XG4gIGdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUsXG4gIGhhc1JlYWxQcm92aWRlckNyZWRlbnRpYWxzXG59ID0gcmVxdWlyZShcIi4uL2xpYi9sbG0vcHJvdmlkZXIuanNcIik7XG5cbmNvbnN0IG1ha2VSdW5JZCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiByYW5kb21VVUlEID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcmFuZG9tVVVJRCgpO1xuICB9XG4gIGNvbnN0IHJhbmQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgcmV0dXJuIGBydW5fJHtEYXRlLm5vdygpfV8ke3JhbmR9YDtcbn07XG5cbmNvbnN0IGRlcml2ZVF1YWxpdHlDaGVja3MgPSAobGVnYWN5TWV0YSA9IHt9KSA9PiB7XG4gIGNvbnN0IGxlZ2FjeSA9IGxlZ2FjeU1ldGEgJiYgbGVnYWN5TWV0YS5xdWFsaXR5X2NoZWNrcyA/IGxlZ2FjeU1ldGEucXVhbGl0eV9jaGVja3MgOiB7fTtcbiAgY29uc3QgcHJvdmlkZXJOYW1lID0gZ2V0Q29uZmlndXJlZFByb3ZpZGVyTmFtZSgpO1xuICBjb25zdCB3aXRoaW5MaW1pdHMgPVxuICAgIHR5cGVvZiBsZWdhY3kud2l0aGluX21heF93b3JkcyA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5LndpdGhpbl9tYXhfd29yZHNcbiAgICAgIDogdHlwZW9mIGxlZ2FjeS53aXRoaW5fbGltaXRzID09PSBcImJvb2xlYW5cIlxuICAgICAgICA/IGxlZ2FjeS53aXRoaW5fbGltaXRzXG4gICAgICAgIDogdHJ1ZTtcbiAgY29uc3Qgbm9GYWJyaWNhdGlvbiA9XG4gICAgdHlwZW9mIGxlZ2FjeS5ub19mYWJyaWNhdGlvbiA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5Lm5vX2ZhYnJpY2F0aW9uXG4gICAgICA6IHR5cGVvZiBsZWdhY3kubm9fZ3JheV9zY3JhcGluZyA9PT0gXCJib29sZWFuXCJcbiAgICAgICAgPyBsZWdhY3kubm9fZ3JheV9zY3JhcGluZ1xuICAgICAgICA6IHRydWU7XG4gIGNvbnN0IGRlZHVwZU9rID0gdHlwZW9mIGxlZ2FjeS5kZWR1cGVfb2sgPT09IFwiYm9vbGVhblwiID8gbGVnYWN5LmRlZHVwZV9vayA6IHRydWU7XG4gIGNvbnN0IGdyb3VuZGluZ09rID1cbiAgICB0eXBlb2YgbGVnYWN5Lmdyb3VuZGVkX2NsYWltc19vayA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5Lmdyb3VuZGVkX2NsYWltc19va1xuICAgICAgOiB0eXBlb2YgbGVnYWN5Lmdyb3VuZGluZ19vayA9PT0gXCJib29sZWFuXCJcbiAgICAgICAgPyBsZWdhY3kuZ3JvdW5kaW5nX29rXG4gICAgICAgIDogdHJ1ZTtcbiAgY29uc3QgbGxtQ29ubmVjdGVkQnlFbnYgPSBwcm92aWRlck5hbWUgPT09IFwicmVhbFwiICYmIGhhc1JlYWxQcm92aWRlckNyZWRlbnRpYWxzKCk7XG4gIHJldHVybiB7XG4gICAgbm9fZmFicmljYXRpb246IG5vRmFicmljYXRpb24sXG4gICAgd2l0aGluX2xpbWl0czogd2l0aGluTGltaXRzLFxuICAgIGRlZHVwZV9vazogZGVkdXBlT2ssXG4gICAgZ3JvdW5kaW5nX29rOiBncm91bmRpbmdPayxcbiAgICBsbG1fY29ubmVjdGVkOlxuICAgICAgdHlwZW9mIGxlZ2FjeS5sbG1fY29ubmVjdGVkID09PSBcImJvb2xlYW5cIlxuICAgICAgICA/IGxlZ2FjeS5sbG1fY29ubmVjdGVkXG4gICAgICAgIDogbGxtQ29ubmVjdGVkQnlFbnYsXG4gICAgc2NoZW1hX3ZhbGlkOiB0cnVlXG4gIH07XG59O1xuXG5jb25zdCB1bndyYXBMZWdhY3kgPSAocGF5bG9hZCkgPT4ge1xuICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLmRhdGEgJiYgcGF5bG9hZC5tZXRhKSByZXR1cm4gcGF5bG9hZC5kYXRhO1xuICByZXR1cm4gcGF5bG9hZDtcbn07XG5cbmNvbnN0IHNhbml0aXplSW5wdXRFY2hvID0gKGlucHV0KSA9PiB7XG4gIGlmICghaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiKSByZXR1cm4gaW5wdXQ7XG4gIGNvbnN0IGNsb25lID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBbLi4uaW5wdXRdIDogeyAuLi5pbnB1dCB9O1xuICBpZiAoQXJyYXkuaXNBcnJheShjbG9uZSkpIHJldHVybiBjbG9uZTtcbiAgT2JqZWN0LmtleXMoY2xvbmUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fXCIpKSB7XG4gICAgICBkZWxldGUgY2xvbmVba2V5XTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xvbmU7XG59O1xuXG5jb25zdCB3cmFwQWdlbnRPdXRwdXQgPSAoe1xuICBhZ2VudElkLFxuICBpbnB1dEVjaG8sXG4gIG1vZGUsXG4gIGxlZ2FjeU91dHB1dCxcbiAgd2ViU3RhdHNPdmVycmlkZSxcbiAgdHJhY2VJZFxufSkgPT4ge1xuICBjb25zdCBkYXRhID0gbGVnYWN5T3V0cHV0IHx8IHt9O1xuICBjb25zdCBsZWdhY3lNZXRhID0gZGF0YSAmJiBkYXRhLm1ldGEgPyBkYXRhLm1ldGEgOiB7fTtcbiAgY29uc3Qgc2NoZW1hID0gZ2V0QWdlbnRTY2hlbWEoYWdlbnRJZCk7XG4gIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUFnZW50UmVzcG9uc2UoZGF0YSwgc2NoZW1hKTtcblxuICBjb25zdCBxdWFsaXR5Q2hlY2tzID0gZGVyaXZlUXVhbGl0eUNoZWNrcyhsZWdhY3lNZXRhKTtcbiAgcXVhbGl0eUNoZWNrcy5zY2hlbWFfdmFsaWQgPSB2YWxpZGF0aW9uLm9rO1xuXG4gIGNvbnN0IGxpbWl0YXRpb25zID0gQXJyYXkuaXNBcnJheShsZWdhY3lNZXRhLmxpbWl0YXRpb25zKSA/IGxlZ2FjeU1ldGEubGltaXRhdGlvbnMgOiBbXTtcbiAgY29uc3QgYXNzdW1wdGlvbnMgPSBBcnJheS5pc0FycmF5KGxlZ2FjeU1ldGEuYXNzdW1wdGlvbnMpID8gbGVnYWN5TWV0YS5hc3N1bXB0aW9ucyA6IFtdO1xuICBjb25zdCB3YXJuaW5ncyA9IEFycmF5LmlzQXJyYXkobGVnYWN5TWV0YS53YXJuaW5ncykgPyBsZWdhY3lNZXRhLndhcm5pbmdzIDogW107XG4gIGNvbnN0IGJ1ZGdldEFwcGxpZWQgPVxuICAgIGxlZ2FjeU1ldGEgJiYgdHlwZW9mIGxlZ2FjeU1ldGEuYnVkZ2V0X2FwcGxpZWQgPT09IFwib2JqZWN0XCJcbiAgICAgID8gbGVnYWN5TWV0YS5idWRnZXRfYXBwbGllZFxuICAgICAgOiBudWxsO1xuICBjb25zdCBrbm93bGVkZ2VVc2VkID1cbiAgICAobGVnYWN5TWV0YSAmJiBsZWdhY3lNZXRhLmtub3dsZWRnZV91c2VkKSB8fFxuICAgIChpbnB1dEVjaG8gJiYgaW5wdXRFY2hvLl9fa25vd2xlZGdlX3VzZWQpIHx8XG4gICAgeyB3b3Jrc3BhY2VfaXRlbXM6IDAsIGFnZW50X2l0ZW1zOiAwLCB0b3BfaWRzOiBbXSB9O1xuXG4gIGNvbnN0IHdlYl9zdGF0cyA9XG4gICAgd2ViU3RhdHNPdmVycmlkZSB8fCAobGVnYWN5TWV0YSAmJiBsZWdhY3lNZXRhLndlYl9zdGF0cyA/IGxlZ2FjeU1ldGEud2ViX3N0YXRzIDogbnVsbCk7XG5cbiAgY29uc3QgaGFuZG9mZiA9IGJ1aWxkSGFuZG9mZihhZ2VudElkLCBkYXRhKTtcblxuICBjb25zdCBlbnZlbG9wZU1ldGEgPSB7XG4gICAgYWdlbnRfaWQ6IGFnZW50SWQsXG4gICAgZ2VuZXJhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgcnVuX2lkOiBtYWtlUnVuSWQoKSxcbiAgICBtb2RlOiBtb2RlIHx8IFwiXCIsXG4gICAgaW5wdXRfZWNobzogc2FuaXRpemVJbnB1dEVjaG8oaW5wdXRFY2hvKSB8fCB7fSxcbiAgICBxdWFsaXR5X2NoZWNrczogcXVhbGl0eUNoZWNrcyxcbiAgICBsaW1pdGF0aW9ucyxcbiAgICBhc3N1bXB0aW9ucyxcbiAgICBoYW5kb2ZmLFxuICAgIHdlYl9zdGF0cyxcbiAgICBrbm93bGVkZ2VfdXNlZDoga25vd2xlZGdlVXNlZFxuICB9O1xuXG4gIGlmICh3YXJuaW5ncy5sZW5ndGgpIHtcbiAgICBlbnZlbG9wZU1ldGEud2FybmluZ3MgPSB3YXJuaW5ncztcbiAgfVxuICBpZiAoYnVkZ2V0QXBwbGllZCkge1xuICAgIGVudmVsb3BlTWV0YS5idWRnZXRfYXBwbGllZCA9IGJ1ZGdldEFwcGxpZWQ7XG4gIH1cblxuICBjb25zdCBoYXNXZWJTdGF0cyA9IHdlYl9zdGF0cyAmJiB0eXBlb2Ygd2ViX3N0YXRzID09PSBcIm9iamVjdFwiO1xuICBjb25zdCB0cmFjZV9pZCA9IHRyYWNlSWQgfHwgKGhhc1dlYlN0YXRzID8gZW52ZWxvcGVNZXRhLnJ1bl9pZCA6IHVuZGVmaW5lZCk7XG4gIGlmICh0cmFjZV9pZCkge1xuICAgIGVudmVsb3BlTWV0YS50cmFjZV9pZCA9IHRyYWNlX2lkO1xuICB9XG5cbiAgcmV0dXJuIHsgZGF0YSwgbWV0YTogZW52ZWxvcGVNZXRhLCB2YWxpZGF0aW9uIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgd3JhcEFnZW50T3V0cHV0LFxuICB1bndyYXBMZWdhY3lcbn07XG4iXSwibmFtZXMiOlsicmFuZG9tVVVJRCIsInJlcXVpcmUiLCJnZXRBZ2VudFNjaGVtYSIsInZhbGlkYXRlQWdlbnRSZXNwb25zZSIsImJ1aWxkSGFuZG9mZiIsImdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUiLCJoYXNSZWFsUHJvdmlkZXJDcmVkZW50aWFscyIsIm1ha2VSdW5JZCIsInJhbmQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsIkRhdGUiLCJub3ciLCJkZXJpdmVRdWFsaXR5Q2hlY2tzIiwibGVnYWN5TWV0YSIsImxlZ2FjeSIsInF1YWxpdHlfY2hlY2tzIiwicHJvdmlkZXJOYW1lIiwid2l0aGluTGltaXRzIiwid2l0aGluX21heF93b3JkcyIsIndpdGhpbl9saW1pdHMiLCJub0ZhYnJpY2F0aW9uIiwibm9fZmFicmljYXRpb24iLCJub19ncmF5X3NjcmFwaW5nIiwiZGVkdXBlT2siLCJkZWR1cGVfb2siLCJncm91bmRpbmdPayIsImdyb3VuZGVkX2NsYWltc19vayIsImdyb3VuZGluZ19vayIsImxsbUNvbm5lY3RlZEJ5RW52IiwibGxtX2Nvbm5lY3RlZCIsInNjaGVtYV92YWxpZCIsInVud3JhcExlZ2FjeSIsInBheWxvYWQiLCJkYXRhIiwibWV0YSIsInNhbml0aXplSW5wdXRFY2hvIiwiaW5wdXQiLCJjbG9uZSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic3RhcnRzV2l0aCIsIndyYXBBZ2VudE91dHB1dCIsImFnZW50SWQiLCJpbnB1dEVjaG8iLCJtb2RlIiwibGVnYWN5T3V0cHV0Iiwid2ViU3RhdHNPdmVycmlkZSIsInRyYWNlSWQiLCJzY2hlbWEiLCJ2YWxpZGF0aW9uIiwicXVhbGl0eUNoZWNrcyIsIm9rIiwibGltaXRhdGlvbnMiLCJhc3N1bXB0aW9ucyIsIndhcm5pbmdzIiwiYnVkZ2V0QXBwbGllZCIsImJ1ZGdldF9hcHBsaWVkIiwia25vd2xlZGdlVXNlZCIsImtub3dsZWRnZV91c2VkIiwiX19rbm93bGVkZ2VfdXNlZCIsIndvcmtzcGFjZV9pdGVtcyIsImFnZW50X2l0ZW1zIiwidG9wX2lkcyIsIndlYl9zdGF0cyIsImhhbmRvZmYiLCJlbnZlbG9wZU1ldGEiLCJhZ2VudF9pZCIsImdlbmVyYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwicnVuX2lkIiwiaW5wdXRfZWNobyIsImxlbmd0aCIsImhhc1dlYlN0YXRzIiwidHJhY2VfaWQiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./utils/agentEnvelope.js\n");

/***/ }),

/***/ "(rsc)/./utils/agentSchemas.js":
/*!*******************************!*\
  !*** ./utils/agentSchemas.js ***!
  \*******************************/
/***/ ((module) => {

eval("\nconst platonSchema = {\n    required: {\n        segments: \"array\",\n        company_candidates: \"array\",\n        meta: \"object\"\n    }\n};\nconst agentSchemas = {\n    \"platon-prospect-research-ru\": platonSchema,\n    platon: platonSchema,\n    \"anatoly-account-research-ru\": {\n        required: {\n            account_card: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"timofey-competitor-analysis-ru\": {\n        required: {\n            competitors: \"array\",\n            comparison_table: \"array\",\n            win_angles: \"array\",\n            agentos_positioning: \"object\",\n            offers: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"maxim-local-leads-ru\": {\n        required: {\n            leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"fedor-b2b-leads-ru\": {\n        required: {\n            leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"artem-hot-leads-ru\": {\n        required: {\n            hot_leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"leonid-outreach-dm-ru\": {\n        required: {\n            dm_pack: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"emelyan-cold-email-ru\": {\n        required: {\n            email_sequences: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"boris-bdr-operator-ru\": {\n        required: {\n            bdr_table: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"pavel-reels-analysis-ru\": {\n        required: {\n            analysis: \"object\",\n            script_skeleton: \"object\",\n            improvements: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"trofim-shorts-analogs-ru\": {\n        required: {\n            formats: \"array\",\n            recommendations: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"irina-content-ideation-ru\": {\n        required: {\n            pillars: \"array\",\n            topics: \"array\",\n            cta_bank: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"hariton-viral-hooks-ru\": {\n        required: {\n            hooks: \"array\",\n            posts: \"array\",\n            scripts: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"kostya-image-generation-ru\": {\n        required: {\n            concepts: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"seva-content-repurposing-ru\": {\n        required: {\n            pack: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"mitya-workflow-diagram-ru\": {\n        required: {\n            diagram: \"object\",\n            landing_text: \"object\",\n            deck_script: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-ceo-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-cto-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-cfo-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-chair-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    }\n};\nconst getAgentSchema = (agentId)=>agentSchemas[agentId] || null;\nmodule.exports = {\n    agentSchemas,\n    getAgentSchema\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9hZ2VudFNjaGVtYXMuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLGVBQWU7SUFDbkJDLFVBQVU7UUFBRUMsVUFBVTtRQUFTQyxvQkFBb0I7UUFBU0MsTUFBTTtJQUFTO0FBQzdFO0FBRUEsTUFBTUMsZUFBZTtJQUNuQiwrQkFBK0JMO0lBQy9CTSxRQUFRTjtJQUNSLCtCQUErQjtRQUM3QkMsVUFBVTtZQUFFTSxjQUFjO1lBQVVILE1BQU07UUFBUztJQUNyRDtJQUNBLGtDQUFrQztRQUNoQ0gsVUFBVTtZQUNSTyxhQUFhO1lBQ2JDLGtCQUFrQjtZQUNsQkMsWUFBWTtZQUNaQyxxQkFBcUI7WUFDckJDLFFBQVE7WUFDUlIsTUFBTTtRQUNSO0lBQ0Y7SUFDQSx3QkFBd0I7UUFDdEJILFVBQVU7WUFBRVksT0FBTztZQUFTVCxNQUFNO1FBQVM7SUFDN0M7SUFDQSxzQkFBc0I7UUFDcEJILFVBQVU7WUFBRVksT0FBTztZQUFTVCxNQUFNO1FBQVM7SUFDN0M7SUFDQSxzQkFBc0I7UUFDcEJILFVBQVU7WUFBRWEsV0FBVztZQUFTVixNQUFNO1FBQVM7SUFDakQ7SUFDQSx5QkFBeUI7UUFDdkJILFVBQVU7WUFBRWMsU0FBUztZQUFVWCxNQUFNO1FBQVM7SUFDaEQ7SUFDQSx5QkFBeUI7UUFDdkJILFVBQVU7WUFBRWUsaUJBQWlCO1lBQVNaLE1BQU07UUFBUztJQUN2RDtJQUNBLHlCQUF5QjtRQUN2QkgsVUFBVTtZQUFFZ0IsV0FBVztZQUFTYixNQUFNO1FBQVM7SUFDakQ7SUFDQSwyQkFBMkI7UUFDekJILFVBQVU7WUFBRWlCLFVBQVU7WUFBVUMsaUJBQWlCO1lBQVVDLGNBQWM7WUFBVWhCLE1BQU07UUFBUztJQUNwRztJQUNBLDRCQUE0QjtRQUMxQkgsVUFBVTtZQUFFb0IsU0FBUztZQUFTQyxpQkFBaUI7WUFBVWxCLE1BQU07UUFBUztJQUMxRTtJQUNBLDZCQUE2QjtRQUMzQkgsVUFBVTtZQUFFc0IsU0FBUztZQUFTQyxRQUFRO1lBQVNDLFVBQVU7WUFBVXJCLE1BQU07UUFBUztJQUNwRjtJQUNBLDBCQUEwQjtRQUN4QkgsVUFBVTtZQUFFeUIsT0FBTztZQUFTQyxPQUFPO1lBQVNDLFNBQVM7WUFBU3hCLE1BQU07UUFBUztJQUMvRTtJQUNBLDhCQUE4QjtRQUM1QkgsVUFBVTtZQUFFNEIsVUFBVTtZQUFTekIsTUFBTTtRQUFTO0lBQ2hEO0lBQ0EsK0JBQStCO1FBQzdCSCxVQUFVO1lBQUU2QixNQUFNO1lBQVUxQixNQUFNO1FBQVM7SUFDN0M7SUFDQSw2QkFBNkI7UUFDM0JILFVBQVU7WUFBRThCLFNBQVM7WUFBVUMsY0FBYztZQUFVQyxhQUFhO1lBQVU3QixNQUFNO1FBQVM7SUFDL0Y7SUFDQSxnQkFBZ0I7UUFDZEgsVUFBVTtZQUFFaUMsUUFBUTtZQUFVOUIsTUFBTTtRQUFTO0lBQy9DO0lBQ0EsZ0JBQWdCO1FBQ2RILFVBQVU7WUFBRWlDLFFBQVE7WUFBVTlCLE1BQU07UUFBUztJQUMvQztJQUNBLGdCQUFnQjtRQUNkSCxVQUFVO1lBQUVpQyxRQUFRO1lBQVU5QixNQUFNO1FBQVM7SUFDL0M7SUFDQSxrQkFBa0I7UUFDaEJILFVBQVU7WUFBRWlDLFFBQVE7WUFBVTlCLE1BQU07UUFBUztJQUMvQztBQUNGO0FBRUEsTUFBTStCLGlCQUFpQixDQUFDQyxVQUFZL0IsWUFBWSxDQUFDK0IsUUFBUSxJQUFJO0FBRTdEQyxPQUFPQyxPQUFPLEdBQUc7SUFBRWpDO0lBQWM4QjtBQUFlIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYWdlbnRTY2hlbWFzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBsYXRvblNjaGVtYSA9IHtcbiAgcmVxdWlyZWQ6IHsgc2VnbWVudHM6IFwiYXJyYXlcIiwgY29tcGFueV9jYW5kaWRhdGVzOiBcImFycmF5XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxufTtcblxuY29uc3QgYWdlbnRTY2hlbWFzID0ge1xuICBcInBsYXRvbi1wcm9zcGVjdC1yZXNlYXJjaC1ydVwiOiBwbGF0b25TY2hlbWEsXG4gIHBsYXRvbjogcGxhdG9uU2NoZW1hLFxuICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgYWNjb3VudF9jYXJkOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJ0aW1vZmV5LWNvbXBldGl0b3ItYW5hbHlzaXMtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7XG4gICAgICBjb21wZXRpdG9yczogXCJhcnJheVwiLFxuICAgICAgY29tcGFyaXNvbl90YWJsZTogXCJhcnJheVwiLFxuICAgICAgd2luX2FuZ2xlczogXCJhcnJheVwiLFxuICAgICAgYWdlbnRvc19wb3NpdGlvbmluZzogXCJvYmplY3RcIixcbiAgICAgIG9mZmVyczogXCJvYmplY3RcIixcbiAgICAgIG1ldGE6IFwib2JqZWN0XCJcbiAgICB9XG4gIH0sXG4gIFwibWF4aW0tbG9jYWwtbGVhZHMtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGxlYWRzOiBcImFycmF5XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxuICB9LFxuICBcImZlZG9yLWIyYi1sZWFkcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgbGVhZHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiYXJ0ZW0taG90LWxlYWRzLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBob3RfbGVhZHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBkbV9wYWNrOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGVtYWlsX3NlcXVlbmNlczogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGJkcl90YWJsZTogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJwYXZlbC1yZWVscy1hbmFseXNpcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgYW5hbHlzaXM6IFwib2JqZWN0XCIsIHNjcmlwdF9za2VsZXRvbjogXCJvYmplY3RcIiwgaW1wcm92ZW1lbnRzOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJ0cm9maW0tc2hvcnRzLWFuYWxvZ3MtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGZvcm1hdHM6IFwiYXJyYXlcIiwgcmVjb21tZW5kYXRpb25zOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJpcmluYS1jb250ZW50LWlkZWF0aW9uLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBwaWxsYXJzOiBcImFycmF5XCIsIHRvcGljczogXCJhcnJheVwiLCBjdGFfYmFuazogXCJvYmplY3RcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgaG9va3M6IFwiYXJyYXlcIiwgcG9zdHM6IFwiYXJyYXlcIiwgc2NyaXB0czogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgY29uY2VwdHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwic2V2YS1jb250ZW50LXJlcHVycG9zaW5nLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBwYWNrOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJtaXR5YS13b3JrZmxvdy1kaWFncmFtLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBkaWFncmFtOiBcIm9iamVjdFwiLCBsYW5kaW5nX3RleHQ6IFwib2JqZWN0XCIsIGRlY2tfc2NyaXB0OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib2FyZC1jZW8tcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IHJldmlldzogXCJvYmplY3RcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiYm9hcmQtY3RvLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyByZXZpZXc6IFwib2JqZWN0XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxuICB9LFxuICBcImJvYXJkLWNmby1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgcmV2aWV3OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib2FyZC1jaGFpci1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgcmV2aWV3OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfVxufTtcblxuY29uc3QgZ2V0QWdlbnRTY2hlbWEgPSAoYWdlbnRJZCkgPT4gYWdlbnRTY2hlbWFzW2FnZW50SWRdIHx8IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0geyBhZ2VudFNjaGVtYXMsIGdldEFnZW50U2NoZW1hIH07XG4iXSwibmFtZXMiOlsicGxhdG9uU2NoZW1hIiwicmVxdWlyZWQiLCJzZWdtZW50cyIsImNvbXBhbnlfY2FuZGlkYXRlcyIsIm1ldGEiLCJhZ2VudFNjaGVtYXMiLCJwbGF0b24iLCJhY2NvdW50X2NhcmQiLCJjb21wZXRpdG9ycyIsImNvbXBhcmlzb25fdGFibGUiLCJ3aW5fYW5nbGVzIiwiYWdlbnRvc19wb3NpdGlvbmluZyIsIm9mZmVycyIsImxlYWRzIiwiaG90X2xlYWRzIiwiZG1fcGFjayIsImVtYWlsX3NlcXVlbmNlcyIsImJkcl90YWJsZSIsImFuYWx5c2lzIiwic2NyaXB0X3NrZWxldG9uIiwiaW1wcm92ZW1lbnRzIiwiZm9ybWF0cyIsInJlY29tbWVuZGF0aW9ucyIsInBpbGxhcnMiLCJ0b3BpY3MiLCJjdGFfYmFuayIsImhvb2tzIiwicG9zdHMiLCJzY3JpcHRzIiwiY29uY2VwdHMiLCJwYWNrIiwiZGlhZ3JhbSIsImxhbmRpbmdfdGV4dCIsImRlY2tfc2NyaXB0IiwicmV2aWV3IiwiZ2V0QWdlbnRTY2hlbWEiLCJhZ2VudElkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/agentSchemas.js\n");

/***/ }),

/***/ "(rsc)/./utils/budget.js":
/*!*************************!*\
  !*** ./utils/budget.js ***!
  \*************************/
/***/ ((module) => {

eval("\nconst isFiniteNumber = (value)=>typeof value === \"number\" && Number.isFinite(value);\nconst getPath = (obj, path)=>{\n    if (!obj || !Array.isArray(path)) return undefined;\n    return path.reduce((acc, key)=>acc && typeof acc === \"object\" ? acc[key] : undefined, obj);\n};\nconst setPath = (obj, path, value)=>{\n    if (!obj || !Array.isArray(path)) return;\n    let cursor = obj;\n    for(let i = 0; i < path.length - 1; i += 1){\n        const key = path[i];\n        if (!cursor[key] || typeof cursor[key] !== \"object\") {\n            cursor[key] = {};\n        }\n        cursor = cursor[key];\n    }\n    cursor[path[path.length - 1]] = value;\n};\nconst clampValue = (current, maxValue)=>{\n    if (!isFiniteNumber(maxValue)) return current;\n    if (!isFiniteNumber(current)) return Math.round(maxValue);\n    return Math.min(current, maxValue);\n};\nconst applyBudget = (input, budget, options = {})=>{\n    const applied = {};\n    const warnings = new Set();\n    if (!budget || typeof budget !== \"object\") {\n        return {\n            budget_applied: null,\n            warnings: []\n        };\n    }\n    const { maxWebRequestsPath, maxItemsPaths = [], maxWordsPath } = options;\n    if (isFiniteNumber(budget.max_web_requests) && maxWebRequestsPath) {\n        const current = getPath(input, maxWebRequestsPath);\n        const clamped = clampValue(current, budget.max_web_requests);\n        if (isFiniteNumber(current) && clamped < current) warnings.add(\"budget_clamped\");\n        setPath(input, maxWebRequestsPath, Math.round(clamped));\n        applied.max_web_requests = Math.round(clamped);\n    }\n    if (isFiniteNumber(budget.max_items) && Array.isArray(maxItemsPaths) && maxItemsPaths.length) {\n        maxItemsPaths.forEach((path)=>{\n            const current = getPath(input, path);\n            const clamped = clampValue(current, budget.max_items);\n            if (isFiniteNumber(current) && clamped < current) warnings.add(\"budget_clamped\");\n            setPath(input, path, Math.round(clamped));\n        });\n        applied.max_items = Math.round(budget.max_items);\n    }\n    if (isFiniteNumber(budget.max_words) && maxWordsPath) {\n        const current = getPath(input, maxWordsPath);\n        const clamped = clampValue(current, budget.max_words);\n        if (isFiniteNumber(current) && clamped < current) warnings.add(\"budget_clamped\");\n        setPath(input, maxWordsPath, Math.round(clamped));\n        applied.max_words = Math.round(clamped);\n    }\n    return {\n        budget_applied: Object.keys(applied).length ? applied : null,\n        warnings: Array.from(warnings)\n    };\n};\nconst applyBudgetMeta = (meta, input)=>{\n    if (!meta || typeof meta !== \"object\" || !input || typeof input !== \"object\") return;\n    if (input.budget_applied) {\n        meta.budget_applied = input.budget_applied;\n    }\n    if (Array.isArray(input.budget_warnings) && input.budget_warnings.length) {\n        if (!Array.isArray(meta.warnings)) {\n            meta.warnings = [];\n        }\n        input.budget_warnings.forEach((warning)=>{\n            if (!meta.warnings.includes(warning)) meta.warnings.push(warning);\n        });\n    }\n};\nmodule.exports = {\n    applyBudget,\n    applyBudgetMeta\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVkLFFBQVFvQixPQUFPUztRQUMvQixNQUFNRSxVQUFVbEIsV0FBV0MsU0FBU08sT0FBT2MsU0FBUztRQUNwRCxJQUFJdkMsZUFBZWtCLFlBQVlpQixVQUFVakIsU0FBU1UsU0FBU1EsR0FBRyxDQUFDO1FBQy9EdkIsUUFBUVcsT0FBT1MsY0FBY2IsS0FBS0MsS0FBSyxDQUFDYztRQUN4Q1IsUUFBUVksU0FBUyxHQUFHbkIsS0FBS0MsS0FBSyxDQUFDYztJQUNqQztJQUVBLE9BQU87UUFDTEwsZ0JBQWdCVSxPQUFPQyxJQUFJLENBQUNkLFNBQVNYLE1BQU0sR0FBR1csVUFBVTtRQUN4REMsVUFBVXJCLE1BQU1tQyxJQUFJLENBQUNkO0lBQ3ZCO0FBQ0Y7QUFFQSxNQUFNZSxrQkFBa0IsQ0FBQ0MsTUFBTXBCO0lBQzdCLElBQUksQ0FBQ29CLFFBQVEsT0FBT0EsU0FBUyxZQUFZLENBQUNwQixTQUFTLE9BQU9BLFVBQVUsVUFBVTtJQUM5RSxJQUFJQSxNQUFNTSxjQUFjLEVBQUU7UUFDeEJjLEtBQUtkLGNBQWMsR0FBR04sTUFBTU0sY0FBYztJQUM1QztJQUNBLElBQUl2QixNQUFNQyxPQUFPLENBQUNnQixNQUFNcUIsZUFBZSxLQUFLckIsTUFBTXFCLGVBQWUsQ0FBQzdCLE1BQU0sRUFBRTtRQUN4RSxJQUFJLENBQUNULE1BQU1DLE9BQU8sQ0FBQ29DLEtBQUtoQixRQUFRLEdBQUc7WUFDakNnQixLQUFLaEIsUUFBUSxHQUFHLEVBQUU7UUFDcEI7UUFDQUosTUFBTXFCLGVBQWUsQ0FBQ1AsT0FBTyxDQUFDLENBQUNRO1lBQzdCLElBQUksQ0FBQ0YsS0FBS2hCLFFBQVEsQ0FBQ21CLFFBQVEsQ0FBQ0QsVUFBVUYsS0FBS2hCLFFBQVEsQ0FBQ29CLElBQUksQ0FBQ0Y7UUFDM0Q7SUFDRjtBQUNGO0FBRUFHLE9BQU9DLE9BQU8sR0FBRztJQUFFM0I7SUFBYW9CO0FBQWdCIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYnVkZ2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlzRmluaXRlTnVtYmVyID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcblxuY29uc3QgZ2V0UGF0aCA9IChvYmosIHBhdGgpID0+IHtcbiAgaWYgKCFvYmogfHwgIUFycmF5LmlzQXJyYXkocGF0aCkpIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBwYXRoLnJlZHVjZSgoYWNjLCBrZXkpID0+IChhY2MgJiYgdHlwZW9mIGFjYyA9PT0gXCJvYmplY3RcIiA/IGFjY1trZXldIDogdW5kZWZpbmVkKSwgb2JqKTtcbn07XG5cbmNvbnN0IHNldFBhdGggPSAob2JqLCBwYXRoLCB2YWx1ZSkgPT4ge1xuICBpZiAoIW9iaiB8fCAhQXJyYXkuaXNBcnJheShwYXRoKSkgcmV0dXJuO1xuICBsZXQgY3Vyc29yID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSArPSAxKSB7XG4gICAgY29uc3Qga2V5ID0gcGF0aFtpXTtcbiAgICBpZiAoIWN1cnNvcltrZXldIHx8IHR5cGVvZiBjdXJzb3Jba2V5XSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgY3Vyc29yW2tleV0gPSB7fTtcbiAgICB9XG4gICAgY3Vyc29yID0gY3Vyc29yW2tleV07XG4gIH1cbiAgY3Vyc29yW3BhdGhbcGF0aC5sZW5ndGggLSAxXV0gPSB2YWx1ZTtcbn07XG5cbmNvbnN0IGNsYW1wVmFsdWUgPSAoY3VycmVudCwgbWF4VmFsdWUpID0+IHtcbiAgaWYgKCFpc0Zpbml0ZU51bWJlcihtYXhWYWx1ZSkpIHJldHVybiBjdXJyZW50O1xuICBpZiAoIWlzRmluaXRlTnVtYmVyKGN1cnJlbnQpKSByZXR1cm4gTWF0aC5yb3VuZChtYXhWYWx1ZSk7XG4gIHJldHVybiBNYXRoLm1pbihjdXJyZW50LCBtYXhWYWx1ZSk7XG59O1xuXG5jb25zdCBhcHBseUJ1ZGdldCA9IChpbnB1dCwgYnVkZ2V0LCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgYXBwbGllZCA9IHt9O1xuICBjb25zdCB3YXJuaW5ncyA9IG5ldyBTZXQoKTtcbiAgaWYgKCFidWRnZXQgfHwgdHlwZW9mIGJ1ZGdldCAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiB7IGJ1ZGdldF9hcHBsaWVkOiBudWxsLCB3YXJuaW5nczogW10gfTtcbiAgfVxuXG4gIGNvbnN0IHsgbWF4V2ViUmVxdWVzdHNQYXRoLCBtYXhJdGVtc1BhdGhzID0gW10sIG1heFdvcmRzUGF0aCB9ID0gb3B0aW9ucztcblxuICBpZiAoaXNGaW5pdGVOdW1iZXIoYnVkZ2V0Lm1heF93ZWJfcmVxdWVzdHMpICYmIG1heFdlYlJlcXVlc3RzUGF0aCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBnZXRQYXRoKGlucHV0LCBtYXhXZWJSZXF1ZXN0c1BhdGgpO1xuICAgIGNvbnN0IGNsYW1wZWQgPSBjbGFtcFZhbHVlKGN1cnJlbnQsIGJ1ZGdldC5tYXhfd2ViX3JlcXVlc3RzKTtcbiAgICBpZiAoaXNGaW5pdGVOdW1iZXIoY3VycmVudCkgJiYgY2xhbXBlZCA8IGN1cnJlbnQpIHdhcm5pbmdzLmFkZChcImJ1ZGdldF9jbGFtcGVkXCIpO1xuICAgIHNldFBhdGgoaW5wdXQsIG1heFdlYlJlcXVlc3RzUGF0aCwgTWF0aC5yb3VuZChjbGFtcGVkKSk7XG4gICAgYXBwbGllZC5tYXhfd2ViX3JlcXVlc3RzID0gTWF0aC5yb3VuZChjbGFtcGVkKTtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZU51bWJlcihidWRnZXQubWF4X2l0ZW1zKSAmJiBBcnJheS5pc0FycmF5KG1heEl0ZW1zUGF0aHMpICYmIG1heEl0ZW1zUGF0aHMubGVuZ3RoKSB7XG4gICAgbWF4SXRlbXNQYXRocy5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gZ2V0UGF0aChpbnB1dCwgcGF0aCk7XG4gICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXBWYWx1ZShjdXJyZW50LCBidWRnZXQubWF4X2l0ZW1zKTtcbiAgICAgIGlmIChpc0Zpbml0ZU51bWJlcihjdXJyZW50KSAmJiBjbGFtcGVkIDwgY3VycmVudCkgd2FybmluZ3MuYWRkKFwiYnVkZ2V0X2NsYW1wZWRcIik7XG4gICAgICBzZXRQYXRoKGlucHV0LCBwYXRoLCBNYXRoLnJvdW5kKGNsYW1wZWQpKTtcbiAgICB9KTtcbiAgICBhcHBsaWVkLm1heF9pdGVtcyA9IE1hdGgucm91bmQoYnVkZ2V0Lm1heF9pdGVtcyk7XG4gIH1cblxuICBpZiAoaXNGaW5pdGVOdW1iZXIoYnVkZ2V0Lm1heF93b3JkcykgJiYgbWF4V29yZHNQYXRoKSB7XG4gICAgY29uc3QgY3VycmVudCA9IGdldFBhdGgoaW5wdXQsIG1heFdvcmRzUGF0aCk7XG4gICAgY29uc3QgY2xhbXBlZCA9IGNsYW1wVmFsdWUoY3VycmVudCwgYnVkZ2V0Lm1heF93b3Jkcyk7XG4gICAgaWYgKGlzRmluaXRlTnVtYmVyKGN1cnJlbnQpICYmIGNsYW1wZWQgPCBjdXJyZW50KSB3YXJuaW5ncy5hZGQoXCJidWRnZXRfY2xhbXBlZFwiKTtcbiAgICBzZXRQYXRoKGlucHV0LCBtYXhXb3Jkc1BhdGgsIE1hdGgucm91bmQoY2xhbXBlZCkpO1xuICAgIGFwcGxpZWQubWF4X3dvcmRzID0gTWF0aC5yb3VuZChjbGFtcGVkKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYnVkZ2V0X2FwcGxpZWQ6IE9iamVjdC5rZXlzKGFwcGxpZWQpLmxlbmd0aCA/IGFwcGxpZWQgOiBudWxsLFxuICAgIHdhcm5pbmdzOiBBcnJheS5mcm9tKHdhcm5pbmdzKVxuICB9O1xufTtcblxuY29uc3QgYXBwbHlCdWRnZXRNZXRhID0gKG1ldGEsIGlucHV0KSA9PiB7XG4gIGlmICghbWV0YSB8fCB0eXBlb2YgbWV0YSAhPT0gXCJvYmplY3RcIiB8fCAhaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiKSByZXR1cm47XG4gIGlmIChpbnB1dC5idWRnZXRfYXBwbGllZCkge1xuICAgIG1ldGEuYnVkZ2V0X2FwcGxpZWQgPSBpbnB1dC5idWRnZXRfYXBwbGllZDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dC5idWRnZXRfd2FybmluZ3MpICYmIGlucHV0LmJ1ZGdldF93YXJuaW5ncy5sZW5ndGgpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWV0YS53YXJuaW5ncykpIHtcbiAgICAgIG1ldGEud2FybmluZ3MgPSBbXTtcbiAgICB9XG4gICAgaW5wdXQuYnVkZ2V0X3dhcm5pbmdzLmZvckVhY2goKHdhcm5pbmcpID0+IHtcbiAgICAgIGlmICghbWV0YS53YXJuaW5ncy5pbmNsdWRlcyh3YXJuaW5nKSkgbWV0YS53YXJuaW5ncy5wdXNoKHdhcm5pbmcpO1xuICAgIH0pO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXBwbHlCdWRnZXQsIGFwcGx5QnVkZ2V0TWV0YSB9O1xuIl0sIm5hbWVzIjpbImlzRmluaXRlTnVtYmVyIiwidmFsdWUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImdldFBhdGgiLCJvYmoiLCJwYXRoIiwiQXJyYXkiLCJpc0FycmF5IiwidW5kZWZpbmVkIiwicmVkdWNlIiwiYWNjIiwia2V5Iiwic2V0UGF0aCIsImN1cnNvciIsImkiLCJsZW5ndGgiLCJjbGFtcFZhbHVlIiwiY3VycmVudCIsIm1heFZhbHVlIiwiTWF0aCIsInJvdW5kIiwibWluIiwiYXBwbHlCdWRnZXQiLCJpbnB1dCIsImJ1ZGdldCIsIm9wdGlvbnMiLCJhcHBsaWVkIiwid2FybmluZ3MiLCJTZXQiLCJidWRnZXRfYXBwbGllZCIsIm1heFdlYlJlcXVlc3RzUGF0aCIsIm1heEl0ZW1zUGF0aHMiLCJtYXhXb3Jkc1BhdGgiLCJtYXhfd2ViX3JlcXVlc3RzIiwiY2xhbXBlZCIsImFkZCIsIm1heF9pdGVtcyIsImZvckVhY2giLCJtYXhfd29yZHMiLCJPYmplY3QiLCJrZXlzIiwiZnJvbSIsImFwcGx5QnVkZ2V0TWV0YSIsIm1ldGEiLCJidWRnZXRfd2FybmluZ3MiLCJ3YXJuaW5nIiwiaW5jbHVkZXMiLCJwdXNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/budget.js\n");

/***/ }),

/***/ "(rsc)/./utils/compressPreserveShape.js":
/*!****************************************!*\
  !*** ./utils/compressPreserveShape.js ***!
  \****************************************/
/***/ ((module) => {

eval("\nconst countWords = (text)=>{\n    if (!text) return 0;\n    const matches = String(text).match(/[A-Za-zА-Яа-я0-9_]+/g);\n    return matches ? matches.length : 0;\n};\nconst countWordsInObject = (value)=>{\n    if (typeof value === \"string\") return countWords(value);\n    if (Array.isArray(value)) return value.reduce((acc, item)=>acc + countWordsInObject(item), 0);\n    if (value && typeof value === \"object\") {\n        return Object.values(value).reduce((acc, item)=>acc + countWordsInObject(item), 0);\n    }\n    return 0;\n};\nconst trimWords = (text, maxWords)=>{\n    if (!text) return \"\";\n    const words = String(text).trim().split(/\\s+/);\n    if (!Number.isFinite(maxWords) || maxWords <= 0) return \"\";\n    if (words.length <= maxWords) return String(text).trim();\n    return `${words.slice(0, maxWords).join(\" \")}...`;\n};\nconst deepClone = (value)=>{\n    try {\n        return JSON.parse(JSON.stringify(value));\n    } catch  {\n        return value;\n    }\n};\nconst mapStrings = (value, mapper, keyPath = [])=>{\n    if (typeof value === \"string\") {\n        return mapper(value, keyPath[keyPath.length - 1] || \"\", keyPath);\n    }\n    if (Array.isArray(value)) {\n        return value.map((item, index)=>mapStrings(item, mapper, [\n                ...keyPath,\n                String(index)\n            ]));\n    }\n    if (value && typeof value === \"object\") {\n        return Object.fromEntries(Object.entries(value).map(([key, val])=>[\n                key,\n                mapStrings(val, mapper, [\n                    ...keyPath,\n                    key\n                ])\n            ]));\n    }\n    return value;\n};\nconst clearFieldByName = (value, fieldName)=>{\n    if (Array.isArray(value)) return value.map((item)=>clearFieldByName(item, fieldName));\n    if (!value || typeof value !== \"object\") return value;\n    return Object.fromEntries(Object.entries(value).map(([key, val])=>{\n        if (key === fieldName) {\n            if (typeof val === \"string\") return [\n                key,\n                \"\"\n            ];\n            if (Array.isArray(val)) return [\n                key,\n                []\n            ];\n            if (val && typeof val === \"object\") return [\n                key,\n                {}\n            ];\n            return [\n                key,\n                null\n            ];\n        }\n        return [\n            key,\n            clearFieldByName(val, fieldName)\n        ];\n    }));\n};\nconst readPath = (obj, path)=>{\n    if (!obj || typeof obj !== \"object\") return undefined;\n    const keys = String(path || \"\").split(\".\").filter(Boolean);\n    let cursor = obj;\n    for (const key of keys){\n        if (!cursor || typeof cursor !== \"object\" && !Array.isArray(cursor)) return undefined;\n        cursor = cursor[key];\n        if (typeof cursor === \"undefined\") return undefined;\n    }\n    return cursor;\n};\nconst reduceArrayByPath = (obj, path, minCount, maxWords)=>{\n    const arr = readPath(obj, path);\n    if (!Array.isArray(arr)) return false;\n    const safeMin = Number.isFinite(minCount) ? Math.max(0, Math.round(minCount)) : 0;\n    let reduced = false;\n    while(countWordsInObject(obj) > maxWords && arr.length > safeMin){\n        arr.pop();\n        reduced = true;\n    }\n    return reduced;\n};\nconst normalizeArrayMinimums = (value)=>{\n    if (!value || typeof value !== \"object\") return [];\n    return Object.entries(value).map(([path, min])=>({\n            path,\n            min\n        })).filter((item)=>item.path && Number.isFinite(item.min));\n};\nconst compressPreserveShape = (payload, { max_words, priorities } = {})=>{\n    if (!Number.isFinite(max_words) || max_words <= 0) {\n        return {\n            output: payload,\n            within: true,\n            compressed: false,\n            compressed_heavily: false,\n            words_before: countWordsInObject(payload),\n            words_after: countWordsInObject(payload)\n        };\n    }\n    let output = deepClone(payload);\n    const wordsBefore = countWordsInObject(output);\n    if (wordsBefore <= max_words) {\n        return {\n            output,\n            within: true,\n            compressed: false,\n            compressed_heavily: false,\n            words_before: wordsBefore,\n            words_after: wordsBefore\n        };\n    }\n    const priority = priorities && typeof priorities === \"object\" ? priorities : {};\n    const textKeys = Array.isArray(priority.text_keys) ? priority.text_keys : [\n        \"body\",\n        \"text\",\n        \"notes\",\n        \"description\",\n        \"summary\",\n        \"proof_line\",\n        \"why_ru\"\n    ];\n    const secondaryFields = Array.isArray(priority.secondary_fields) ? priority.secondary_fields : [\n        \"notes\",\n        \"why_ru\"\n    ];\n    const primaryPasses = Array.isArray(priority.primary_passes) ? priority.primary_passes : [\n        32,\n        24,\n        18,\n        14\n    ];\n    const globalPasses = Array.isArray(priority.global_passes) ? priority.global_passes : [\n        12,\n        10,\n        8,\n        6,\n        4,\n        3\n    ];\n    const arrayMinimums = normalizeArrayMinimums(priority.array_minimums);\n    let droppedSecondary = false;\n    let reducedItems = false;\n    for (const pass of primaryPasses){\n        if (countWordsInObject(output) <= max_words) break;\n        output = mapStrings(output, (text, key)=>textKeys.includes(key) ? trimWords(text, pass) : text);\n    }\n    for (const pass of globalPasses){\n        if (countWordsInObject(output) <= max_words) break;\n        output = mapStrings(output, (text)=>trimWords(text, pass));\n    }\n    for (const field of secondaryFields){\n        if (countWordsInObject(output) <= max_words) break;\n        if (!field || typeof field !== \"string\") continue;\n        if (field.includes(\".\")) {\n            const current = readPath(output, field);\n            if (typeof current === \"string\") {\n                const keys = field.split(\".\");\n                let cursor = output;\n                for(let i = 0; i < keys.length - 1; i += 1){\n                    if (!cursor || typeof cursor !== \"object\") break;\n                    cursor = cursor[keys[i]];\n                }\n                const last = keys[keys.length - 1];\n                if (cursor && typeof cursor === \"object\" && Object.prototype.hasOwnProperty.call(cursor, last)) {\n                    cursor[last] = \"\";\n                    droppedSecondary = true;\n                }\n            }\n            continue;\n        }\n        output = clearFieldByName(output, field);\n        droppedSecondary = true;\n    }\n    for (const rule of arrayMinimums){\n        if (countWordsInObject(output) <= max_words) break;\n        const didReduce = reduceArrayByPath(output, rule.path, rule.min, max_words);\n        if (didReduce) reducedItems = true;\n    }\n    if (countWordsInObject(output) > max_words) {\n        output = mapStrings(output, (text)=>trimWords(text, 2));\n    }\n    const wordsAfter = countWordsInObject(output);\n    const within = wordsAfter <= max_words;\n    const compressed = wordsAfter < wordsBefore;\n    return {\n        output,\n        within,\n        compressed,\n        compressed_heavily: reducedItems || droppedSecondary || !within,\n        words_before: wordsBefore,\n        words_after: wordsAfter\n    };\n};\nmodule.exports = {\n    compressPreserveShape,\n    countWordsInObject,\n    trimWords\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDMUI7Z0JBQ0EsTUFBTUMsT0FBTzVDLElBQUksQ0FBQ0EsS0FBS3RDLE1BQU0sR0FBRyxFQUFFO2dCQUNsQyxJQUFJeUMsVUFBVSxPQUFPQSxXQUFXLFlBQVlqQyxPQUFPMkUsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQzVDLFFBQVF5QyxPQUFPO29CQUM5RnpDLE1BQU0sQ0FBQ3lDLEtBQUssR0FBRztvQkFDZlAsbUJBQW1CO2dCQUNyQjtZQUNGO1lBQ0E7UUFDRjtRQUVBbEIsU0FBU3pCLGlCQUFpQnlCLFFBQVFzQjtRQUNsQ0osbUJBQW1CO0lBQ3JCO0lBRUEsS0FBSyxNQUFNVyxRQUFRYixjQUFlO1FBQ2hDLElBQUl4RSxtQkFBbUJ3RCxXQUFXRixXQUFXO1FBQzdDLE1BQU1nQyxZQUFZN0Msa0JBQWtCZSxRQUFRNkIsS0FBS2xELElBQUksRUFBRWtELEtBQUtsQyxHQUFHLEVBQUVHO1FBQ2pFLElBQUlnQyxXQUFXWCxlQUFlO0lBQ2hDO0lBRUEsSUFBSTNFLG1CQUFtQndELFVBQVVGLFdBQVc7UUFDMUNFLFNBQVNsQyxXQUFXa0MsUUFBUSxDQUFDN0QsT0FBU2MsVUFBVWQsTUFBTTtJQUN4RDtJQUVBLE1BQU00RixhQUFhdkYsbUJBQW1Cd0Q7SUFDdEMsTUFBTUMsU0FBUzhCLGNBQWNqQztJQUM3QixNQUFNSSxhQUFhNkIsYUFBYXpCO0lBRWhDLE9BQU87UUFDTE47UUFDQUM7UUFDQUM7UUFDQUMsb0JBQW9CZ0IsZ0JBQWdCRCxvQkFBb0IsQ0FBQ2pCO1FBQ3pERyxjQUFjRTtRQUNkRCxhQUFhMEI7SUFDZjtBQUNGO0FBRUFDLE9BQU9DLE9BQU8sR0FBRztJQUNmckM7SUFDQXBEO0lBQ0FTO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy91dGlscy9jb21wcmVzc1ByZXNlcnZlU2hhcGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY291bnRXb3JkcyA9ICh0ZXh0KSA9PiB7XG4gIGlmICghdGV4dCkgcmV0dXJuIDA7XG4gIGNvbnN0IG1hdGNoZXMgPSBTdHJpbmcodGV4dCkubWF0Y2goL1tBLVphLXrQkC3Qr9CwLdGPMC05X10rL2cpO1xuICByZXR1cm4gbWF0Y2hlcyA/IG1hdGNoZXMubGVuZ3RoIDogMDtcbn07XG5cbmNvbnN0IGNvdW50V29yZHNJbk9iamVjdCA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSByZXR1cm4gY291bnRXb3Jkcyh2YWx1ZSk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIHZhbHVlLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgKyBjb3VudFdvcmRzSW5PYmplY3QoaXRlbSksIDApO1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModmFsdWUpLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiBhY2MgKyBjb3VudFdvcmRzSW5PYmplY3QoaXRlbSksIDApO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuY29uc3QgdHJpbVdvcmRzID0gKHRleHQsIG1heFdvcmRzKSA9PiB7XG4gIGlmICghdGV4dCkgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IHdvcmRzID0gU3RyaW5nKHRleHQpLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZShtYXhXb3JkcykgfHwgbWF4V29yZHMgPD0gMCkgcmV0dXJuIFwiXCI7XG4gIGlmICh3b3Jkcy5sZW5ndGggPD0gbWF4V29yZHMpIHJldHVybiBTdHJpbmcodGV4dCkudHJpbSgpO1xuICByZXR1cm4gYCR7d29yZHMuc2xpY2UoMCwgbWF4V29yZHMpLmpvaW4oXCIgXCIpfS4uLmA7XG59O1xuXG5jb25zdCBkZWVwQ2xvbmUgPSAodmFsdWUpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmNvbnN0IG1hcFN0cmluZ3MgPSAodmFsdWUsIG1hcHBlciwga2V5UGF0aCA9IFtdKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gbWFwcGVyKHZhbHVlLCBrZXlQYXRoW2tleVBhdGgubGVuZ3RoIC0gMV0gfHwgXCJcIiwga2V5UGF0aCk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlLm1hcCgoaXRlbSwgaW5kZXgpID0+IG1hcFN0cmluZ3MoaXRlbSwgbWFwcGVyLCBbLi4ua2V5UGF0aCwgU3RyaW5nKGluZGV4KV0pKTtcbiAgfVxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoKFtrZXksIHZhbF0pID0+IFtrZXksIG1hcFN0cmluZ3ModmFsLCBtYXBwZXIsIFsuLi5rZXlQYXRoLCBrZXldKV0pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCBjbGVhckZpZWxkQnlOYW1lID0gKHZhbHVlLCBmaWVsZE5hbWUpID0+IHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUubWFwKChpdGVtKSA9PiBjbGVhckZpZWxkQnlOYW1lKGl0ZW0sIGZpZWxkTmFtZSkpO1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW2tleSwgdmFsXSkgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gZmllbGROYW1lKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKSByZXR1cm4gW2tleSwgXCJcIl07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHJldHVybiBba2V5LCBbXV07XG4gICAgICAgIGlmICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gXCJvYmplY3RcIikgcmV0dXJuIFtrZXksIHt9XTtcbiAgICAgICAgcmV0dXJuIFtrZXksIG51bGxdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtrZXksIGNsZWFyRmllbGRCeU5hbWUodmFsLCBmaWVsZE5hbWUpXTtcbiAgICB9KVxuICApO1xufTtcblxuY29uc3QgcmVhZFBhdGggPSAob2JqLCBwYXRoKSA9PiB7XG4gIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIpIHJldHVybiB1bmRlZmluZWQ7XG4gIGNvbnN0IGtleXMgPSBTdHJpbmcocGF0aCB8fCBcIlwiKS5zcGxpdChcIi5cIikuZmlsdGVyKEJvb2xlYW4pO1xuICBsZXQgY3Vyc29yID0gb2JqO1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgaWYgKCFjdXJzb3IgfHwgKHR5cGVvZiBjdXJzb3IgIT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoY3Vyc29yKSkpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY3Vyc29yID0gY3Vyc29yW2tleV07XG4gICAgaWYgKHR5cGVvZiBjdXJzb3IgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIGN1cnNvcjtcbn07XG5cbmNvbnN0IHJlZHVjZUFycmF5QnlQYXRoID0gKG9iaiwgcGF0aCwgbWluQ291bnQsIG1heFdvcmRzKSA9PiB7XG4gIGNvbnN0IGFyciA9IHJlYWRQYXRoKG9iaiwgcGF0aCk7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IHNhZmVNaW4gPSBOdW1iZXIuaXNGaW5pdGUobWluQ291bnQpID8gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChtaW5Db3VudCkpIDogMDtcbiAgbGV0IHJlZHVjZWQgPSBmYWxzZTtcbiAgd2hpbGUgKGNvdW50V29yZHNJbk9iamVjdChvYmopID4gbWF4V29yZHMgJiYgYXJyLmxlbmd0aCA+IHNhZmVNaW4pIHtcbiAgICBhcnIucG9wKCk7XG4gICAgcmVkdWNlZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlZHVjZWQ7XG59O1xuXG5jb25zdCBub3JtYWxpemVBcnJheU1pbmltdW1zID0gKHZhbHVlKSA9PiB7XG4gIGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSByZXR1cm4gW107XG4gIHJldHVybiBPYmplY3QuZW50cmllcyh2YWx1ZSlcbiAgICAubWFwKChbcGF0aCwgbWluXSkgPT4gKHsgcGF0aCwgbWluIH0pKVxuICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ucGF0aCAmJiBOdW1iZXIuaXNGaW5pdGUoaXRlbS5taW4pKTtcbn07XG5cbmNvbnN0IGNvbXByZXNzUHJlc2VydmVTaGFwZSA9IChwYXlsb2FkLCB7IG1heF93b3JkcywgcHJpb3JpdGllcyB9ID0ge30pID0+IHtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUobWF4X3dvcmRzKSB8fCBtYXhfd29yZHMgPD0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBvdXRwdXQ6IHBheWxvYWQsXG4gICAgICB3aXRoaW46IHRydWUsXG4gICAgICBjb21wcmVzc2VkOiBmYWxzZSxcbiAgICAgIGNvbXByZXNzZWRfaGVhdmlseTogZmFsc2UsXG4gICAgICB3b3Jkc19iZWZvcmU6IGNvdW50V29yZHNJbk9iamVjdChwYXlsb2FkKSxcbiAgICAgIHdvcmRzX2FmdGVyOiBjb3VudFdvcmRzSW5PYmplY3QocGF5bG9hZClcbiAgICB9O1xuICB9XG5cbiAgbGV0IG91dHB1dCA9IGRlZXBDbG9uZShwYXlsb2FkKTtcbiAgY29uc3Qgd29yZHNCZWZvcmUgPSBjb3VudFdvcmRzSW5PYmplY3Qob3V0cHV0KTtcbiAgaWYgKHdvcmRzQmVmb3JlIDw9IG1heF93b3Jkcykge1xuICAgIHJldHVybiB7XG4gICAgICBvdXRwdXQsXG4gICAgICB3aXRoaW46IHRydWUsXG4gICAgICBjb21wcmVzc2VkOiBmYWxzZSxcbiAgICAgIGNvbXByZXNzZWRfaGVhdmlseTogZmFsc2UsXG4gICAgICB3b3Jkc19iZWZvcmU6IHdvcmRzQmVmb3JlLFxuICAgICAgd29yZHNfYWZ0ZXI6IHdvcmRzQmVmb3JlXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHByaW9yaXR5ID0gcHJpb3JpdGllcyAmJiB0eXBlb2YgcHJpb3JpdGllcyA9PT0gXCJvYmplY3RcIiA/IHByaW9yaXRpZXMgOiB7fTtcbiAgY29uc3QgdGV4dEtleXMgPSBBcnJheS5pc0FycmF5KHByaW9yaXR5LnRleHRfa2V5cylcbiAgICA/IHByaW9yaXR5LnRleHRfa2V5c1xuICAgIDogW1wiYm9keVwiLCBcInRleHRcIiwgXCJub3Rlc1wiLCBcImRlc2NyaXB0aW9uXCIsIFwic3VtbWFyeVwiLCBcInByb29mX2xpbmVcIiwgXCJ3aHlfcnVcIl07XG4gIGNvbnN0IHNlY29uZGFyeUZpZWxkcyA9IEFycmF5LmlzQXJyYXkocHJpb3JpdHkuc2Vjb25kYXJ5X2ZpZWxkcylcbiAgICA/IHByaW9yaXR5LnNlY29uZGFyeV9maWVsZHNcbiAgICA6IFtcIm5vdGVzXCIsIFwid2h5X3J1XCJdO1xuICBjb25zdCBwcmltYXJ5UGFzc2VzID0gQXJyYXkuaXNBcnJheShwcmlvcml0eS5wcmltYXJ5X3Bhc3NlcylcbiAgICA/IHByaW9yaXR5LnByaW1hcnlfcGFzc2VzXG4gICAgOiBbMzIsIDI0LCAxOCwgMTRdO1xuICBjb25zdCBnbG9iYWxQYXNzZXMgPSBBcnJheS5pc0FycmF5KHByaW9yaXR5Lmdsb2JhbF9wYXNzZXMpXG4gICAgPyBwcmlvcml0eS5nbG9iYWxfcGFzc2VzXG4gICAgOiBbMTIsIDEwLCA4LCA2LCA0LCAzXTtcbiAgY29uc3QgYXJyYXlNaW5pbXVtcyA9IG5vcm1hbGl6ZUFycmF5TWluaW11bXMocHJpb3JpdHkuYXJyYXlfbWluaW11bXMpO1xuXG4gIGxldCBkcm9wcGVkU2Vjb25kYXJ5ID0gZmFsc2U7XG4gIGxldCByZWR1Y2VkSXRlbXMgPSBmYWxzZTtcblxuICBmb3IgKGNvbnN0IHBhc3Mgb2YgcHJpbWFyeVBhc3Nlcykge1xuICAgIGlmIChjb3VudFdvcmRzSW5PYmplY3Qob3V0cHV0KSA8PSBtYXhfd29yZHMpIGJyZWFrO1xuICAgIG91dHB1dCA9IG1hcFN0cmluZ3Mob3V0cHV0LCAodGV4dCwga2V5KSA9PlxuICAgICAgdGV4dEtleXMuaW5jbHVkZXMoa2V5KSA/IHRyaW1Xb3Jkcyh0ZXh0LCBwYXNzKSA6IHRleHRcbiAgICApO1xuICB9XG5cbiAgZm9yIChjb25zdCBwYXNzIG9mIGdsb2JhbFBhc3Nlcykge1xuICAgIGlmIChjb3VudFdvcmRzSW5PYmplY3Qob3V0cHV0KSA8PSBtYXhfd29yZHMpIGJyZWFrO1xuICAgIG91dHB1dCA9IG1hcFN0cmluZ3Mob3V0cHV0LCAodGV4dCkgPT4gdHJpbVdvcmRzKHRleHQsIHBhc3MpKTtcbiAgfVxuXG4gIGZvciAoY29uc3QgZmllbGQgb2Ygc2Vjb25kYXJ5RmllbGRzKSB7XG4gICAgaWYgKGNvdW50V29yZHNJbk9iamVjdChvdXRwdXQpIDw9IG1heF93b3JkcykgYnJlYWs7XG4gICAgaWYgKCFmaWVsZCB8fCB0eXBlb2YgZmllbGQgIT09IFwic3RyaW5nXCIpIGNvbnRpbnVlO1xuXG4gICAgaWYgKGZpZWxkLmluY2x1ZGVzKFwiLlwiKSkge1xuICAgICAgY29uc3QgY3VycmVudCA9IHJlYWRQYXRoKG91dHB1dCwgZmllbGQpO1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBmaWVsZC5zcGxpdChcIi5cIik7XG4gICAgICAgIGxldCBjdXJzb3IgPSBvdXRwdXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpICs9IDEpIHtcbiAgICAgICAgICBpZiAoIWN1cnNvciB8fCB0eXBlb2YgY3Vyc29yICE9PSBcIm9iamVjdFwiKSBicmVhaztcbiAgICAgICAgICBjdXJzb3IgPSBjdXJzb3Jba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFzdCA9IGtleXNba2V5cy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGN1cnNvciAmJiB0eXBlb2YgY3Vyc29yID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjdXJzb3IsIGxhc3QpKSB7XG4gICAgICAgICAgY3Vyc29yW2xhc3RdID0gXCJcIjtcbiAgICAgICAgICBkcm9wcGVkU2Vjb25kYXJ5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgb3V0cHV0ID0gY2xlYXJGaWVsZEJ5TmFtZShvdXRwdXQsIGZpZWxkKTtcbiAgICBkcm9wcGVkU2Vjb25kYXJ5ID0gdHJ1ZTtcbiAgfVxuXG4gIGZvciAoY29uc3QgcnVsZSBvZiBhcnJheU1pbmltdW1zKSB7XG4gICAgaWYgKGNvdW50V29yZHNJbk9iamVjdChvdXRwdXQpIDw9IG1heF93b3JkcykgYnJlYWs7XG4gICAgY29uc3QgZGlkUmVkdWNlID0gcmVkdWNlQXJyYXlCeVBhdGgob3V0cHV0LCBydWxlLnBhdGgsIHJ1bGUubWluLCBtYXhfd29yZHMpO1xuICAgIGlmIChkaWRSZWR1Y2UpIHJlZHVjZWRJdGVtcyA9IHRydWU7XG4gIH1cblxuICBpZiAoY291bnRXb3Jkc0luT2JqZWN0KG91dHB1dCkgPiBtYXhfd29yZHMpIHtcbiAgICBvdXRwdXQgPSBtYXBTdHJpbmdzKG91dHB1dCwgKHRleHQpID0+IHRyaW1Xb3Jkcyh0ZXh0LCAyKSk7XG4gIH1cblxuICBjb25zdCB3b3Jkc0FmdGVyID0gY291bnRXb3Jkc0luT2JqZWN0KG91dHB1dCk7XG4gIGNvbnN0IHdpdGhpbiA9IHdvcmRzQWZ0ZXIgPD0gbWF4X3dvcmRzO1xuICBjb25zdCBjb21wcmVzc2VkID0gd29yZHNBZnRlciA8IHdvcmRzQmVmb3JlO1xuXG4gIHJldHVybiB7XG4gICAgb3V0cHV0LFxuICAgIHdpdGhpbixcbiAgICBjb21wcmVzc2VkLFxuICAgIGNvbXByZXNzZWRfaGVhdmlseTogcmVkdWNlZEl0ZW1zIHx8IGRyb3BwZWRTZWNvbmRhcnkgfHwgIXdpdGhpbixcbiAgICB3b3Jkc19iZWZvcmU6IHdvcmRzQmVmb3JlLFxuICAgIHdvcmRzX2FmdGVyOiB3b3Jkc0FmdGVyXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29tcHJlc3NQcmVzZXJ2ZVNoYXBlLFxuICBjb3VudFdvcmRzSW5PYmplY3QsXG4gIHRyaW1Xb3Jkc1xufTtcbiJdLCJuYW1lcyI6WyJjb3VudFdvcmRzIiwidGV4dCIsIm1hdGNoZXMiLCJTdHJpbmciLCJtYXRjaCIsImxlbmd0aCIsImNvdW50V29yZHNJbk9iamVjdCIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwicmVkdWNlIiwiYWNjIiwiaXRlbSIsIk9iamVjdCIsInZhbHVlcyIsInRyaW1Xb3JkcyIsIm1heFdvcmRzIiwid29yZHMiLCJ0cmltIiwic3BsaXQiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInNsaWNlIiwiam9pbiIsImRlZXBDbG9uZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIm1hcFN0cmluZ3MiLCJtYXBwZXIiLCJrZXlQYXRoIiwibWFwIiwiaW5kZXgiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJrZXkiLCJ2YWwiLCJjbGVhckZpZWxkQnlOYW1lIiwiZmllbGROYW1lIiwicmVhZFBhdGgiLCJvYmoiLCJwYXRoIiwidW5kZWZpbmVkIiwia2V5cyIsImZpbHRlciIsIkJvb2xlYW4iLCJjdXJzb3IiLCJyZWR1Y2VBcnJheUJ5UGF0aCIsIm1pbkNvdW50IiwiYXJyIiwic2FmZU1pbiIsIk1hdGgiLCJtYXgiLCJyb3VuZCIsInJlZHVjZWQiLCJwb3AiLCJub3JtYWxpemVBcnJheU1pbmltdW1zIiwibWluIiwiY29tcHJlc3NQcmVzZXJ2ZVNoYXBlIiwicGF5bG9hZCIsIm1heF93b3JkcyIsInByaW9yaXRpZXMiLCJvdXRwdXQiLCJ3aXRoaW4iLCJjb21wcmVzc2VkIiwiY29tcHJlc3NlZF9oZWF2aWx5Iiwid29yZHNfYmVmb3JlIiwid29yZHNfYWZ0ZXIiLCJ3b3Jkc0JlZm9yZSIsInByaW9yaXR5IiwidGV4dEtleXMiLCJ0ZXh0X2tleXMiLCJzZWNvbmRhcnlGaWVsZHMiLCJzZWNvbmRhcnlfZmllbGRzIiwicHJpbWFyeVBhc3NlcyIsInByaW1hcnlfcGFzc2VzIiwiZ2xvYmFsUGFzc2VzIiwiZ2xvYmFsX3Bhc3NlcyIsImFycmF5TWluaW11bXMiLCJhcnJheV9taW5pbXVtcyIsImRyb3BwZWRTZWNvbmRhcnkiLCJyZWR1Y2VkSXRlbXMiLCJwYXNzIiwiaW5jbHVkZXMiLCJmaWVsZCIsImN1cnJlbnQiLCJpIiwibGFzdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJ1bGUiLCJkaWRSZWR1Y2UiLCJ3b3Jkc0FmdGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/compressPreserveShape.js\n");

/***/ }),

/***/ "(rsc)/./utils/handoff.js":
/*!**************************!*\
  !*** ./utils/handoff.js ***!
  \**************************/
/***/ ((module) => {

eval("\nconst HANDOFF_VERSION = \"1.0\";\nconst COMPAT_BY_TYPE = {\n    leads_table: [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    account_card: [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    hot_leads: [\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    messages_pack: [\n        \"boris-bdr-operator-ru\"\n    ],\n    bdr_queue: [],\n    board_review: [],\n    content_pack: []\n};\nconst RECOMMENDED_NEXT = {\n    \"platon-prospect-research-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    platon: [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"maxim-local-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"fedor-b2b-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"artem-hot-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"anatoly-account-research-ru\": [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"timofey-competitor-analysis-ru\": [\n        \"platon-prospect-research-ru\",\n        \"anatoly-account-research-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"leonid-outreach-dm-ru\": [\n        \"boris-bdr-operator-ru\"\n    ],\n    \"emelyan-cold-email-ru\": [\n        \"boris-bdr-operator-ru\"\n    ],\n    \"boris-bdr-operator-ru\": [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\"\n    ],\n    \"pavel-reels-analysis-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"trofim-shorts-analogs-ru\"\n    ],\n    \"trofim-shorts-analogs-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"pavel-reels-analysis-ru\"\n    ],\n    \"irina-content-ideation-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"kostya-image-generation-ru\"\n    ],\n    \"hariton-viral-hooks-ru\": [\n        \"kostya-image-generation-ru\",\n        \"seva-content-repurposing-ru\"\n    ],\n    \"kostya-image-generation-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"irina-content-ideation-ru\"\n    ],\n    \"seva-content-repurposing-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"kostya-image-generation-ru\"\n    ],\n    \"mitya-workflow-diagram-ru\": [\n        \"kostya-image-generation-ru\",\n        \"irina-content-ideation-ru\"\n    ],\n    \"board-ceo-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-cto-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-cfo-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-chair-ru\": []\n};\nconst normalizeLead = (lead)=>{\n    if (!lead || typeof lead !== \"object\") return null;\n    const leadName = lead.name || lead.company_name || lead.title || lead.name_placeholder || lead.lead_label || lead.link || lead.url || \"Lead\";\n    const contact = {\n        email: lead.email || (lead.public_contacts ? lead.public_contacts.email : undefined) || undefined,\n        phone: lead.phone || (lead.public_contacts ? lead.public_contacts.phone : undefined) || undefined,\n        website: lead.website || lead.domain || undefined,\n        url: lead.link || lead.url || lead.source_url || undefined\n    };\n    const source = lead.source || lead.channel || lead.source_type || \"\";\n    return {\n        lead_name: String(leadName),\n        dedupe_key: lead.dedupe_key || lead.dedupe_key_raw || \"\",\n        contact,\n        source,\n        proof_refs: lead.proof_refs || undefined\n    };\n};\nconst buildLeadsTableEntities = (data)=>{\n    const list = data && data.leads || data && data.company_candidates || data && data.hot_leads || [];\n    const leads = Array.isArray(list) ? list.map(normalizeLead).filter(Boolean) : [];\n    return {\n        leads\n    };\n};\nconst buildAccountCardEntities = (data)=>{\n    const card = data && data.account_card ? data.account_card : {};\n    const meta = data && data.meta ? data.meta : {};\n    return {\n        company_name: card.company_name || \"\",\n        discovered_channels: card.discovered_channels || {},\n        hooks: card.top_personalization_hooks || [],\n        pains: card.pain_hypotheses || [],\n        proof_items: Array.isArray(meta.proof_items) ? meta.proof_items : []\n    };\n};\nconst buildMessagesPackEntities = (data, channelOverride)=>{\n    if (data && data.dm_pack) {\n        return {\n            lead_label: data.dm_pack.lead_label || \"lead\",\n            channel: data.dm_pack.channel || channelOverride || \"dm\",\n            messages: data.dm_pack.messages || data.dm_pack.variants || []\n        };\n    }\n    if (data && data.email_sequences) {\n        return {\n            lead_label: \"lead\",\n            channel: channelOverride || \"email\",\n            email_sequences: data.email_sequences\n        };\n    }\n    return {\n        lead_label: \"lead\",\n        channel: channelOverride || \"\",\n        messages: []\n    };\n};\nconst buildContentPackEntities = (data)=>{\n    if (!data || typeof data !== \"object\") return {};\n    const entities = {\n        ...data\n    };\n    if (entities.meta) delete entities.meta;\n    return entities;\n};\nconst buildBoardReviewEntities = (data)=>{\n    const review = data && typeof data.review === \"object\" ? data.review : {};\n    return {\n        role: review.role || \"\",\n        decision: review.decision || review.stance || review.recommendation || review.feasibility || \"\",\n        summary: review.final_summary || review.verdict || review.unit_economics_view || \"\",\n        references: review.references || {}\n    };\n};\nconst buildHandoff = (agentId, data)=>{\n    const recommended_next_agents = RECOMMENDED_NEXT[agentId] || [\n        \"boris-bdr-operator-ru\"\n    ];\n    if (agentId === \"platon\" || agentId === \"platon-prospect-research-ru\" || agentId === \"maxim-local-leads-ru\" || agentId === \"fedor-b2b-leads-ru\") {\n        const type = \"leads_table\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildLeadsTableEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"artem-hot-leads-ru\") {\n        const type = \"hot_leads\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildLeadsTableEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"anatoly-account-research-ru\") {\n        const type = \"account_card\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildAccountCardEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"leonid-outreach-dm-ru\") {\n        const type = \"messages_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildMessagesPackEntities(data, \"dm\"),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"emelyan-cold-email-ru\") {\n        const type = \"messages_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildMessagesPackEntities(data, \"email\"),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"boris-bdr-operator-ru\") {\n        const type = \"bdr_queue\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: {\n                rows: Array.isArray(data.bdr_table) ? data.bdr_table : []\n            },\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"timofey-competitor-analysis-ru\") {\n        const type = \"content_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: {\n                competitors: data.competitors || [],\n                comparison_table: data.comparison_table || [],\n                offers: data.offers || {},\n                win_angles: data.win_angles || [],\n                agentos_positioning: data.agentos_positioning || {}\n            },\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"board-ceo-ru\" || agentId === \"board-cto-ru\" || agentId === \"board-cfo-ru\" || agentId === \"board-chair-ru\") {\n        const type = \"board_review\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildBoardReviewEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    const type = \"content_pack\";\n    return {\n        type,\n        version: HANDOFF_VERSION,\n        entities: buildContentPackEntities(data),\n        recommended_next_agents,\n        compat: COMPAT_BY_TYPE[type] || []\n    };\n};\nconst getHandoffTypeForAgent = (agentId)=>{\n    if (agentId === \"platon\" || agentId === \"platon-prospect-research-ru\" || agentId === \"maxim-local-leads-ru\" || agentId === \"fedor-b2b-leads-ru\") {\n        return \"leads_table\";\n    }\n    if (agentId === \"artem-hot-leads-ru\") return \"hot_leads\";\n    if (agentId === \"anatoly-account-research-ru\") return \"account_card\";\n    if (agentId === \"leonid-outreach-dm-ru\") return \"messages_pack\";\n    if (agentId === \"emelyan-cold-email-ru\") return \"messages_pack\";\n    if (agentId === \"boris-bdr-operator-ru\") return \"bdr_queue\";\n    if (agentId === \"timofey-competitor-analysis-ru\") return \"content_pack\";\n    if (agentId === \"board-ceo-ru\" || agentId === \"board-cto-ru\" || agentId === \"board-cfo-ru\" || agentId === \"board-chair-ru\") {\n        return \"board_review\";\n    }\n    return \"content_pack\";\n};\nmodule.exports = {\n    buildHandoff,\n    HANDOFF_VERSION,\n    COMPAT_BY_TYPE,\n    getHandoffTypeForAgent\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dG9wL2FnZW50T1MvdXRpbHMvaGFuZG9mZi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIQU5ET0ZGX1ZFUlNJT04gPSBcIjEuMFwiO1xuXG5jb25zdCBDT01QQVRfQllfVFlQRSA9IHtcbiAgbGVhZHNfdGFibGU6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIGFjY291bnRfY2FyZDogW1xuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIGhvdF9sZWFkczogW1wibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJdLFxuICBtZXNzYWdlc19wYWNrOiBbXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIl0sXG4gIGJkcl9xdWV1ZTogW10sXG4gIGJvYXJkX3JldmlldzogW10sXG4gIGNvbnRlbnRfcGFjazogW11cbn07XG5cbmNvbnN0IFJFQ09NTUVOREVEX05FWFQgPSB7XG4gIFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCI6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBwbGF0b246IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCI6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcImZlZG9yLWIyYi1sZWFkcy1ydVwiOiBbXG4gICAgXCJhbmF0b2x5LWFjY291bnQtcmVzZWFyY2gtcnVcIixcbiAgICBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiLFxuICAgIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJcbiAgXSxcbiAgXCJhcnRlbS1ob3QtbGVhZHMtcnVcIjogW1xuICAgIFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIsXG4gICAgXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCI6IFtcbiAgICBcImxlb25pZC1vdXRyZWFjaC1kbS1ydVwiLFxuICAgIFwiZW1lbHlhbi1jb2xkLWVtYWlsLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcInRpbW9mZXktY29tcGV0aXRvci1hbmFseXNpcy1ydVwiOiBbXG4gICAgXCJwbGF0b24tcHJvc3BlY3QtcmVzZWFyY2gtcnVcIixcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJcbiAgXSxcbiAgXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIjogW1wiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJdLFxuICBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiOiBbXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIl0sXG4gIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCI6IFtcImxlb25pZC1vdXRyZWFjaC1kbS1ydVwiLCBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiXSxcbiAgXCJwYXZlbC1yZWVscy1hbmFseXNpcy1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwidHJvZmltLXNob3J0cy1hbmFsb2dzLXJ1XCJdLFxuICBcInRyb2ZpbS1zaG9ydHMtYW5hbG9ncy1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwicGF2ZWwtcmVlbHMtYW5hbHlzaXMtcnVcIl0sXG4gIFwiaXJpbmEtY29udGVudC1pZGVhdGlvbi1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwia29zdHlhLWltYWdlLWdlbmVyYXRpb24tcnVcIl0sXG4gIFwiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiOiBbXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiLCBcInNldmEtY29udGVudC1yZXB1cnBvc2luZy1ydVwiXSxcbiAgXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwiaXJpbmEtY29udGVudC1pZGVhdGlvbi1ydVwiXSxcbiAgXCJzZXZhLWNvbnRlbnQtcmVwdXJwb3NpbmctcnVcIjogW1wiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiLCBcImtvc3R5YS1pbWFnZS1nZW5lcmF0aW9uLXJ1XCJdLFxuICBcIm1pdHlhLXdvcmtmbG93LWRpYWdyYW0tcnVcIjogW1wia29zdHlhLWltYWdlLWdlbmVyYXRpb24tcnVcIiwgXCJpcmluYS1jb250ZW50LWlkZWF0aW9uLXJ1XCJdLFxuICBcImJvYXJkLWNlby1ydVwiOiBbXCJib2FyZC1jaGFpci1ydVwiXSxcbiAgXCJib2FyZC1jdG8tcnVcIjogW1wiYm9hcmQtY2hhaXItcnVcIl0sXG4gIFwiYm9hcmQtY2ZvLXJ1XCI6IFtcImJvYXJkLWNoYWlyLXJ1XCJdLFxuICBcImJvYXJkLWNoYWlyLXJ1XCI6IFtdXG59O1xuXG5jb25zdCBub3JtYWxpemVMZWFkID0gKGxlYWQpID0+IHtcbiAgaWYgKCFsZWFkIHx8IHR5cGVvZiBsZWFkICE9PSBcIm9iamVjdFwiKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgbGVhZE5hbWUgPVxuICAgIGxlYWQubmFtZSB8fFxuICAgIGxlYWQuY29tcGFueV9uYW1lIHx8XG4gICAgbGVhZC50aXRsZSB8fFxuICAgIGxlYWQubmFtZV9wbGFjZWhvbGRlciB8fFxuICAgIGxlYWQubGVhZF9sYWJlbCB8fFxuICAgIGxlYWQubGluayB8fFxuICAgIGxlYWQudXJsIHx8XG4gICAgXCJMZWFkXCI7XG4gIGNvbnN0IGNvbnRhY3QgPSB7XG4gICAgZW1haWw6IGxlYWQuZW1haWwgfHwgKGxlYWQucHVibGljX2NvbnRhY3RzID8gbGVhZC5wdWJsaWNfY29udGFjdHMuZW1haWwgOiB1bmRlZmluZWQpIHx8IHVuZGVmaW5lZCxcbiAgICBwaG9uZTogbGVhZC5waG9uZSB8fCAobGVhZC5wdWJsaWNfY29udGFjdHMgPyBsZWFkLnB1YmxpY19jb250YWN0cy5waG9uZSA6IHVuZGVmaW5lZCkgfHwgdW5kZWZpbmVkLFxuICAgIHdlYnNpdGU6IGxlYWQud2Vic2l0ZSB8fCBsZWFkLmRvbWFpbiB8fCB1bmRlZmluZWQsXG4gICAgdXJsOiBsZWFkLmxpbmsgfHwgbGVhZC51cmwgfHwgbGVhZC5zb3VyY2VfdXJsIHx8IHVuZGVmaW5lZFxuICB9O1xuICBjb25zdCBzb3VyY2UgPSBsZWFkLnNvdXJjZSB8fCBsZWFkLmNoYW5uZWwgfHwgbGVhZC5zb3VyY2VfdHlwZSB8fCBcIlwiO1xuICByZXR1cm4ge1xuICAgIGxlYWRfbmFtZTogU3RyaW5nKGxlYWROYW1lKSxcbiAgICBkZWR1cGVfa2V5OiBsZWFkLmRlZHVwZV9rZXkgfHwgbGVhZC5kZWR1cGVfa2V5X3JhdyB8fCBcIlwiLFxuICAgIGNvbnRhY3QsXG4gICAgc291cmNlLFxuICAgIHByb29mX3JlZnM6IGxlYWQucHJvb2ZfcmVmcyB8fCB1bmRlZmluZWRcbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkTGVhZHNUYWJsZUVudGl0aWVzID0gKGRhdGEpID0+IHtcbiAgY29uc3QgbGlzdCA9XG4gICAgKGRhdGEgJiYgZGF0YS5sZWFkcykgfHxcbiAgICAoZGF0YSAmJiBkYXRhLmNvbXBhbnlfY2FuZGlkYXRlcykgfHxcbiAgICAoZGF0YSAmJiBkYXRhLmhvdF9sZWFkcykgfHxcbiAgICBbXTtcbiAgY29uc3QgbGVhZHMgPSBBcnJheS5pc0FycmF5KGxpc3QpID8gbGlzdC5tYXAobm9ybWFsaXplTGVhZCkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gIHJldHVybiB7IGxlYWRzIH07XG59O1xuXG5jb25zdCBidWlsZEFjY291bnRDYXJkRW50aXRpZXMgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gZGF0YSAmJiBkYXRhLmFjY291bnRfY2FyZCA/IGRhdGEuYWNjb3VudF9jYXJkIDoge307XG4gIGNvbnN0IG1ldGEgPSBkYXRhICYmIGRhdGEubWV0YSA/IGRhdGEubWV0YSA6IHt9O1xuICByZXR1cm4ge1xuICAgIGNvbXBhbnlfbmFtZTogY2FyZC5jb21wYW55X25hbWUgfHwgXCJcIixcbiAgICBkaXNjb3ZlcmVkX2NoYW5uZWxzOiBjYXJkLmRpc2NvdmVyZWRfY2hhbm5lbHMgfHwge30sXG4gICAgaG9va3M6IGNhcmQudG9wX3BlcnNvbmFsaXphdGlvbl9ob29rcyB8fCBbXSxcbiAgICBwYWluczogY2FyZC5wYWluX2h5cG90aGVzZXMgfHwgW10sXG4gICAgcHJvb2ZfaXRlbXM6IEFycmF5LmlzQXJyYXkobWV0YS5wcm9vZl9pdGVtcykgPyBtZXRhLnByb29mX2l0ZW1zIDogW11cbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkTWVzc2FnZXNQYWNrRW50aXRpZXMgPSAoZGF0YSwgY2hhbm5lbE92ZXJyaWRlKSA9PiB7XG4gIGlmIChkYXRhICYmIGRhdGEuZG1fcGFjaykge1xuICAgIHJldHVybiB7XG4gICAgICBsZWFkX2xhYmVsOiBkYXRhLmRtX3BhY2subGVhZF9sYWJlbCB8fCBcImxlYWRcIixcbiAgICAgIGNoYW5uZWw6IGRhdGEuZG1fcGFjay5jaGFubmVsIHx8IGNoYW5uZWxPdmVycmlkZSB8fCBcImRtXCIsXG4gICAgICBtZXNzYWdlczogZGF0YS5kbV9wYWNrLm1lc3NhZ2VzIHx8IGRhdGEuZG1fcGFjay52YXJpYW50cyB8fCBbXVxuICAgIH07XG4gIH1cbiAgaWYgKGRhdGEgJiYgZGF0YS5lbWFpbF9zZXF1ZW5jZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVhZF9sYWJlbDogXCJsZWFkXCIsXG4gICAgICBjaGFubmVsOiBjaGFubmVsT3ZlcnJpZGUgfHwgXCJlbWFpbFwiLFxuICAgICAgZW1haWxfc2VxdWVuY2VzOiBkYXRhLmVtYWlsX3NlcXVlbmNlc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgbGVhZF9sYWJlbDogXCJsZWFkXCIsIGNoYW5uZWw6IGNoYW5uZWxPdmVycmlkZSB8fCBcIlwiLCBtZXNzYWdlczogW10gfTtcbn07XG5cbmNvbnN0IGJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyA9IChkYXRhKSA9PiB7XG4gIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHt9O1xuICBjb25zdCBlbnRpdGllcyA9IHsgLi4uZGF0YSB9O1xuICBpZiAoZW50aXRpZXMubWV0YSkgZGVsZXRlIGVudGl0aWVzLm1ldGE7XG4gIHJldHVybiBlbnRpdGllcztcbn07XG5cbmNvbnN0IGJ1aWxkQm9hcmRSZXZpZXdFbnRpdGllcyA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHJldmlldyA9IGRhdGEgJiYgdHlwZW9mIGRhdGEucmV2aWV3ID09PSBcIm9iamVjdFwiID8gZGF0YS5yZXZpZXcgOiB7fTtcbiAgcmV0dXJuIHtcbiAgICByb2xlOiByZXZpZXcucm9sZSB8fCBcIlwiLFxuICAgIGRlY2lzaW9uOlxuICAgICAgcmV2aWV3LmRlY2lzaW9uIHx8XG4gICAgICByZXZpZXcuc3RhbmNlIHx8XG4gICAgICByZXZpZXcucmVjb21tZW5kYXRpb24gfHxcbiAgICAgIHJldmlldy5mZWFzaWJpbGl0eSB8fFxuICAgICAgXCJcIixcbiAgICBzdW1tYXJ5OlxuICAgICAgcmV2aWV3LmZpbmFsX3N1bW1hcnkgfHxcbiAgICAgIHJldmlldy52ZXJkaWN0IHx8XG4gICAgICByZXZpZXcudW5pdF9lY29ub21pY3NfdmlldyB8fFxuICAgICAgXCJcIixcbiAgICByZWZlcmVuY2VzOiByZXZpZXcucmVmZXJlbmNlcyB8fCB7fVxuICB9O1xufTtcblxuY29uc3QgYnVpbGRIYW5kb2ZmID0gKGFnZW50SWQsIGRhdGEpID0+IHtcbiAgY29uc3QgcmVjb21tZW5kZWRfbmV4dF9hZ2VudHMgPSBSRUNPTU1FTkRFRF9ORVhUW2FnZW50SWRdIHx8IFtcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXTtcblxuICBpZiAoXG4gICAgYWdlbnRJZCA9PT0gXCJwbGF0b25cIiB8fFxuICAgIGFnZW50SWQgPT09IFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImZlZG9yLWIyYi1sZWFkcy1ydVwiXG4gICkge1xuICAgIGNvbnN0IHR5cGUgPSBcImxlYWRzX3RhYmxlXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogYnVpbGRMZWFkc1RhYmxlRW50aXRpZXMoZGF0YSksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKGFnZW50SWQgPT09IFwiYXJ0ZW0taG90LWxlYWRzLXJ1XCIpIHtcbiAgICBjb25zdCB0eXBlID0gXCJob3RfbGVhZHNcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZExlYWRzVGFibGVFbnRpdGllcyhkYXRhKSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJhbmF0b2x5LWFjY291bnQtcmVzZWFyY2gtcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcImFjY291bnRfY2FyZFwiO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlLFxuICAgICAgdmVyc2lvbjogSEFORE9GRl9WRVJTSU9OLFxuICAgICAgZW50aXRpZXM6IGJ1aWxkQWNjb3VudENhcmRFbnRpdGllcyhkYXRhKSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcIm1lc3NhZ2VzX3BhY2tcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZE1lc3NhZ2VzUGFja0VudGl0aWVzKGRhdGEsIFwiZG1cIiksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKGFnZW50SWQgPT09IFwiZW1lbHlhbi1jb2xkLWVtYWlsLXJ1XCIpIHtcbiAgICBjb25zdCB0eXBlID0gXCJtZXNzYWdlc19wYWNrXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogYnVpbGRNZXNzYWdlc1BhY2tFbnRpdGllcyhkYXRhLCBcImVtYWlsXCIpLFxuICAgICAgcmVjb21tZW5kZWRfbmV4dF9hZ2VudHMsXG4gICAgICBjb21wYXQ6IENPTVBBVF9CWV9UWVBFW3R5cGVdIHx8IFtdXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhZ2VudElkID09PSBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiKSB7XG4gICAgY29uc3QgdHlwZSA9IFwiYmRyX3F1ZXVlXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogeyByb3dzOiBBcnJheS5pc0FycmF5KGRhdGEuYmRyX3RhYmxlKSA/IGRhdGEuYmRyX3RhYmxlIDogW10gfSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJ0aW1vZmV5LWNvbXBldGl0b3ItYW5hbHlzaXMtcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcImNvbnRlbnRfcGFja1wiO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlLFxuICAgICAgdmVyc2lvbjogSEFORE9GRl9WRVJTSU9OLFxuICAgICAgZW50aXRpZXM6IHtcbiAgICAgICAgY29tcGV0aXRvcnM6IGRhdGEuY29tcGV0aXRvcnMgfHwgW10sXG4gICAgICAgIGNvbXBhcmlzb25fdGFibGU6IGRhdGEuY29tcGFyaXNvbl90YWJsZSB8fCBbXSxcbiAgICAgICAgb2ZmZXJzOiBkYXRhLm9mZmVycyB8fCB7fSxcbiAgICAgICAgd2luX2FuZ2xlczogZGF0YS53aW5fYW5nbGVzIHx8IFtdLFxuICAgICAgICBhZ2VudG9zX3Bvc2l0aW9uaW5nOiBkYXRhLmFnZW50b3NfcG9zaXRpb25pbmcgfHwge31cbiAgICAgIH0sXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2VvLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImJvYXJkLWN0by1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJib2FyZC1jZm8tcnVcIiB8fFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2hhaXItcnVcIlxuICApIHtcbiAgICBjb25zdCB0eXBlID0gXCJib2FyZF9yZXZpZXdcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZEJvYXJkUmV2aWV3RW50aXRpZXMoZGF0YSksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgY29uc3QgdHlwZSA9IFwiY29udGVudF9wYWNrXCI7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgZW50aXRpZXM6IGJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyhkYXRhKSxcbiAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICBjb21wYXQ6IENPTVBBVF9CWV9UWVBFW3R5cGVdIHx8IFtdXG4gIH07XG59O1xuXG5jb25zdCBnZXRIYW5kb2ZmVHlwZUZvckFnZW50ID0gKGFnZW50SWQpID0+IHtcbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwicGxhdG9uXCIgfHxcbiAgICBhZ2VudElkID09PSBcInBsYXRvbi1wcm9zcGVjdC1yZXNlYXJjaC1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJtYXhpbS1sb2NhbC1sZWFkcy1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJmZWRvci1iMmItbGVhZHMtcnVcIlxuICApIHtcbiAgICByZXR1cm4gXCJsZWFkc190YWJsZVwiO1xuICB9XG4gIGlmIChhZ2VudElkID09PSBcImFydGVtLWhvdC1sZWFkcy1ydVwiKSByZXR1cm4gXCJob3RfbGVhZHNcIjtcbiAgaWYgKGFnZW50SWQgPT09IFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIpIHJldHVybiBcImFjY291bnRfY2FyZFwiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIikgcmV0dXJuIFwibWVzc2FnZXNfcGFja1wiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIikgcmV0dXJuIFwibWVzc2FnZXNfcGFja1wiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIikgcmV0dXJuIFwiYmRyX3F1ZXVlXCI7XG4gIGlmIChhZ2VudElkID09PSBcInRpbW9mZXktY29tcGV0aXRvci1hbmFseXNpcy1ydVwiKSByZXR1cm4gXCJjb250ZW50X3BhY2tcIjtcbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2VvLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImJvYXJkLWN0by1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJib2FyZC1jZm8tcnVcIiB8fFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2hhaXItcnVcIlxuICApIHtcbiAgICByZXR1cm4gXCJib2FyZF9yZXZpZXdcIjtcbiAgfVxuICByZXR1cm4gXCJjb250ZW50X3BhY2tcIjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBidWlsZEhhbmRvZmYsIEhBTkRPRkZfVkVSU0lPTiwgQ09NUEFUX0JZX1RZUEUsIGdldEhhbmRvZmZUeXBlRm9yQWdlbnQgfTtcbiJdLCJuYW1lcyI6WyJIQU5ET0ZGX1ZFUlNJT04iLCJDT01QQVRfQllfVFlQRSIsImxlYWRzX3RhYmxlIiwiYWNjb3VudF9jYXJkIiwiaG90X2xlYWRzIiwibWVzc2FnZXNfcGFjayIsImJkcl9xdWV1ZSIsImJvYXJkX3JldmlldyIsImNvbnRlbnRfcGFjayIsIlJFQ09NTUVOREVEX05FWFQiLCJwbGF0b24iLCJub3JtYWxpemVMZWFkIiwibGVhZCIsImxlYWROYW1lIiwibmFtZSIsImNvbXBhbnlfbmFtZSIsInRpdGxlIiwibmFtZV9wbGFjZWhvbGRlciIsImxlYWRfbGFiZWwiLCJsaW5rIiwidXJsIiwiY29udGFjdCIsImVtYWlsIiwicHVibGljX2NvbnRhY3RzIiwidW5kZWZpbmVkIiwicGhvbmUiLCJ3ZWJzaXRlIiwiZG9tYWluIiwic291cmNlX3VybCIsInNvdXJjZSIsImNoYW5uZWwiLCJzb3VyY2VfdHlwZSIsImxlYWRfbmFtZSIsIlN0cmluZyIsImRlZHVwZV9rZXkiLCJkZWR1cGVfa2V5X3JhdyIsInByb29mX3JlZnMiLCJidWlsZExlYWRzVGFibGVFbnRpdGllcyIsImRhdGEiLCJsaXN0IiwibGVhZHMiLCJjb21wYW55X2NhbmRpZGF0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJmaWx0ZXIiLCJCb29sZWFuIiwiYnVpbGRBY2NvdW50Q2FyZEVudGl0aWVzIiwiY2FyZCIsIm1ldGEiLCJkaXNjb3ZlcmVkX2NoYW5uZWxzIiwiaG9va3MiLCJ0b3BfcGVyc29uYWxpemF0aW9uX2hvb2tzIiwicGFpbnMiLCJwYWluX2h5cG90aGVzZXMiLCJwcm9vZl9pdGVtcyIsImJ1aWxkTWVzc2FnZXNQYWNrRW50aXRpZXMiLCJjaGFubmVsT3ZlcnJpZGUiLCJkbV9wYWNrIiwibWVzc2FnZXMiLCJ2YXJpYW50cyIsImVtYWlsX3NlcXVlbmNlcyIsImJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyIsImVudGl0aWVzIiwiYnVpbGRCb2FyZFJldmlld0VudGl0aWVzIiwicmV2aWV3Iiwicm9sZSIsImRlY2lzaW9uIiwic3RhbmNlIiwicmVjb21tZW5kYXRpb24iLCJmZWFzaWJpbGl0eSIsInN1bW1hcnkiLCJmaW5hbF9zdW1tYXJ5IiwidmVyZGljdCIsInVuaXRfZWNvbm9taWNzX3ZpZXciLCJyZWZlcmVuY2VzIiwiYnVpbGRIYW5kb2ZmIiwiYWdlbnRJZCIsInJlY29tbWVuZGVkX25leHRfYWdlbnRzIiwidHlwZSIsInZlcnNpb24iLCJjb21wYXQiLCJyb3dzIiwiYmRyX3RhYmxlIiwiY29tcGV0aXRvcnMiLCJjb21wYXJpc29uX3RhYmxlIiwib2ZmZXJzIiwid2luX2FuZ2xlcyIsImFnZW50b3NfcG9zaXRpb25pbmciLCJnZXRIYW5kb2ZmVHlwZUZvckFnZW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/handoff.js\n");

/***/ }),

/***/ "(rsc)/./utils/validateAgentResponse.js":
/*!****************************************!*\
  !*** ./utils/validateAgentResponse.js ***!
  \****************************************/
/***/ ((module) => {

eval("\nconst isObject = (value)=>typeof value === \"object\" && value !== null && !Array.isArray(value);\nconst isType = (value, type)=>{\n    if (type === \"array\") return Array.isArray(value);\n    if (type === \"object\") return isObject(value);\n    if (type === \"string\") return typeof value === \"string\";\n    if (type === \"number\") return typeof value === \"number\" && Number.isFinite(value);\n    if (type === \"boolean\") return typeof value === \"boolean\";\n    return value !== undefined;\n};\nconst validateAgentResponse = (data, schema)=>{\n    const errors = [];\n    if (!isObject(data)) {\n        return {\n            ok: false,\n            errors: [\n                \"data must be an object\"\n            ]\n        };\n    }\n    if (!schema || !schema.required) return {\n        ok: true,\n        errors\n    };\n    const required = schema.required || {};\n    Object.entries(required).forEach(([key, type])=>{\n        if (!(key in data)) {\n            errors.push(`missing key: ${key}`);\n            return;\n        }\n        if (type && !isType(data[key], type)) {\n            errors.push(`invalid type for ${key}: expected ${type}`);\n        }\n    });\n    return {\n        ok: errors.length === 0,\n        errors\n    };\n};\nmodule.exports = {\n    validateAgentResponse\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy92YWxpZGF0ZUFnZW50UmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLFdBQVcsQ0FBQ0MsUUFBVSxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsUUFBUSxDQUFDQyxNQUFNQyxPQUFPLENBQUNGO0FBRTFGLE1BQU1HLFNBQVMsQ0FBQ0gsT0FBT0k7SUFDckIsSUFBSUEsU0FBUyxTQUFTLE9BQU9ILE1BQU1DLE9BQU8sQ0FBQ0Y7SUFDM0MsSUFBSUksU0FBUyxVQUFVLE9BQU9MLFNBQVNDO0lBQ3ZDLElBQUlJLFNBQVMsVUFBVSxPQUFPLE9BQU9KLFVBQVU7SUFDL0MsSUFBSUksU0FBUyxVQUFVLE9BQU8sT0FBT0osVUFBVSxZQUFZSyxPQUFPQyxRQUFRLENBQUNOO0lBQzNFLElBQUlJLFNBQVMsV0FBVyxPQUFPLE9BQU9KLFVBQVU7SUFDaEQsT0FBT0EsVUFBVU87QUFDbkI7QUFFQSxNQUFNQyx3QkFBd0IsQ0FBQ0MsTUFBTUM7SUFDbkMsTUFBTUMsU0FBUyxFQUFFO0lBQ2pCLElBQUksQ0FBQ1osU0FBU1UsT0FBTztRQUNuQixPQUFPO1lBQUVHLElBQUk7WUFBT0QsUUFBUTtnQkFBQzthQUF5QjtRQUFDO0lBQ3pEO0lBQ0EsSUFBSSxDQUFDRCxVQUFVLENBQUNBLE9BQU9HLFFBQVEsRUFBRSxPQUFPO1FBQUVELElBQUk7UUFBTUQ7SUFBTztJQUMzRCxNQUFNRSxXQUFXSCxPQUFPRyxRQUFRLElBQUksQ0FBQztJQUNyQ0MsT0FBT0MsT0FBTyxDQUFDRixVQUFVRyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLYixLQUFLO1FBQzNDLElBQUksQ0FBRWEsQ0FBQUEsT0FBT1IsSUFBRyxHQUFJO1lBQ2xCRSxPQUFPTyxJQUFJLENBQUMsQ0FBQyxhQUFhLEVBQUVELEtBQUs7WUFDakM7UUFDRjtRQUNBLElBQUliLFFBQVEsQ0FBQ0QsT0FBT00sSUFBSSxDQUFDUSxJQUFJLEVBQUViLE9BQU87WUFDcENPLE9BQU9PLElBQUksQ0FBQyxDQUFDLGlCQUFpQixFQUFFRCxJQUFJLFdBQVcsRUFBRWIsTUFBTTtRQUN6RDtJQUNGO0lBQ0EsT0FBTztRQUFFUSxJQUFJRCxPQUFPUSxNQUFNLEtBQUs7UUFBR1I7SUFBTztBQUMzQztBQUVBUyxPQUFPQyxPQUFPLEdBQUc7SUFBRWI7QUFBc0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy91dGlscy92YWxpZGF0ZUFnZW50UmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXNPYmplY3QgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG5cbmNvbnN0IGlzVHlwZSA9ICh2YWx1ZSwgdHlwZSkgPT4ge1xuICBpZiAodHlwZSA9PT0gXCJhcnJheVwiKSByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIGlmICh0eXBlID09PSBcIm9iamVjdFwiKSByZXR1cm4gaXNPYmplY3QodmFsdWUpO1xuICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcbiAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcbiAgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcbiAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCB2YWxpZGF0ZUFnZW50UmVzcG9uc2UgPSAoZGF0YSwgc2NoZW1hKSA9PiB7XG4gIGNvbnN0IGVycm9ycyA9IFtdO1xuICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBlcnJvcnM6IFtcImRhdGEgbXVzdCBiZSBhbiBvYmplY3RcIl0gfTtcbiAgfVxuICBpZiAoIXNjaGVtYSB8fCAhc2NoZW1hLnJlcXVpcmVkKSByZXR1cm4geyBvazogdHJ1ZSwgZXJyb3JzIH07XG4gIGNvbnN0IHJlcXVpcmVkID0gc2NoZW1hLnJlcXVpcmVkIHx8IHt9O1xuICBPYmplY3QuZW50cmllcyhyZXF1aXJlZCkuZm9yRWFjaCgoW2tleSwgdHlwZV0pID0+IHtcbiAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKGBtaXNzaW5nIGtleTogJHtrZXl9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlICYmICFpc1R5cGUoZGF0YVtrZXldLCB0eXBlKSkge1xuICAgICAgZXJyb3JzLnB1c2goYGludmFsaWQgdHlwZSBmb3IgJHtrZXl9OiBleHBlY3RlZCAke3R5cGV9YCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgb2s6IGVycm9ycy5sZW5ndGggPT09IDAsIGVycm9ycyB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHZhbGlkYXRlQWdlbnRSZXNwb25zZSB9O1xuIl0sIm5hbWVzIjpbImlzT2JqZWN0IiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJpc1R5cGUiLCJ0eXBlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ1bmRlZmluZWQiLCJ2YWxpZGF0ZUFnZW50UmVzcG9uc2UiLCJkYXRhIiwic2NoZW1hIiwiZXJyb3JzIiwib2siLCJyZXF1aXJlZCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwicHVzaCIsImxlbmd0aCIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/validateAgentResponse.js\n");

/***/ }),

/***/ "(rsc)/./utils/wordLimitCompress.js":
/*!************************************!*\
  !*** ./utils/wordLimitCompress.js ***!
  \************************************/
/***/ ((module) => {

eval("\nconst countWords = (text)=>{\n    if (!text) return 0;\n    const matches = String(text).match(/[A-Za-zА-Яа-я0-9_]+/g);\n    return matches ? matches.length : 0;\n};\nconst countWordsInObject = (value)=>{\n    if (typeof value === \"string\") return countWords(value);\n    if (Array.isArray(value)) return value.reduce((acc, item)=>acc + countWordsInObject(item), 0);\n    if (value && typeof value === \"object\") {\n        return Object.values(value).reduce((acc, item)=>acc + countWordsInObject(item), 0);\n    }\n    return 0;\n};\nconst countStringsInObject = (value)=>{\n    if (typeof value === \"string\") return 1;\n    if (Array.isArray(value)) return value.reduce((acc, item)=>acc + countStringsInObject(item), 0);\n    if (value && typeof value === \"object\") {\n        return Object.values(value).reduce((acc, item)=>acc + countStringsInObject(item), 0);\n    }\n    return 0;\n};\nconst trimWords = (text, maxWords)=>{\n    if (!text) return \"\";\n    const words = String(text).trim().split(/\\s+/);\n    if (words.length <= maxWords) return String(text).trim();\n    return `${words.slice(0, maxWords).join(\" \")}...`;\n};\nconst mapStrings = (value, fn)=>{\n    if (typeof value === \"string\") return fn(value);\n    if (Array.isArray(value)) return value.map((item)=>mapStrings(item, fn));\n    if (value && typeof value === \"object\") {\n        return Object.fromEntries(Object.entries(value).map(([key, val])=>[\n                key,\n                mapStrings(val, fn)\n            ]));\n    }\n    return value;\n};\nconst wordLimitCompress = (output, maxWords)=>{\n    if (typeof maxWords !== \"number\" || !Number.isFinite(maxWords) || maxWords <= 0) {\n        return {\n            output,\n            within: true\n        };\n    }\n    let current = output;\n    let total = countWordsInObject(current);\n    if (total <= maxWords) return {\n        output: current,\n        within: true\n    };\n    const passes = [\n        10,\n        8,\n        6,\n        4\n    ];\n    for (const limit of passes){\n        current = mapStrings(current, (text)=>trimWords(text, limit));\n        total = countWordsInObject(current);\n        if (total <= maxWords) return {\n            output: current,\n            within: true\n        };\n    }\n    current = mapStrings(current, (text)=>trimWords(text, 3));\n    total = countWordsInObject(current);\n    if (total <= maxWords) return {\n        output: current,\n        within: true\n    };\n    const totalStrings = countStringsInObject(current) || 1;\n    const perString = Math.max(1, Math.floor(maxWords / totalStrings));\n    current = mapStrings(current, (text)=>trimWords(text, perString));\n    total = countWordsInObject(current);\n    return {\n        output: current,\n        within: total <= maxWords\n    };\n};\nmodule.exports = {\n    wordLimitCompress\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy93b3JkTGltaXRDb21wcmVzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsYUFBYSxDQUFDQztJQUNsQixJQUFJLENBQUNBLE1BQU0sT0FBTztJQUNsQixNQUFNQyxVQUFVQyxPQUFPRixNQUFNRyxLQUFLLENBQUM7SUFDbkMsT0FBT0YsVUFBVUEsUUFBUUcsTUFBTSxHQUFHO0FBQ3BDO0FBRUEsTUFBTUMscUJBQXFCLENBQUNDO0lBQzFCLElBQUksT0FBT0EsVUFBVSxVQUFVLE9BQU9QLFdBQVdPO0lBQ2pELElBQUlDLE1BQU1DLE9BQU8sQ0FBQ0YsUUFBUSxPQUFPQSxNQUFNRyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsT0FBU0QsTUFBTUwsbUJBQW1CTSxPQUFPO0lBQzdGLElBQUlMLFNBQVMsT0FBT0EsVUFBVSxVQUFVO1FBQ3RDLE9BQU9NLE9BQU9DLE1BQU0sQ0FBQ1AsT0FBT0csTUFBTSxDQUFDLENBQUNDLEtBQUtDLE9BQVNELE1BQU1MLG1CQUFtQk0sT0FBTztJQUNwRjtJQUNBLE9BQU87QUFDVDtBQUVBLE1BQU1HLHVCQUF1QixDQUFDUjtJQUM1QixJQUFJLE9BQU9BLFVBQVUsVUFBVSxPQUFPO0lBQ3RDLElBQUlDLE1BQU1DLE9BQU8sQ0FBQ0YsUUFBUSxPQUFPQSxNQUFNRyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsT0FBU0QsTUFBTUkscUJBQXFCSCxPQUFPO0lBQy9GLElBQUlMLFNBQVMsT0FBT0EsVUFBVSxVQUFVO1FBQ3RDLE9BQU9NLE9BQU9DLE1BQU0sQ0FBQ1AsT0FBT0csTUFBTSxDQUFDLENBQUNDLEtBQUtDLE9BQVNELE1BQU1JLHFCQUFxQkgsT0FBTztJQUN0RjtJQUNBLE9BQU87QUFDVDtBQUVBLE1BQU1JLFlBQVksQ0FBQ2YsTUFBTWdCO0lBQ3ZCLElBQUksQ0FBQ2hCLE1BQU0sT0FBTztJQUNsQixNQUFNaUIsUUFBUWYsT0FBT0YsTUFBTWtCLElBQUksR0FBR0MsS0FBSyxDQUFDO0lBQ3hDLElBQUlGLE1BQU1iLE1BQU0sSUFBSVksVUFBVSxPQUFPZCxPQUFPRixNQUFNa0IsSUFBSTtJQUN0RCxPQUFPLEdBQUdELE1BQU1HLEtBQUssQ0FBQyxHQUFHSixVQUFVSyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUM7QUFDbkQ7QUFFQSxNQUFNQyxhQUFhLENBQUNoQixPQUFPaUI7SUFDekIsSUFBSSxPQUFPakIsVUFBVSxVQUFVLE9BQU9pQixHQUFHakI7SUFDekMsSUFBSUMsTUFBTUMsT0FBTyxDQUFDRixRQUFRLE9BQU9BLE1BQU1rQixHQUFHLENBQUMsQ0FBQ2IsT0FBU1csV0FBV1gsTUFBTVk7SUFDdEUsSUFBSWpCLFNBQVMsT0FBT0EsVUFBVSxVQUFVO1FBQ3RDLE9BQU9NLE9BQU9hLFdBQVcsQ0FDdkJiLE9BQU9jLE9BQU8sQ0FBQ3BCLE9BQU9rQixHQUFHLENBQUMsQ0FBQyxDQUFDRyxLQUFLQyxJQUFJLEdBQUs7Z0JBQUNEO2dCQUFLTCxXQUFXTSxLQUFLTDthQUFJO0lBRXhFO0lBQ0EsT0FBT2pCO0FBQ1Q7QUFFQSxNQUFNdUIsb0JBQW9CLENBQUNDLFFBQVFkO0lBQ2pDLElBQUksT0FBT0EsYUFBYSxZQUFZLENBQUNlLE9BQU9DLFFBQVEsQ0FBQ2hCLGFBQWFBLFlBQVksR0FBRztRQUMvRSxPQUFPO1lBQUVjO1lBQVFHLFFBQVE7UUFBSztJQUNoQztJQUVBLElBQUlDLFVBQVVKO0lBQ2QsSUFBSUssUUFBUTlCLG1CQUFtQjZCO0lBQy9CLElBQUlDLFNBQVNuQixVQUFVLE9BQU87UUFBRWMsUUFBUUk7UUFBU0QsUUFBUTtJQUFLO0lBRTlELE1BQU1HLFNBQVM7UUFBQztRQUFJO1FBQUc7UUFBRztLQUFFO0lBQzVCLEtBQUssTUFBTUMsU0FBU0QsT0FBUTtRQUMxQkYsVUFBVVosV0FBV1ksU0FBUyxDQUFDbEMsT0FBU2UsVUFBVWYsTUFBTXFDO1FBQ3hERixRQUFROUIsbUJBQW1CNkI7UUFDM0IsSUFBSUMsU0FBU25CLFVBQVUsT0FBTztZQUFFYyxRQUFRSTtZQUFTRCxRQUFRO1FBQUs7SUFDaEU7SUFFQUMsVUFBVVosV0FBV1ksU0FBUyxDQUFDbEMsT0FBU2UsVUFBVWYsTUFBTTtJQUN4RG1DLFFBQVE5QixtQkFBbUI2QjtJQUMzQixJQUFJQyxTQUFTbkIsVUFBVSxPQUFPO1FBQUVjLFFBQVFJO1FBQVNELFFBQVE7SUFBSztJQUU5RCxNQUFNSyxlQUFleEIscUJBQXFCb0IsWUFBWTtJQUN0RCxNQUFNSyxZQUFZQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS0UsS0FBSyxDQUFDMUIsV0FBV3NCO0lBQ3BESixVQUFVWixXQUFXWSxTQUFTLENBQUNsQyxPQUFTZSxVQUFVZixNQUFNdUM7SUFDeERKLFFBQVE5QixtQkFBbUI2QjtJQUMzQixPQUFPO1FBQUVKLFFBQVFJO1FBQVNELFFBQVFFLFNBQVNuQjtJQUFTO0FBQ3REO0FBRUEyQixPQUFPQyxPQUFPLEdBQUc7SUFBRWY7QUFBa0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy91dGlscy93b3JkTGltaXRDb21wcmVzcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb3VudFdvcmRzID0gKHRleHQpID0+IHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gMDtcbiAgY29uc3QgbWF0Y2hlcyA9IFN0cmluZyh0ZXh0KS5tYXRjaCgvW0EtWmEtetCQLdCv0LAt0Y8wLTlfXSsvZyk7XG4gIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlcy5sZW5ndGggOiAwO1xufTtcblxuY29uc3QgY291bnRXb3Jkc0luT2JqZWN0ID0gKHZhbHVlKSA9PiB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHJldHVybiBjb3VudFdvcmRzKHZhbHVlKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGNvdW50V29yZHNJbk9iamVjdChpdGVtKSwgMCk7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh2YWx1ZSkucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGNvdW50V29yZHNJbk9iamVjdChpdGVtKSwgMCk7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBjb3VudFN0cmluZ3NJbk9iamVjdCA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSByZXR1cm4gMTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUucmVkdWNlKChhY2MsIGl0ZW0pID0+IGFjYyArIGNvdW50U3RyaW5nc0luT2JqZWN0KGl0ZW0pLCAwKTtcbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKHZhbHVlKS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gYWNjICsgY291bnRTdHJpbmdzSW5PYmplY3QoaXRlbSksIDApO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuY29uc3QgdHJpbVdvcmRzID0gKHRleHQsIG1heFdvcmRzKSA9PiB7XG4gIGlmICghdGV4dCkgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IHdvcmRzID0gU3RyaW5nKHRleHQpLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuICBpZiAod29yZHMubGVuZ3RoIDw9IG1heFdvcmRzKSByZXR1cm4gU3RyaW5nKHRleHQpLnRyaW0oKTtcbiAgcmV0dXJuIGAke3dvcmRzLnNsaWNlKDAsIG1heFdvcmRzKS5qb2luKFwiIFwiKX0uLi5gO1xufTtcblxuY29uc3QgbWFwU3RyaW5ncyA9ICh2YWx1ZSwgZm4pID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGZuKHZhbHVlKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUubWFwKChpdGVtKSA9PiBtYXBTdHJpbmdzKGl0ZW0sIGZuKSk7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW2tleSwgdmFsXSkgPT4gW2tleSwgbWFwU3RyaW5ncyh2YWwsIGZuKV0pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5jb25zdCB3b3JkTGltaXRDb21wcmVzcyA9IChvdXRwdXQsIG1heFdvcmRzKSA9PiB7XG4gIGlmICh0eXBlb2YgbWF4V29yZHMgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc0Zpbml0ZShtYXhXb3JkcykgfHwgbWF4V29yZHMgPD0gMCkge1xuICAgIHJldHVybiB7IG91dHB1dCwgd2l0aGluOiB0cnVlIH07XG4gIH1cblxuICBsZXQgY3VycmVudCA9IG91dHB1dDtcbiAgbGV0IHRvdGFsID0gY291bnRXb3Jkc0luT2JqZWN0KGN1cnJlbnQpO1xuICBpZiAodG90YWwgPD0gbWF4V29yZHMpIHJldHVybiB7IG91dHB1dDogY3VycmVudCwgd2l0aGluOiB0cnVlIH07XG5cbiAgY29uc3QgcGFzc2VzID0gWzEwLCA4LCA2LCA0XTtcbiAgZm9yIChjb25zdCBsaW1pdCBvZiBwYXNzZXMpIHtcbiAgICBjdXJyZW50ID0gbWFwU3RyaW5ncyhjdXJyZW50LCAodGV4dCkgPT4gdHJpbVdvcmRzKHRleHQsIGxpbWl0KSk7XG4gICAgdG90YWwgPSBjb3VudFdvcmRzSW5PYmplY3QoY3VycmVudCk7XG4gICAgaWYgKHRvdGFsIDw9IG1heFdvcmRzKSByZXR1cm4geyBvdXRwdXQ6IGN1cnJlbnQsIHdpdGhpbjogdHJ1ZSB9O1xuICB9XG5cbiAgY3VycmVudCA9IG1hcFN0cmluZ3MoY3VycmVudCwgKHRleHQpID0+IHRyaW1Xb3Jkcyh0ZXh0LCAzKSk7XG4gIHRvdGFsID0gY291bnRXb3Jkc0luT2JqZWN0KGN1cnJlbnQpO1xuICBpZiAodG90YWwgPD0gbWF4V29yZHMpIHJldHVybiB7IG91dHB1dDogY3VycmVudCwgd2l0aGluOiB0cnVlIH07XG5cbiAgY29uc3QgdG90YWxTdHJpbmdzID0gY291bnRTdHJpbmdzSW5PYmplY3QoY3VycmVudCkgfHwgMTtcbiAgY29uc3QgcGVyU3RyaW5nID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihtYXhXb3JkcyAvIHRvdGFsU3RyaW5ncykpO1xuICBjdXJyZW50ID0gbWFwU3RyaW5ncyhjdXJyZW50LCAodGV4dCkgPT4gdHJpbVdvcmRzKHRleHQsIHBlclN0cmluZykpO1xuICB0b3RhbCA9IGNvdW50V29yZHNJbk9iamVjdChjdXJyZW50KTtcbiAgcmV0dXJuIHsgb3V0cHV0OiBjdXJyZW50LCB3aXRoaW46IHRvdGFsIDw9IG1heFdvcmRzIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgd29yZExpbWl0Q29tcHJlc3MgfTtcbiJdLCJuYW1lcyI6WyJjb3VudFdvcmRzIiwidGV4dCIsIm1hdGNoZXMiLCJTdHJpbmciLCJtYXRjaCIsImxlbmd0aCIsImNvdW50V29yZHNJbk9iamVjdCIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwicmVkdWNlIiwiYWNjIiwiaXRlbSIsIk9iamVjdCIsInZhbHVlcyIsImNvdW50U3RyaW5nc0luT2JqZWN0IiwidHJpbVdvcmRzIiwibWF4V29yZHMiLCJ3b3JkcyIsInRyaW0iLCJzcGxpdCIsInNsaWNlIiwiam9pbiIsIm1hcFN0cmluZ3MiLCJmbiIsIm1hcCIsImZyb21FbnRyaWVzIiwiZW50cmllcyIsImtleSIsInZhbCIsIndvcmRMaW1pdENvbXByZXNzIiwib3V0cHV0IiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ3aXRoaW4iLCJjdXJyZW50IiwidG90YWwiLCJwYXNzZXMiLCJsaW1pdCIsInRvdGFsU3RyaW5ncyIsInBlclN0cmluZyIsIk1hdGgiLCJtYXgiLCJmbG9vciIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/wordLimitCompress.js\n");

/***/ })

};
;