"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_agents_emelyan_js";
exports.ids = ["_rsc_lib_agents_emelyan_js"];
exports.modules = {

/***/ "(rsc)/./lib/agents/emelyan.js":
/*!*******************************!*\
  !*** ./lib/agents/emelyan.js ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { wrapAgentOutput, unwrapLegacy } = __webpack_require__(/*! ../../utils/agentEnvelope.js */ \"(rsc)/./utils/agentEnvelope.js\");\nconst inputDefaults = {\n    mode: \"deep\",\n    tone_pack: \"mixed\",\n    goal: \"get_reply\",\n    product_name: \"AgentOS\",\n    product_one_liner: \"автоматизация продаж/поддержки/контента через ИИ-агентов: лиды, ответы, CRM-рутины, репутация\",\n    constraints: {\n        max_chars_email: 900,\n        max_bullets: 3,\n        no_links: false,\n        no_attachments: true\n    },\n    anatoly_output_json: null,\n    artem_output_json: null,\n    recipient_context: {\n        company_name: \"\",\n        industry: \"\",\n        city: \"\"\n    },\n    language: \"ru\"\n};\nconst inputSchema = {\n    type: \"object\",\n    additionalProperties: false,\n    properties: {\n        mode: {\n            type: \"string\",\n            enum: [\n                \"quick\",\n                \"deep\"\n            ],\n            default: \"deep\"\n        },\n        tone_pack: {\n            type: \"string\",\n            enum: [\n                \"short\",\n                \"medium\",\n                \"hard_business\",\n                \"mixed\"\n            ],\n            default: \"mixed\"\n        },\n        goal: {\n            type: \"string\",\n            enum: [\n                \"get_reply\",\n                \"qualify\",\n                \"book_call\",\n                \"send_audit\"\n            ],\n            default: \"get_reply\"\n        },\n        product_name: {\n            type: \"string\"\n        },\n        product_one_liner: {\n            type: \"string\"\n        },\n        constraints: {\n            type: \"object\",\n            properties: {\n                max_chars_email: {\n                    type: \"number\",\n                    default: 900\n                },\n                max_bullets: {\n                    type: \"number\",\n                    default: 3\n                },\n                no_links: {\n                    type: \"boolean\",\n                    default: false\n                },\n                no_attachments: {\n                    type: \"boolean\",\n                    default: true\n                }\n            }\n        },\n        anatoly_output_json: {\n            type: [\n                \"object\",\n                \"null\"\n            ]\n        },\n        artem_output_json: {\n            type: [\n                \"object\",\n                \"null\"\n            ]\n        },\n        recipient_context: {\n            type: [\n                \"object\",\n                \"null\"\n            ]\n        },\n        language: {\n            type: \"string\",\n            default: \"ru\"\n        }\n    },\n    required: [\n        \"mode\"\n    ],\n    default: inputDefaults\n};\nconst outputSchema = {\n    type: \"object\",\n    required: [\n        \"email_sequences\",\n        \"meta\"\n    ],\n    additionalProperties: false,\n    properties: {\n        email_sequences: {\n            type: \"array\"\n        },\n        meta: {\n            type: \"object\"\n        }\n    }\n};\nconst systemPrompt = `Ты — ИИ-агент agentOS: \"Емельян — Холодные письма\".\nРоль: писать короткие RU cold emails на основе входных JSON. Без выдумок и без воды.`;\nconst emelyanAgent = {\n    id: \"emelyan-cold-email-ru\",\n    displayName: \"Емельян — Холодные письма\",\n    description: \"Пишет короткие RU cold emails с персонализацией из Anatoly/Artem JSON.\",\n    inputSchema,\n    outputSchema,\n    systemPrompt\n};\nconst wrapOutput = (legacyOutput, input)=>wrapAgentOutput({\n        agentId: emelyanAgent.id,\n        inputEcho: input,\n        mode: input.mode,\n        legacyOutput\n    });\nconst fluffBlacklist = [\n    \"лидер рынка\",\n    \"инновацион\",\n    \"синерг\",\n    \"под ключ\",\n    \"уникальн\",\n    \"революцион\",\n    \"лучш\",\n    \"гарантир\",\n    \"рост продаж\"\n];\nconst spamTriggerWords = [\n    \"гарантируем\",\n    \"гарантия\",\n    \"100%\",\n    \"бесплатно\",\n    \"срочно\",\n    \"без риска\",\n    \"лучшее предложение\",\n    \"быстрый заработок\"\n];\nconst sanitizeText = (text, constraints)=>{\n    const trimmed = text.replace(/\\s+$/g, \"\").trim();\n    if (constraints.no_links) {\n        return trimmed.replace(/https?:\\/\\/\\S+/gi, \"\").replace(/\\s+/g, \" \").trim();\n    }\n    return trimmed;\n};\nconst clampText = (text, max)=>{\n    if (!text) return \"\";\n    if (text.length <= max) return text;\n    return text.slice(0, max - 1).trim() + \"…\";\n};\nconst stripEmoji = (text)=>String(text || \"\").replace(/[\\u{1F300}-\\u{1FAFF}\\u{2600}-\\u{27BF}]/gu, \"\");\nconst normalizeSubject = (subject)=>{\n    const cleaned = stripEmoji(subject).replace(/[!?.]{2,}/g, \".\").replace(/\\s+/g, \" \").trim();\n    const words = cleaned.split(/\\s+/).filter(Boolean).slice(0, 8);\n    const lowered = words.map((word, index)=>{\n        const token = word.replace(/[^\\p{L}\\p{N}-]/gu, \"\");\n        if (!token) return word;\n        const normalized = token.toLowerCase();\n        if (index === 0) {\n            return normalized.charAt(0).toUpperCase() + normalized.slice(1);\n        }\n        return normalized;\n    });\n    return lowered.join(\" \").trim() || \"Короткий вопрос\";\n};\nconst buildPreviewLine = (personalizationLine, goal)=>{\n    const base = personalizationLine ? `Коротко по задаче: ${personalizationLine}` : \"Коротко по вашей задаче и безопасному первому шагу\";\n    const suffix = goal === \"book_call\" ? \" без созвона, если не нужно.\" : \" без давления на продажу.\";\n    const combined = `${base}. ${suffix}`.replace(/\\s+/g, \" \");\n    const trimmed = clampText(combined, 70);\n    if (trimmed.length >= 40) return trimmed;\n    return clampText(`${trimmed} Скину все текстом, если актуально.`, 70);\n};\nconst findSpamTriggers = (text)=>{\n    const lower = String(text || \"\").toLowerCase();\n    return spamTriggerWords.filter((word)=>lower.includes(word));\n};\nconst softenSpamText = (text)=>{\n    let next = String(text || \"\");\n    next = next.replace(/гарантируем/gi, \"стараемся\");\n    next = next.replace(/гарантия/gi, \"рабочий ориентир\");\n    next = next.replace(/100%/g, \"без завышенных обещаний\");\n    next = next.replace(/бесплатно/gi, \"без оплаты на старте\");\n    next = next.replace(/срочно/gi, \"в ближайшее время\");\n    next = next.replace(/без риска/gi, \"с аккуратным стартом\");\n    next = next.replace(/лучшее предложение/gi, \"понятный вариант\");\n    next = next.replace(/быстрый заработок/gi, \"быстрый эффект на процессе\");\n    return next;\n};\nconst normalizeInput = (input)=>{\n    const safe = typeof input === \"object\" && input !== null ? input : {};\n    return {\n        mode: safe.mode === \"quick\" ? \"quick\" : \"deep\",\n        tone_pack: [\n            \"short\",\n            \"medium\",\n            \"hard_business\",\n            \"mixed\"\n        ].includes(safe.tone_pack) ? safe.tone_pack : \"mixed\",\n        goal: [\n            \"get_reply\",\n            \"qualify\",\n            \"book_call\",\n            \"send_audit\"\n        ].includes(safe.goal) ? safe.goal : \"get_reply\",\n        product_name: typeof safe.product_name === \"string\" && safe.product_name.trim() ? safe.product_name.trim() : \"AgentOS\",\n        product_one_liner: typeof safe.product_one_liner === \"string\" && safe.product_one_liner.trim() ? safe.product_one_liner.trim() : inputDefaults.product_one_liner,\n        constraints: {\n            max_chars_email: typeof safe.constraints?.max_chars_email === \"number\" ? Math.max(200, Math.round(safe.constraints.max_chars_email)) : 900,\n            max_bullets: typeof safe.constraints?.max_bullets === \"number\" ? Math.max(1, Math.round(safe.constraints.max_bullets)) : 3,\n            no_links: safe.constraints?.no_links === true,\n            no_attachments: safe.constraints?.no_attachments !== false\n        },\n        anatoly_output_json: safe.anatoly_output_json ?? null,\n        artem_output_json: safe.artem_output_json ?? null,\n        recipient_context: safe.recipient_context ?? {},\n        language: safe.language === \"ru\" ? \"ru\" : \"ru\"\n    };\n};\nconst extractAnatolyData = (anatoly)=>{\n    if (!anatoly || typeof anatoly !== \"object\") return null;\n    const account = anatoly.account_card || anatoly.accountCard || null;\n    if (!account || typeof account !== \"object\") return null;\n    const hooks = Array.isArray(account.top_personalization_hooks) ? account.top_personalization_hooks : [];\n    const pains = Array.isArray(account.pain_hypotheses) ? account.pain_hypotheses : [];\n    const proofItems = Array.isArray(anatoly.meta?.proof_items) ? anatoly.meta.proof_items : [];\n    return {\n        companyName: account.company_name || \"\",\n        hooks,\n        pains,\n        proofItems\n    };\n};\nconst extractArtemData = (artem)=>{\n    if (!artem || typeof artem !== \"object\") return null;\n    const leads = Array.isArray(artem.hot_leads) ? artem.hot_leads : [];\n    if (leads.length === 0) return null;\n    const proofItems = Array.isArray(artem.meta?.proof_items) ? artem.meta.proof_items : [];\n    return {\n        lead: leads[0],\n        proofItems\n    };\n};\nconst buildPersonalization = (anatolyData, artemData)=>{\n    if (anatolyData) {\n        const hook = anatolyData.hooks[0];\n        const pain = anatolyData.pains[0];\n        const personalizationLine = hook?.hook_text ? clampText(hook.hook_text, 160) : \"\";\n        const refs = [\n            ...hook?.related_proofs ?? [],\n            ...pain?.related_proofs ?? []\n        ].filter((item)=>typeof item === \"number\");\n        const observations = [];\n        if (hook?.hook_text) {\n            observations.push({\n                text: clampText(hook.hook_text, 180),\n                refs: (hook.related_proofs ?? []).filter((item)=>typeof item === \"number\")\n            });\n        }\n        if (pain?.hypothesis) {\n            observations.push({\n                text: clampText(pain.hypothesis, 180),\n                refs: (pain.related_proofs ?? []).filter((item)=>typeof item === \"number\")\n            });\n        }\n        return {\n            personalizationLine,\n            observations,\n            groundingRefs: refs.length ? refs : anatolyData.proofItems.length ? [\n                0\n            ] : []\n        };\n    }\n    if (artemData) {\n        const reason = artemData.lead.hot_reasons?.[0] || artemData.lead.request_summary || \"\";\n        const personalizationLine = clampText(reason, 160);\n        const refs = Array.isArray(artemData.lead.proof_refs) ? artemData.lead.proof_refs : [];\n        const observations = [\n            {\n                text: clampText(reason, 180),\n                refs\n            }\n        ];\n        return {\n            personalizationLine,\n            observations,\n            groundingRefs: refs.length ? refs : artemData.proofItems.length ? [\n                0\n            ] : []\n        };\n    }\n    return {\n        personalizationLine: \"\",\n        observations: [],\n        groundingRefs: []\n    };\n};\nconst buildSubjectVariants = (personalizationLine, goal)=>{\n    const base = personalizationLine ? clampText(personalizationLine, 60) : \"Короткий вопрос\";\n    const subjects = [\n        base,\n        \"Короткий вопрос по процессу\",\n        \"Можно уточнить один момент\"\n    ];\n    if (goal === \"send_audit\") subjects.push(\"Мини-аудит в 5 пунктов\");\n    return Array.from(new Set(subjects)).slice(0, 3).map((item)=>normalizeSubject(item));\n};\nconst buildCTA = (goal)=>{\n    switch(goal){\n        case \"qualify\":\n            return \"Кому у вас адресовать этот вопрос?\";\n        case \"book_call\":\n            return \"Готовы на короткий созвон 10 минут?\";\n        case \"send_audit\":\n            return \"Скинуть мини-аудит на 5 пунктов?\";\n        case \"get_reply\":\n        default:\n            return \"Актуально обсудить?\";\n    }\n};\nconst mergeRefs = (observations, baseRefs = [])=>{\n    const refs = new Set(baseRefs.filter((item)=>typeof item === \"number\"));\n    observations.forEach((obs)=>{\n        (obs.refs ?? []).forEach((ref)=>{\n            if (typeof ref === \"number\") refs.add(ref);\n        });\n    });\n    return Array.from(refs);\n};\nconst toneIntro = (tone)=>{\n    if (tone === \"hard_business\") return \"Коллеги, добрый день.\";\n    if (tone === \"medium\") return \"Добрый день.\";\n    return \"Привет.\";\n};\nconst composeEmail = ({ tone, personalizationLine, observations, cta, constraints, maxBullets, goal })=>{\n    const intro = toneIntro(tone);\n    const bullets = observations.slice(0, maxBullets).map((item)=>item.text);\n    const bulletLines = bullets.map((item)=>`• ${item}`);\n    const ctaLine = buildCTA(goal);\n    const bodyLines = [\n        intro\n    ];\n    if (personalizationLine) bodyLines.push(`Коротко по вам: ${personalizationLine}.`);\n    if (bulletLines.length) bodyLines.push(...bulletLines);\n    bodyLines.push(ctaLine);\n    let body = sanitizeText(bodyLines.join(\"\\n\"), constraints);\n    body = softenSpamText(body);\n    body = clampText(body, constraints.max_chars_email);\n    return {\n        body,\n        bullets,\n        cta: ctaLine\n    };\n};\nconst buildEmailSequence = (tone, personalization, constraints, goal)=>{\n    const maxBullets = constraints.max_bullets;\n    const primary = composeEmail({\n        tone,\n        personalizationLine: personalization.personalizationLine,\n        observations: personalization.observations,\n        cta: buildCTA(goal),\n        constraints,\n        maxBullets,\n        goal\n    });\n    const groundingRefs = mergeRefs(personalization.observations, personalization.groundingRefs);\n    const subjectVariants = buildSubjectVariants(personalization.personalizationLine, goal);\n    const previewLine = buildPreviewLine(personalization.personalizationLine, goal);\n    const followup1Body = softenSpamText(\"Коротко: могу прислать 2 практичных шага под вашу ситуацию, если актуально.\");\n    const followup2Body = softenSpamText(\"Поделюсь похожим кейсом без цифр и с выводами, если хотите сверить подход.\");\n    const followup3Body = softenSpamText(\"Если тема не в приоритете, закрою тред и вернусь позже по вашему сигналу.\");\n    const emails = [\n        {\n            day_offset: 0,\n            subject: normalizeSubject(subjectVariants[0]),\n            preview_line: previewLine,\n            body: primary.body,\n            cta: primary.cta,\n            bullets: primary.bullets,\n            personalization_line: personalization.personalizationLine,\n            grounding_refs: groundingRefs,\n            tone,\n            within_limits: primary.body.length <= constraints.max_chars_email\n        },\n        {\n            day_offset: 2,\n            subject: normalizeSubject(\"Короткое напоминание по задаче\"),\n            preview_line: buildPreviewLine(\"Мягко напомню о пользе\", goal),\n            body: clampText(followup1Body, Math.min(220, constraints.max_chars_email)),\n            cta: buildCTA(goal),\n            bullets: [],\n            personalization_line: personalization.personalizationLine,\n            grounding_refs: groundingRefs,\n            tone,\n            within_limits: true\n        },\n        {\n            day_offset: 5,\n            subject: normalizeSubject(\"Кейс-намек без цифр\"),\n            preview_line: buildPreviewLine(\"Есть релевантный пример без цифр\", goal),\n            body: clampText(followup2Body, Math.min(220, constraints.max_chars_email)),\n            cta: buildCTA(goal),\n            bullets: [],\n            personalization_line: personalization.personalizationLine,\n            grounding_refs: groundingRefs,\n            tone,\n            within_limits: true\n        },\n        {\n            day_offset: 9,\n            subject: normalizeSubject(\"Закрою тред если неактуально\"),\n            preview_line: buildPreviewLine(\"Финальное письмо без давления\", goal),\n            body: clampText(followup3Body, Math.min(200, constraints.max_chars_email)),\n            cta: \"\",\n            bullets: [],\n            personalization_line: personalization.personalizationLine,\n            grounding_refs: groundingRefs,\n            tone,\n            within_limits: true\n        }\n    ];\n    return emails;\n};\nconst hasFluff = (text)=>fluffBlacklist.some((word)=>text.toLowerCase().includes(word));\nconst validateQuality = (sequences, constraints, usedPersonalization)=>{\n    const allEmails = sequences.flatMap((sequence)=>sequence.emails || []);\n    const withinLimits = allEmails.every((email)=>email.body.length <= constraints.max_chars_email);\n    const bulletsOk = allEmails.every((email)=>email.bullets.length <= constraints.max_bullets);\n    const noFluff = !allEmails.some((email)=>hasFluff(email.subject) || hasFluff(email.body));\n    const subjectRulesOk = allEmails.every((email)=>{\n        const subject = String(email.subject || \"\");\n        const words = subject.split(/\\s+/).filter(Boolean);\n        const hasCapsBurst = /[A-ZА-ЯЁ]{3,}/.test(subject);\n        const hasEmoji = /[\\u{1F300}-\\u{1FAFF}\\u{2600}-\\u{27BF}]/u.test(subject);\n        return words.length >= 1 && words.length <= 8 && !hasCapsBurst && !hasEmoji;\n    });\n    const previewLineOk = allEmails.every((email)=>{\n        const len = String(email.preview_line || \"\").length;\n        return len >= 40 && len <= 70;\n    });\n    return {\n        no_fluff: noFluff,\n        within_char_limits: withinLimits,\n        no_fabrication: true,\n        has_personalization: usedPersonalization,\n        bullets_ok: bulletsOk,\n        subject_rules_ok: subjectRulesOk,\n        preview_line_ok: previewLineOk\n    };\n};\nconst applySpamRiskChecks = (sequences)=>{\n    const corrected = [];\n    const found = new Set();\n    const next = sequences.map((sequence, sequenceIndex)=>{\n        const emails = Array.isArray(sequence.emails) ? sequence.emails : [];\n        const updatedEmails = emails.map((email, emailIndex)=>{\n            const subjectTriggers = findSpamTriggers(email.subject || \"\");\n            const bodyTriggers = findSpamTriggers(email.body || \"\");\n            [\n                ...subjectTriggers,\n                ...bodyTriggers\n            ].forEach((item)=>found.add(item));\n            const nextEmail = {\n                ...email,\n                subject: normalizeSubject(softenSpamText(email.subject || \"\")),\n                body: softenSpamText(email.body || \"\"),\n                preview_line: clampText(stripEmoji(email.preview_line || buildPreviewLine(\"\", \"get_reply\")), 70)\n            };\n            if (nextEmail.preview_line.length < 40) {\n                nextEmail.preview_line = buildPreviewLine(nextEmail.preview_line, \"get_reply\");\n            }\n            const afterSubjectTriggers = findSpamTriggers(nextEmail.subject);\n            const afterBodyTriggers = findSpamTriggers(nextEmail.body);\n            if (subjectTriggers.length || bodyTriggers.length || afterSubjectTriggers.length || afterBodyTriggers.length) {\n                corrected.push({\n                    sequence_index: sequenceIndex,\n                    email_index: emailIndex,\n                    fixed: true\n                });\n            }\n            return nextEmail;\n        });\n        return {\n            ...sequence,\n            emails: updatedEmails\n        };\n    });\n    return {\n        sequences: next,\n        checks: {\n            found_triggers: Array.from(found),\n            corrected_count: corrected.length\n        }\n    };\n};\nconst generateOutput = async (rawInput = {}, options = {})=>{\n    const input = normalizeInput(rawInput);\n    const anatolyData = extractAnatolyData(input.anatoly_output_json);\n    const artemData = extractArtemData(input.artem_output_json);\n    if (!anatolyData && !artemData) {\n        const question = \"Пришли разбор Марии (JSON) или hot-leads Артёма, и я соберу письма.\";\n        const legacyOutput = {\n            email_sequences: [\n                {\n                    sequence_name: \"короткая\",\n                    emails: [\n                        {\n                            day_offset: 0,\n                            subject: normalizeSubject(\"Нужны данные для персонализации\"),\n                            preview_line: buildPreviewLine(\"Нужны входные данные\", input.goal),\n                            body: clampText(question, input.constraints.max_chars_email),\n                            cta: \"\",\n                            bullets: [],\n                            personalization_line: \"\",\n                            grounding_refs: [],\n                            tone: \"short\",\n                            within_limits: true\n                        }\n                    ],\n                    recommended_send_window: \"будни 10:00–12:00\",\n                    a_b_tests: {\n                        subjects: [\n                            \"Нужны данные\"\n                        ],\n                        cta_variants: []\n                    }\n                }\n            ],\n            meta: {\n                generated_at: new Date().toISOString(),\n                used_inputs: {\n                    used_anatoly: false,\n                    used_artem: false\n                },\n                limitations: [\n                    \"Нет входных JSON для персонализации.\"\n                ],\n                assumptions: [],\n                spam_risk_checks: {\n                    found_triggers: [],\n                    corrected_count: 0\n                },\n                quality_checks: {\n                    no_fluff: true,\n                    within_char_limits: true,\n                    no_fabrication: true,\n                    has_personalization: false,\n                    bullets_ok: true,\n                    subject_rules_ok: true,\n                    preview_line_ok: true\n                },\n                needsReview: true\n            }\n        };\n        return {\n            output: wrapOutput(legacyOutput, input),\n            effectiveInput: input\n        };\n    }\n    const personalization = buildPersonalization(anatolyData, artemData);\n    const tones = input.tone_pack === \"mixed\" ? [\n        \"short\",\n        \"medium\",\n        \"hard_business\"\n    ] : [\n        input.tone_pack\n    ];\n    const sequences = tones.map((tone)=>{\n        const emails = buildEmailSequence(tone, personalization, input.constraints, input.goal);\n        const subjects = buildSubjectVariants(personalization.personalizationLine, input.goal);\n        const ctas = [\n            buildCTA(input.goal),\n            \"Кому адресовать?\"\n        ].slice(0, 2);\n        return {\n            sequence_name: tone === \"short\" ? \"короткая\" : tone === \"medium\" ? \"средняя\" : \"жёстко-деловая\",\n            emails,\n            recommended_send_window: \"будни 10:00–12:00\",\n            a_b_tests: {\n                subjects,\n                cta_variants: ctas\n            }\n        };\n    });\n    const spamChecked = applySpamRiskChecks(sequences);\n    const checkedSequences = spamChecked.sequences;\n    const usedPersonalization = Boolean(personalization.personalizationLine);\n    const quality = validateQuality(checkedSequences, input.constraints, usedPersonalization);\n    const legacyOutput = {\n        email_sequences: checkedSequences,\n        meta: {\n            generated_at: new Date().toISOString(),\n            used_inputs: {\n                used_anatoly: Boolean(anatolyData),\n                used_artem: Boolean(artemData)\n            },\n            limitations: [],\n            assumptions: [],\n            spam_risk_checks: spamChecked.checks,\n            quality_checks: quality,\n            needsReview: !usedPersonalization\n        }\n    };\n    return {\n        output: wrapOutput(legacyOutput, input),\n        effectiveInput: input\n    };\n};\nconst generateEmelyanOutput = async (input = {}, options = {})=>{\n    const result = await generateOutput(input, options);\n    return result.output;\n};\nconst validateEmelyanOutput = (payload)=>{\n    const errors = [];\n    const legacy = unwrapLegacy(payload);\n    if (!legacy || typeof legacy !== \"object\") {\n        return {\n            valid: false,\n            errors: [\n                \"Output must be an object.\"\n            ]\n        };\n    }\n    payload = legacy;\n    if (!Array.isArray(payload.email_sequences)) errors.push(\"email_sequences must be array\");\n    if (!payload.meta) errors.push(\"meta required\");\n    if (Array.isArray(payload.email_sequences)) {\n        payload.email_sequences.forEach((sequence, sIndex)=>{\n            const emails = Array.isArray(sequence.emails) ? sequence.emails : [];\n            emails.forEach((email, eIndex)=>{\n                if (!email.preview_line || typeof email.preview_line !== \"string\") {\n                    errors.push(`email_sequences[${sIndex}].emails[${eIndex}].preview_line required`);\n                }\n                const wordCount = String(email.subject || \"\").split(/\\s+/).filter(Boolean).length;\n                if (wordCount < 1 || wordCount > 8) {\n                    errors.push(`email_sequences[${sIndex}].emails[${eIndex}].subject must be <=8 words`);\n                }\n            });\n        });\n    }\n    return {\n        valid: errors.length === 0,\n        errors\n    };\n};\nmodule.exports = {\n    inputDefaults,\n    inputSchema,\n    outputSchema,\n    systemPrompt,\n    emelyanAgent,\n    normalizeInput,\n    generateOutput,\n    generateEmelyanOutput,\n    validateEmelyanOutput\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dkwsT0FBT21ILE1BQU1qSCxPQUFPLElBQUksSUFBSUcsS0FBSyxDQUFDLE9BQU9DLE1BQU0sQ0FBQ0MsU0FBU1YsTUFBTTtnQkFDakYsSUFBSTBMLFlBQVksS0FBS0EsWUFBWSxHQUFHO29CQUNsQ0wsT0FBT3JILElBQUksQ0FBQyxDQUFDLGdCQUFnQixFQUFFd0gsT0FBTyxTQUFTLEVBQUVDLE9BQU8sMkJBQTJCLENBQUM7Z0JBQ3RGO1lBQ0Y7UUFDRjtJQUNGO0lBQ0EsT0FBTztRQUFFRixPQUFPRixPQUFPckwsTUFBTSxLQUFLO1FBQUdxTDtJQUFPO0FBQzlDO0FBRUFNLE9BQU9DLE9BQU8sR0FBRztJQUNmM087SUFDQWtCO0lBQ0FPO0lBQ0FHO0lBQ0FDO0lBQ0FpRDtJQUNBd0g7SUFDQTBCO0lBQ0FFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy9saWIvYWdlbnRzL2VtZWx5YW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyB3cmFwQWdlbnRPdXRwdXQsIHVud3JhcExlZ2FjeSB9ID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2FnZW50RW52ZWxvcGUuanNcIik7XG5cbmNvbnN0IGlucHV0RGVmYXVsdHMgPSB7XG4gIG1vZGU6IFwiZGVlcFwiLFxuICB0b25lX3BhY2s6IFwibWl4ZWRcIixcbiAgZ29hbDogXCJnZXRfcmVwbHlcIixcbiAgcHJvZHVjdF9uYW1lOiBcIkFnZW50T1NcIixcbiAgcHJvZHVjdF9vbmVfbGluZXI6XG4gICAgXCLQsNCy0YLQvtC80LDRgtC40LfQsNGG0LjRjyDQv9GA0L7QtNCw0LYv0L/QvtC00LTQtdGA0LbQutC4L9C60L7QvdGC0LXQvdGC0LAg0YfQtdGA0LXQtyDQmNCYLdCw0LPQtdC90YLQvtCyOiDQu9C40LTRiywg0L7RgtCy0LXRgtGLLCBDUk0t0YDRg9GC0LjQvdGLLCDRgNC10L/Rg9GC0LDRhtC40Y9cIixcbiAgY29uc3RyYWludHM6IHtcbiAgICBtYXhfY2hhcnNfZW1haWw6IDkwMCxcbiAgICBtYXhfYnVsbGV0czogMyxcbiAgICBub19saW5rczogZmFsc2UsXG4gICAgbm9fYXR0YWNobWVudHM6IHRydWVcbiAgfSxcbiAgYW5hdG9seV9vdXRwdXRfanNvbjogbnVsbCxcbiAgYXJ0ZW1fb3V0cHV0X2pzb246IG51bGwsXG4gIHJlY2lwaWVudF9jb250ZXh0OiB7IGNvbXBhbnlfbmFtZTogXCJcIiwgaW5kdXN0cnk6IFwiXCIsIGNpdHk6IFwiXCIgfSxcbiAgbGFuZ3VhZ2U6IFwicnVcIlxufTtcblxuY29uc3QgaW5wdXRTY2hlbWEgPSB7XG4gIHR5cGU6IFwib2JqZWN0XCIsXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgcHJvcGVydGllczoge1xuICAgIG1vZGU6IHsgdHlwZTogXCJzdHJpbmdcIiwgZW51bTogW1wicXVpY2tcIiwgXCJkZWVwXCJdLCBkZWZhdWx0OiBcImRlZXBcIiB9LFxuICAgIHRvbmVfcGFjazoge1xuICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgIGVudW06IFtcInNob3J0XCIsIFwibWVkaXVtXCIsIFwiaGFyZF9idXNpbmVzc1wiLCBcIm1peGVkXCJdLFxuICAgICAgZGVmYXVsdDogXCJtaXhlZFwiXG4gICAgfSxcbiAgICBnb2FsOiB7XG4gICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgZW51bTogW1wiZ2V0X3JlcGx5XCIsIFwicXVhbGlmeVwiLCBcImJvb2tfY2FsbFwiLCBcInNlbmRfYXVkaXRcIl0sXG4gICAgICBkZWZhdWx0OiBcImdldF9yZXBseVwiXG4gICAgfSxcbiAgICBwcm9kdWN0X25hbWU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgIHByb2R1Y3Rfb25lX2xpbmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICBjb25zdHJhaW50czoge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgbWF4X2NoYXJzX2VtYWlsOiB7IHR5cGU6IFwibnVtYmVyXCIsIGRlZmF1bHQ6IDkwMCB9LFxuICAgICAgICBtYXhfYnVsbGV0czogeyB0eXBlOiBcIm51bWJlclwiLCBkZWZhdWx0OiAzIH0sXG4gICAgICAgIG5vX2xpbmtzOiB7IHR5cGU6IFwiYm9vbGVhblwiLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgICAgICBub19hdHRhY2htZW50czogeyB0eXBlOiBcImJvb2xlYW5cIiwgZGVmYXVsdDogdHJ1ZSB9XG4gICAgICB9XG4gICAgfSxcbiAgICBhbmF0b2x5X291dHB1dF9qc29uOiB7IHR5cGU6IFtcIm9iamVjdFwiLCBcIm51bGxcIl0gfSxcbiAgICBhcnRlbV9vdXRwdXRfanNvbjogeyB0eXBlOiBbXCJvYmplY3RcIiwgXCJudWxsXCJdIH0sXG4gICAgcmVjaXBpZW50X2NvbnRleHQ6IHsgdHlwZTogW1wib2JqZWN0XCIsIFwibnVsbFwiXSB9LFxuICAgIGxhbmd1YWdlOiB7IHR5cGU6IFwic3RyaW5nXCIsIGRlZmF1bHQ6IFwicnVcIiB9XG4gIH0sXG4gIHJlcXVpcmVkOiBbXCJtb2RlXCJdLFxuICBkZWZhdWx0OiBpbnB1dERlZmF1bHRzXG59O1xuXG5jb25zdCBvdXRwdXRTY2hlbWEgPSB7XG4gIHR5cGU6IFwib2JqZWN0XCIsXG4gIHJlcXVpcmVkOiBbXCJlbWFpbF9zZXF1ZW5jZXNcIiwgXCJtZXRhXCJdLFxuICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gIHByb3BlcnRpZXM6IHtcbiAgICBlbWFpbF9zZXF1ZW5jZXM6IHsgdHlwZTogXCJhcnJheVwiIH0sXG4gICAgbWV0YTogeyB0eXBlOiBcIm9iamVjdFwiIH1cbiAgfVxufTtcblxuY29uc3Qgc3lzdGVtUHJvbXB0ID0gYNCi0Ysg4oCUINCY0Jgt0LDQs9C10L3RgiBhZ2VudE9TOiBcItCV0LzQtdC70YzRj9C9IOKAlCDQpdC+0LvQvtC00L3Ri9C1INC/0LjRgdGM0LzQsFwiLlxu0KDQvtC70Yw6INC/0LjRgdCw0YLRjCDQutC+0YDQvtGC0LrQuNC1IFJVIGNvbGQgZW1haWxzINC90LAg0L7RgdC90L7QstC1INCy0YXQvtC00L3Ri9GFIEpTT04uINCR0LXQtyDQstGL0LTRg9C80L7QuiDQuCDQsdC10Lcg0LLQvtC00YsuYDtcblxuY29uc3QgZW1lbHlhbkFnZW50ID0ge1xuICBpZDogXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIixcbiAgZGlzcGxheU5hbWU6IFwi0JXQvNC10LvRjNGP0L0g4oCUINCl0L7Qu9C+0LTQvdGL0LUg0L/QuNGB0YzQvNCwXCIsXG4gIGRlc2NyaXB0aW9uOlxuICAgIFwi0J/QuNGI0LXRgiDQutC+0YDQvtGC0LrQuNC1IFJVIGNvbGQgZW1haWxzINGBINC/0LXRgNGB0L7QvdCw0LvQuNC30LDRhtC40LXQuSDQuNC3IEFuYXRvbHkvQXJ0ZW0gSlNPTi5cIixcbiAgaW5wdXRTY2hlbWEsXG4gIG91dHB1dFNjaGVtYSxcbiAgc3lzdGVtUHJvbXB0XG59O1xuXG5jb25zdCB3cmFwT3V0cHV0ID0gKGxlZ2FjeU91dHB1dCwgaW5wdXQpID0+XG4gIHdyYXBBZ2VudE91dHB1dCh7XG4gICAgYWdlbnRJZDogZW1lbHlhbkFnZW50LmlkLFxuICAgIGlucHV0RWNobzogaW5wdXQsXG4gICAgbW9kZTogaW5wdXQubW9kZSxcbiAgICBsZWdhY3lPdXRwdXRcbiAgfSk7XG5cbmNvbnN0IGZsdWZmQmxhY2tsaXN0ID0gW1xuICBcItC70LjQtNC10YAg0YDRi9C90LrQsFwiLFxuICBcItC40L3QvdC+0LLQsNGG0LjQvtC9XCIsXG4gIFwi0YHQuNC90LXRgNCzXCIsXG4gIFwi0L/QvtC0INC60LvRjtGHXCIsXG4gIFwi0YPQvdC40LrQsNC70YzQvVwiLFxuICBcItGA0LXQstC+0LvRjtGG0LjQvtC9XCIsXG4gIFwi0LvRg9GH0YhcIixcbiAgXCLQs9Cw0YDQsNC90YLQuNGAXCIsXG4gIFwi0YDQvtGB0YIg0L/RgNC+0LTQsNC2XCJcbl07XG5cbmNvbnN0IHNwYW1UcmlnZ2VyV29yZHMgPSBbXG4gIFwi0LPQsNGA0LDQvdGC0LjRgNGD0LXQvFwiLFxuICBcItCz0LDRgNCw0L3RgtC40Y9cIixcbiAgXCIxMDAlXCIsXG4gIFwi0LHQtdGB0L/Qu9Cw0YLQvdC+XCIsXG4gIFwi0YHRgNC+0YfQvdC+XCIsXG4gIFwi0LHQtdC3INGA0LjRgdC60LBcIixcbiAgXCLQu9GD0YfRiNC10LUg0L/RgNC10LTQu9C+0LbQtdC90LjQtVwiLFxuICBcItCx0YvRgdGC0YDRi9C5INC30LDRgNCw0LHQvtGC0L7QulwiXG5dO1xuXG5jb25zdCBzYW5pdGl6ZVRleHQgPSAodGV4dCwgY29uc3RyYWludHMpID0+IHtcbiAgY29uc3QgdHJpbW1lZCA9IHRleHQucmVwbGFjZSgvXFxzKyQvZywgXCJcIikudHJpbSgpO1xuICBpZiAoY29uc3RyYWludHMubm9fbGlua3MpIHtcbiAgICByZXR1cm4gdHJpbW1lZC5yZXBsYWNlKC9odHRwcz86XFwvXFwvXFxTKy9naSwgXCJcIikucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikudHJpbSgpO1xuICB9XG4gIHJldHVybiB0cmltbWVkO1xufTtcblxuY29uc3QgY2xhbXBUZXh0ID0gKHRleHQsIG1heCkgPT4ge1xuICBpZiAoIXRleHQpIHJldHVybiBcIlwiO1xuICBpZiAodGV4dC5sZW5ndGggPD0gbWF4KSByZXR1cm4gdGV4dDtcbiAgcmV0dXJuIHRleHQuc2xpY2UoMCwgbWF4IC0gMSkudHJpbSgpICsgXCLigKZcIjtcbn07XG5cbmNvbnN0IHN0cmlwRW1vamkgPSAodGV4dCkgPT4gU3RyaW5nKHRleHQgfHwgXCJcIikucmVwbGFjZSgvW1xcdXsxRjMwMH0tXFx1ezFGQUZGfVxcdXsyNjAwfS1cXHV7MjdCRn1dL2d1LCBcIlwiKTtcblxuY29uc3Qgbm9ybWFsaXplU3ViamVjdCA9IChzdWJqZWN0KSA9PiB7XG4gIGNvbnN0IGNsZWFuZWQgPSBzdHJpcEVtb2ppKHN1YmplY3QpXG4gICAgLnJlcGxhY2UoL1shPy5dezIsfS9nLCBcIi5cIilcbiAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcbiAgICAudHJpbSgpO1xuICBjb25zdCB3b3JkcyA9IGNsZWFuZWQuc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbikuc2xpY2UoMCwgOCk7XG4gIGNvbnN0IGxvd2VyZWQgPSB3b3Jkcy5tYXAoKHdvcmQsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSB3b3JkLnJlcGxhY2UoL1teXFxwe0x9XFxwe059LV0vZ3UsIFwiXCIpO1xuICAgIGlmICghdG9rZW4pIHJldHVybiB3b3JkO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB0b2tlbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBub3JtYWxpemVkLnNsaWNlKDEpO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgfSk7XG4gIHJldHVybiBsb3dlcmVkLmpvaW4oXCIgXCIpLnRyaW0oKSB8fCBcItCa0L7RgNC+0YLQutC40Lkg0LLQvtC/0YDQvtGBXCI7XG59O1xuXG5jb25zdCBidWlsZFByZXZpZXdMaW5lID0gKHBlcnNvbmFsaXphdGlvbkxpbmUsIGdvYWwpID0+IHtcbiAgY29uc3QgYmFzZSA9IHBlcnNvbmFsaXphdGlvbkxpbmVcbiAgICA/IGDQmtC+0YDQvtGC0LrQviDQv9C+INC30LDQtNCw0YfQtTogJHtwZXJzb25hbGl6YXRpb25MaW5lfWBcbiAgICA6IFwi0JrQvtGA0L7RgtC60L4g0L/QviDQstCw0YjQtdC5INC30LDQtNCw0YfQtSDQuCDQsdC10LfQvtC/0LDRgdC90L7QvNGDINC/0LXRgNCy0L7QvNGDINGI0LDQs9GDXCI7XG4gIGNvbnN0IHN1ZmZpeCA9IGdvYWwgPT09IFwiYm9va19jYWxsXCIgPyBcIiDQsdC10Lcg0YHQvtC30LLQvtC90LAsINC10YHQu9C4INC90LUg0L3Rg9C20L3Qvi5cIiA6IFwiINCx0LXQtyDQtNCw0LLQu9C10L3QuNGPINC90LAg0L/RgNC+0LTQsNC20YMuXCI7XG4gIGNvbnN0IGNvbWJpbmVkID0gYCR7YmFzZX0uICR7c3VmZml4fWAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIik7XG4gIGNvbnN0IHRyaW1tZWQgPSBjbGFtcFRleHQoY29tYmluZWQsIDcwKTtcbiAgaWYgKHRyaW1tZWQubGVuZ3RoID49IDQwKSByZXR1cm4gdHJpbW1lZDtcbiAgcmV0dXJuIGNsYW1wVGV4dChgJHt0cmltbWVkfSDQodC60LjQvdGDINCy0YHQtSDRgtC10LrRgdGC0L7QvCwg0LXRgdC70Lgg0LDQutGC0YPQsNC70YzQvdC+LmAsIDcwKTtcbn07XG5cbmNvbnN0IGZpbmRTcGFtVHJpZ2dlcnMgPSAodGV4dCkgPT4ge1xuICBjb25zdCBsb3dlciA9IFN0cmluZyh0ZXh0IHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBzcGFtVHJpZ2dlcldvcmRzLmZpbHRlcigod29yZCkgPT4gbG93ZXIuaW5jbHVkZXMod29yZCkpO1xufTtcblxuY29uc3Qgc29mdGVuU3BhbVRleHQgPSAodGV4dCkgPT4ge1xuICBsZXQgbmV4dCA9IFN0cmluZyh0ZXh0IHx8IFwiXCIpO1xuICBuZXh0ID0gbmV4dC5yZXBsYWNlKC/Qs9Cw0YDQsNC90YLQuNGA0YPQtdC8L2dpLCBcItGB0YLQsNGA0LDQtdC80YHRj1wiKTtcbiAgbmV4dCA9IG5leHQucmVwbGFjZSgv0LPQsNGA0LDQvdGC0LjRjy9naSwgXCLRgNCw0LHQvtGH0LjQuSDQvtGA0LjQtdC90YLQuNGAXCIpO1xuICBuZXh0ID0gbmV4dC5yZXBsYWNlKC8xMDAlL2csIFwi0LHQtdC3INC30LDQstGL0YjQtdC90L3Ri9GFINC+0LHQtdGJ0LDQvdC40LlcIik7XG4gIG5leHQgPSBuZXh0LnJlcGxhY2UoL9Cx0LXRgdC/0LvQsNGC0L3Qvi9naSwgXCLQsdC10Lcg0L7Qv9C70LDRgtGLINC90LAg0YHRgtCw0YDRgtC1XCIpO1xuICBuZXh0ID0gbmV4dC5yZXBsYWNlKC/RgdGA0L7Rh9C90L4vZ2ksIFwi0LIg0LHQu9C40LbQsNC50YjQtdC1INCy0YDQtdC80Y9cIik7XG4gIG5leHQgPSBuZXh0LnJlcGxhY2UoL9Cx0LXQtyDRgNC40YHQutCwL2dpLCBcItGBINCw0LrQutGD0YDQsNGC0L3Ri9C8INGB0YLQsNGA0YLQvtC8XCIpO1xuICBuZXh0ID0gbmV4dC5yZXBsYWNlKC/Qu9GD0YfRiNC10LUg0L/RgNC10LTQu9C+0LbQtdC90LjQtS9naSwgXCLQv9C+0L3Rj9GC0L3Ri9C5INCy0LDRgNC40LDQvdGCXCIpO1xuICBuZXh0ID0gbmV4dC5yZXBsYWNlKC/QsdGL0YHRgtGA0YvQuSDQt9Cw0YDQsNCx0L7RgtC+0LovZ2ksIFwi0LHRi9GB0YLRgNGL0Lkg0Y3RhNGE0LXQutGCINC90LAg0L/RgNC+0YbQtdGB0YHQtVwiKTtcbiAgcmV0dXJuIG5leHQ7XG59O1xuXG5jb25zdCBub3JtYWxpemVJbnB1dCA9IChpbnB1dCkgPT4ge1xuICBjb25zdCBzYWZlID0gdHlwZW9mIGlucHV0ID09PSBcIm9iamVjdFwiICYmIGlucHV0ICE9PSBudWxsID8gaW5wdXQgOiB7fTtcbiAgcmV0dXJuIHtcbiAgICBtb2RlOiBzYWZlLm1vZGUgPT09IFwicXVpY2tcIiA/IFwicXVpY2tcIiA6IFwiZGVlcFwiLFxuICAgIHRvbmVfcGFjazogW1wic2hvcnRcIiwgXCJtZWRpdW1cIiwgXCJoYXJkX2J1c2luZXNzXCIsIFwibWl4ZWRcIl0uaW5jbHVkZXMoc2FmZS50b25lX3BhY2spXG4gICAgICA/IHNhZmUudG9uZV9wYWNrXG4gICAgICA6IFwibWl4ZWRcIixcbiAgICBnb2FsOiBbXCJnZXRfcmVwbHlcIiwgXCJxdWFsaWZ5XCIsIFwiYm9va19jYWxsXCIsIFwic2VuZF9hdWRpdFwiXS5pbmNsdWRlcyhzYWZlLmdvYWwpXG4gICAgICA/IHNhZmUuZ29hbFxuICAgICAgOiBcImdldF9yZXBseVwiLFxuICAgIHByb2R1Y3RfbmFtZTogdHlwZW9mIHNhZmUucHJvZHVjdF9uYW1lID09PSBcInN0cmluZ1wiICYmIHNhZmUucHJvZHVjdF9uYW1lLnRyaW0oKVxuICAgICAgPyBzYWZlLnByb2R1Y3RfbmFtZS50cmltKClcbiAgICAgIDogXCJBZ2VudE9TXCIsXG4gICAgcHJvZHVjdF9vbmVfbGluZXI6XG4gICAgICB0eXBlb2Ygc2FmZS5wcm9kdWN0X29uZV9saW5lciA9PT0gXCJzdHJpbmdcIiAmJiBzYWZlLnByb2R1Y3Rfb25lX2xpbmVyLnRyaW0oKVxuICAgICAgICA/IHNhZmUucHJvZHVjdF9vbmVfbGluZXIudHJpbSgpXG4gICAgICAgIDogaW5wdXREZWZhdWx0cy5wcm9kdWN0X29uZV9saW5lcixcbiAgICBjb25zdHJhaW50czoge1xuICAgICAgbWF4X2NoYXJzX2VtYWlsOlxuICAgICAgICB0eXBlb2Ygc2FmZS5jb25zdHJhaW50cz8ubWF4X2NoYXJzX2VtYWlsID09PSBcIm51bWJlclwiXG4gICAgICAgICAgPyBNYXRoLm1heCgyMDAsIE1hdGgucm91bmQoc2FmZS5jb25zdHJhaW50cy5tYXhfY2hhcnNfZW1haWwpKVxuICAgICAgICAgIDogOTAwLFxuICAgICAgbWF4X2J1bGxldHM6XG4gICAgICAgIHR5cGVvZiBzYWZlLmNvbnN0cmFpbnRzPy5tYXhfYnVsbGV0cyA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgID8gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChzYWZlLmNvbnN0cmFpbnRzLm1heF9idWxsZXRzKSlcbiAgICAgICAgICA6IDMsXG4gICAgICBub19saW5rczogc2FmZS5jb25zdHJhaW50cz8ubm9fbGlua3MgPT09IHRydWUsXG4gICAgICBub19hdHRhY2htZW50czogc2FmZS5jb25zdHJhaW50cz8ubm9fYXR0YWNobWVudHMgIT09IGZhbHNlXG4gICAgfSxcbiAgICBhbmF0b2x5X291dHB1dF9qc29uOiBzYWZlLmFuYXRvbHlfb3V0cHV0X2pzb24gPz8gbnVsbCxcbiAgICBhcnRlbV9vdXRwdXRfanNvbjogc2FmZS5hcnRlbV9vdXRwdXRfanNvbiA/PyBudWxsLFxuICAgIHJlY2lwaWVudF9jb250ZXh0OiBzYWZlLnJlY2lwaWVudF9jb250ZXh0ID8/IHt9LFxuICAgIGxhbmd1YWdlOiBzYWZlLmxhbmd1YWdlID09PSBcInJ1XCIgPyBcInJ1XCIgOiBcInJ1XCJcbiAgfTtcbn07XG5cbmNvbnN0IGV4dHJhY3RBbmF0b2x5RGF0YSA9IChhbmF0b2x5KSA9PiB7XG4gIGlmICghYW5hdG9seSB8fCB0eXBlb2YgYW5hdG9seSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFjY291bnQgPSBhbmF0b2x5LmFjY291bnRfY2FyZCB8fCBhbmF0b2x5LmFjY291bnRDYXJkIHx8IG51bGw7XG4gIGlmICghYWNjb3VudCB8fCB0eXBlb2YgYWNjb3VudCAhPT0gXCJvYmplY3RcIikgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGhvb2tzID0gQXJyYXkuaXNBcnJheShhY2NvdW50LnRvcF9wZXJzb25hbGl6YXRpb25faG9va3MpXG4gICAgPyBhY2NvdW50LnRvcF9wZXJzb25hbGl6YXRpb25faG9va3NcbiAgICA6IFtdO1xuICBjb25zdCBwYWlucyA9IEFycmF5LmlzQXJyYXkoYWNjb3VudC5wYWluX2h5cG90aGVzZXMpID8gYWNjb3VudC5wYWluX2h5cG90aGVzZXMgOiBbXTtcbiAgY29uc3QgcHJvb2ZJdGVtcyA9IEFycmF5LmlzQXJyYXkoYW5hdG9seS5tZXRhPy5wcm9vZl9pdGVtcykgPyBhbmF0b2x5Lm1ldGEucHJvb2ZfaXRlbXMgOiBbXTtcbiAgcmV0dXJuIHtcbiAgICBjb21wYW55TmFtZTogYWNjb3VudC5jb21wYW55X25hbWUgfHwgXCJcIixcbiAgICBob29rcyxcbiAgICBwYWlucyxcbiAgICBwcm9vZkl0ZW1zXG4gIH07XG59O1xuXG5jb25zdCBleHRyYWN0QXJ0ZW1EYXRhID0gKGFydGVtKSA9PiB7XG4gIGlmICghYXJ0ZW0gfHwgdHlwZW9mIGFydGVtICE9PSBcIm9iamVjdFwiKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgbGVhZHMgPSBBcnJheS5pc0FycmF5KGFydGVtLmhvdF9sZWFkcykgPyBhcnRlbS5ob3RfbGVhZHMgOiBbXTtcbiAgaWYgKGxlYWRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHByb29mSXRlbXMgPSBBcnJheS5pc0FycmF5KGFydGVtLm1ldGE/LnByb29mX2l0ZW1zKSA/IGFydGVtLm1ldGEucHJvb2ZfaXRlbXMgOiBbXTtcbiAgcmV0dXJuIHsgbGVhZDogbGVhZHNbMF0sIHByb29mSXRlbXMgfTtcbn07XG5cbmNvbnN0IGJ1aWxkUGVyc29uYWxpemF0aW9uID0gKGFuYXRvbHlEYXRhLCBhcnRlbURhdGEpID0+IHtcbiAgaWYgKGFuYXRvbHlEYXRhKSB7XG4gICAgY29uc3QgaG9vayA9IGFuYXRvbHlEYXRhLmhvb2tzWzBdO1xuICAgIGNvbnN0IHBhaW4gPSBhbmF0b2x5RGF0YS5wYWluc1swXTtcbiAgICBjb25zdCBwZXJzb25hbGl6YXRpb25MaW5lID0gaG9vaz8uaG9va190ZXh0ID8gY2xhbXBUZXh0KGhvb2suaG9va190ZXh0LCAxNjApIDogXCJcIjtcbiAgICBjb25zdCByZWZzID0gW1xuICAgICAgLi4uKGhvb2s/LnJlbGF0ZWRfcHJvb2ZzID8/IFtdKSxcbiAgICAgIC4uLihwYWluPy5yZWxhdGVkX3Byb29mcyA/PyBbXSlcbiAgICBdLmZpbHRlcigoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwibnVtYmVyXCIpO1xuICAgIGNvbnN0IG9ic2VydmF0aW9ucyA9IFtdO1xuICAgIGlmIChob29rPy5ob29rX3RleHQpIHtcbiAgICAgIG9ic2VydmF0aW9ucy5wdXNoKHtcbiAgICAgICAgdGV4dDogY2xhbXBUZXh0KGhvb2suaG9va190ZXh0LCAxODApLFxuICAgICAgICByZWZzOiAoaG9vay5yZWxhdGVkX3Byb29mcyA/PyBbXSkuZmlsdGVyKChpdGVtKSA9PiB0eXBlb2YgaXRlbSA9PT0gXCJudW1iZXJcIilcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocGFpbj8uaHlwb3RoZXNpcykge1xuICAgICAgb2JzZXJ2YXRpb25zLnB1c2goe1xuICAgICAgICB0ZXh0OiBjbGFtcFRleHQocGFpbi5oeXBvdGhlc2lzLCAxODApLFxuICAgICAgICByZWZzOiAocGFpbi5yZWxhdGVkX3Byb29mcyA/PyBbXSkuZmlsdGVyKChpdGVtKSA9PiB0eXBlb2YgaXRlbSA9PT0gXCJudW1iZXJcIilcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgcGVyc29uYWxpemF0aW9uTGluZSxcbiAgICAgIG9ic2VydmF0aW9ucyxcbiAgICAgIGdyb3VuZGluZ1JlZnM6IHJlZnMubGVuZ3RoID8gcmVmcyA6IGFuYXRvbHlEYXRhLnByb29mSXRlbXMubGVuZ3RoID8gWzBdIDogW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKGFydGVtRGF0YSkge1xuICAgIGNvbnN0IHJlYXNvbiA9IGFydGVtRGF0YS5sZWFkLmhvdF9yZWFzb25zPy5bMF0gfHwgYXJ0ZW1EYXRhLmxlYWQucmVxdWVzdF9zdW1tYXJ5IHx8IFwiXCI7XG4gICAgY29uc3QgcGVyc29uYWxpemF0aW9uTGluZSA9IGNsYW1wVGV4dChyZWFzb24sIDE2MCk7XG4gICAgY29uc3QgcmVmcyA9IEFycmF5LmlzQXJyYXkoYXJ0ZW1EYXRhLmxlYWQucHJvb2ZfcmVmcykgPyBhcnRlbURhdGEubGVhZC5wcm9vZl9yZWZzIDogW107XG4gICAgY29uc3Qgb2JzZXJ2YXRpb25zID0gW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBjbGFtcFRleHQocmVhc29uLCAxODApLFxuICAgICAgICByZWZzXG4gICAgICB9XG4gICAgXTtcbiAgICByZXR1cm4ge1xuICAgICAgcGVyc29uYWxpemF0aW9uTGluZSxcbiAgICAgIG9ic2VydmF0aW9ucyxcbiAgICAgIGdyb3VuZGluZ1JlZnM6IHJlZnMubGVuZ3RoID8gcmVmcyA6IGFydGVtRGF0YS5wcm9vZkl0ZW1zLmxlbmd0aCA/IFswXSA6IFtdXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7IHBlcnNvbmFsaXphdGlvbkxpbmU6IFwiXCIsIG9ic2VydmF0aW9uczogW10sIGdyb3VuZGluZ1JlZnM6IFtdIH07XG59O1xuXG5jb25zdCBidWlsZFN1YmplY3RWYXJpYW50cyA9IChwZXJzb25hbGl6YXRpb25MaW5lLCBnb2FsKSA9PiB7XG4gIGNvbnN0IGJhc2UgPSBwZXJzb25hbGl6YXRpb25MaW5lID8gY2xhbXBUZXh0KHBlcnNvbmFsaXphdGlvbkxpbmUsIDYwKSA6IFwi0JrQvtGA0L7RgtC60LjQuSDQstC+0L/RgNC+0YFcIjtcbiAgY29uc3Qgc3ViamVjdHMgPSBbYmFzZSwgXCLQmtC+0YDQvtGC0LrQuNC5INCy0L7Qv9GA0L7RgSDQv9C+INC/0YDQvtGG0LXRgdGB0YNcIiwgXCLQnNC+0LbQvdC+INGD0YLQvtGH0L3QuNGC0Ywg0L7QtNC40L0g0LzQvtC80LXQvdGCXCJdO1xuICBpZiAoZ29hbCA9PT0gXCJzZW5kX2F1ZGl0XCIpIHN1YmplY3RzLnB1c2goXCLQnNC40L3QuC3QsNGD0LTQuNGCINCyIDUg0L/Rg9C90LrRgtC+0LJcIik7XG4gIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoc3ViamVjdHMpKS5zbGljZSgwLCAzKS5tYXAoKGl0ZW0pID0+IG5vcm1hbGl6ZVN1YmplY3QoaXRlbSkpO1xufTtcblxuY29uc3QgYnVpbGRDVEEgPSAoZ29hbCkgPT4ge1xuICBzd2l0Y2ggKGdvYWwpIHtcbiAgICBjYXNlIFwicXVhbGlmeVwiOlxuICAgICAgcmV0dXJuIFwi0JrQvtC80YMg0YMg0LLQsNGBINCw0LTRgNC10YHQvtCy0LDRgtGMINGN0YLQvtGCINCy0L7Qv9GA0L7RgT9cIjtcbiAgICBjYXNlIFwiYm9va19jYWxsXCI6XG4gICAgICByZXR1cm4gXCLQk9C+0YLQvtCy0Ysg0L3QsCDQutC+0YDQvtGC0LrQuNC5INGB0L7Qt9Cy0L7QvSAxMCDQvNC40L3Rg9GCP1wiO1xuICAgIGNhc2UgXCJzZW5kX2F1ZGl0XCI6XG4gICAgICByZXR1cm4gXCLQodC60LjQvdGD0YLRjCDQvNC40L3QuC3QsNGD0LTQuNGCINC90LAgNSDQv9GD0L3QutGC0L7Qsj9cIjtcbiAgICBjYXNlIFwiZ2V0X3JlcGx5XCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcItCQ0LrRgtGD0LDQu9GM0L3QviDQvtCx0YHRg9C00LjRgtGMP1wiO1xuICB9XG59O1xuXG5jb25zdCBtZXJnZVJlZnMgPSAob2JzZXJ2YXRpb25zLCBiYXNlUmVmcyA9IFtdKSA9PiB7XG4gIGNvbnN0IHJlZnMgPSBuZXcgU2V0KGJhc2VSZWZzLmZpbHRlcigoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwibnVtYmVyXCIpKTtcbiAgb2JzZXJ2YXRpb25zLmZvckVhY2goKG9icykgPT4ge1xuICAgIChvYnMucmVmcyA/PyBbXSkuZm9yRWFjaCgocmVmKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJudW1iZXJcIikgcmVmcy5hZGQocmVmKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBBcnJheS5mcm9tKHJlZnMpO1xufTtcblxuY29uc3QgdG9uZUludHJvID0gKHRvbmUpID0+IHtcbiAgaWYgKHRvbmUgPT09IFwiaGFyZF9idXNpbmVzc1wiKSByZXR1cm4gXCLQmtC+0LvQu9C10LPQuCwg0LTQvtCx0YDRi9C5INC00LXQvdGMLlwiO1xuICBpZiAodG9uZSA9PT0gXCJtZWRpdW1cIikgcmV0dXJuIFwi0JTQvtCx0YDRi9C5INC00LXQvdGMLlwiO1xuICByZXR1cm4gXCLQn9GA0LjQstC10YIuXCI7XG59O1xuXG5jb25zdCBjb21wb3NlRW1haWwgPSAoe1xuICB0b25lLFxuICBwZXJzb25hbGl6YXRpb25MaW5lLFxuICBvYnNlcnZhdGlvbnMsXG4gIGN0YSxcbiAgY29uc3RyYWludHMsXG4gIG1heEJ1bGxldHMsXG4gIGdvYWxcbn0pID0+IHtcbiAgY29uc3QgaW50cm8gPSB0b25lSW50cm8odG9uZSk7XG4gIGNvbnN0IGJ1bGxldHMgPSBvYnNlcnZhdGlvbnMuc2xpY2UoMCwgbWF4QnVsbGV0cykubWFwKChpdGVtKSA9PiBpdGVtLnRleHQpO1xuICBjb25zdCBidWxsZXRMaW5lcyA9IGJ1bGxldHMubWFwKChpdGVtKSA9PiBg4oCiICR7aXRlbX1gKTtcbiAgY29uc3QgY3RhTGluZSA9IGJ1aWxkQ1RBKGdvYWwpO1xuXG4gIGNvbnN0IGJvZHlMaW5lcyA9IFtpbnRyb107XG4gIGlmIChwZXJzb25hbGl6YXRpb25MaW5lKSBib2R5TGluZXMucHVzaChg0JrQvtGA0L7RgtC60L4g0L/QviDQstCw0Lw6ICR7cGVyc29uYWxpemF0aW9uTGluZX0uYCk7XG4gIGlmIChidWxsZXRMaW5lcy5sZW5ndGgpIGJvZHlMaW5lcy5wdXNoKC4uLmJ1bGxldExpbmVzKTtcbiAgYm9keUxpbmVzLnB1c2goY3RhTGluZSk7XG5cbiAgbGV0IGJvZHkgPSBzYW5pdGl6ZVRleHQoYm9keUxpbmVzLmpvaW4oXCJcXG5cIiksIGNvbnN0cmFpbnRzKTtcbiAgYm9keSA9IHNvZnRlblNwYW1UZXh0KGJvZHkpO1xuICBib2R5ID0gY2xhbXBUZXh0KGJvZHksIGNvbnN0cmFpbnRzLm1heF9jaGFyc19lbWFpbCk7XG5cbiAgcmV0dXJuIHtcbiAgICBib2R5LFxuICAgIGJ1bGxldHMsXG4gICAgY3RhOiBjdGFMaW5lXG4gIH07XG59O1xuXG5jb25zdCBidWlsZEVtYWlsU2VxdWVuY2UgPSAodG9uZSwgcGVyc29uYWxpemF0aW9uLCBjb25zdHJhaW50cywgZ29hbCkgPT4ge1xuICBjb25zdCBtYXhCdWxsZXRzID0gY29uc3RyYWludHMubWF4X2J1bGxldHM7XG4gIGNvbnN0IHByaW1hcnkgPSBjb21wb3NlRW1haWwoe1xuICAgIHRvbmUsXG4gICAgcGVyc29uYWxpemF0aW9uTGluZTogcGVyc29uYWxpemF0aW9uLnBlcnNvbmFsaXphdGlvbkxpbmUsXG4gICAgb2JzZXJ2YXRpb25zOiBwZXJzb25hbGl6YXRpb24ub2JzZXJ2YXRpb25zLFxuICAgIGN0YTogYnVpbGRDVEEoZ29hbCksXG4gICAgY29uc3RyYWludHMsXG4gICAgbWF4QnVsbGV0cyxcbiAgICBnb2FsXG4gIH0pO1xuICBjb25zdCBncm91bmRpbmdSZWZzID0gbWVyZ2VSZWZzKHBlcnNvbmFsaXphdGlvbi5vYnNlcnZhdGlvbnMsIHBlcnNvbmFsaXphdGlvbi5ncm91bmRpbmdSZWZzKTtcbiAgY29uc3Qgc3ViamVjdFZhcmlhbnRzID0gYnVpbGRTdWJqZWN0VmFyaWFudHMocGVyc29uYWxpemF0aW9uLnBlcnNvbmFsaXphdGlvbkxpbmUsIGdvYWwpO1xuICBjb25zdCBwcmV2aWV3TGluZSA9IGJ1aWxkUHJldmlld0xpbmUocGVyc29uYWxpemF0aW9uLnBlcnNvbmFsaXphdGlvbkxpbmUsIGdvYWwpO1xuXG4gIGNvbnN0IGZvbGxvd3VwMUJvZHkgPSBzb2Z0ZW5TcGFtVGV4dChcbiAgICBcItCa0L7RgNC+0YLQutC+OiDQvNC+0LPRgyDQv9GA0LjRgdC70LDRgtGMIDIg0L/RgNCw0LrRgtC40YfQvdGL0YUg0YjQsNCz0LAg0L/QvtC0INCy0LDRiNGDINGB0LjRgtGD0LDRhtC40Y4sINC10YHQu9C4INCw0LrRgtGD0LDQu9GM0L3Qvi5cIlxuICApO1xuICBjb25zdCBmb2xsb3d1cDJCb2R5ID0gc29mdGVuU3BhbVRleHQoXG4gICAgXCLQn9C+0LTQtdC70Y7RgdGMINC/0L7RhdC+0LbQuNC8INC60LXQudGB0L7QvCDQsdC10Lcg0YbQuNGE0YAg0Lgg0YEg0LLRi9Cy0L7QtNCw0LzQuCwg0LXRgdC70Lgg0YXQvtGC0LjRgtC1INGB0LLQtdGA0LjRgtGMINC/0L7QtNGF0L7QtC5cIlxuICApO1xuICBjb25zdCBmb2xsb3d1cDNCb2R5ID0gc29mdGVuU3BhbVRleHQoXG4gICAgXCLQldGB0LvQuCDRgtC10LzQsCDQvdC1INCyINC/0YDQuNC+0YDQuNGC0LXRgtC1LCDQt9Cw0LrRgNC+0Y4g0YLRgNC10LQg0Lgg0LLQtdGA0L3Rg9GB0Ywg0L/QvtC30LbQtSDQv9C+INCy0LDRiNC10LzRgyDRgdC40LPQvdCw0LvRgy5cIlxuICApO1xuXG4gIGNvbnN0IGVtYWlscyA9IFtcbiAgICB7XG4gICAgICBkYXlfb2Zmc2V0OiAwLFxuICAgICAgc3ViamVjdDogbm9ybWFsaXplU3ViamVjdChzdWJqZWN0VmFyaWFudHNbMF0pLFxuICAgICAgcHJldmlld19saW5lOiBwcmV2aWV3TGluZSxcbiAgICAgIGJvZHk6IHByaW1hcnkuYm9keSxcbiAgICAgIGN0YTogcHJpbWFyeS5jdGEsXG4gICAgICBidWxsZXRzOiBwcmltYXJ5LmJ1bGxldHMsXG4gICAgICBwZXJzb25hbGl6YXRpb25fbGluZTogcGVyc29uYWxpemF0aW9uLnBlcnNvbmFsaXphdGlvbkxpbmUsXG4gICAgICBncm91bmRpbmdfcmVmczogZ3JvdW5kaW5nUmVmcyxcbiAgICAgIHRvbmUsXG4gICAgICB3aXRoaW5fbGltaXRzOiBwcmltYXJ5LmJvZHkubGVuZ3RoIDw9IGNvbnN0cmFpbnRzLm1heF9jaGFyc19lbWFpbFxuICAgIH0sXG4gICAge1xuICAgICAgZGF5X29mZnNldDogMixcbiAgICAgIHN1YmplY3Q6IG5vcm1hbGl6ZVN1YmplY3QoXCLQmtC+0YDQvtGC0LrQvtC1INC90LDQv9C+0LzQuNC90LDQvdC40LUg0L/QviDQt9Cw0LTQsNGH0LVcIiksXG4gICAgICBwcmV2aWV3X2xpbmU6IGJ1aWxkUHJldmlld0xpbmUoXCLQnNGP0LPQutC+INC90LDQv9C+0LzQvdGOINC+INC/0L7Qu9GM0LfQtVwiLCBnb2FsKSxcbiAgICAgIGJvZHk6IGNsYW1wVGV4dChmb2xsb3d1cDFCb2R5LCBNYXRoLm1pbigyMjAsIGNvbnN0cmFpbnRzLm1heF9jaGFyc19lbWFpbCkpLFxuICAgICAgY3RhOiBidWlsZENUQShnb2FsKSxcbiAgICAgIGJ1bGxldHM6IFtdLFxuICAgICAgcGVyc29uYWxpemF0aW9uX2xpbmU6IHBlcnNvbmFsaXphdGlvbi5wZXJzb25hbGl6YXRpb25MaW5lLFxuICAgICAgZ3JvdW5kaW5nX3JlZnM6IGdyb3VuZGluZ1JlZnMsXG4gICAgICB0b25lLFxuICAgICAgd2l0aGluX2xpbWl0czogdHJ1ZVxuICAgIH0sXG4gICAge1xuICAgICAgZGF5X29mZnNldDogNSxcbiAgICAgIHN1YmplY3Q6IG5vcm1hbGl6ZVN1YmplY3QoXCLQmtC10LnRgS3QvdCw0LzQtdC6INCx0LXQtyDRhtC40YTRgFwiKSxcbiAgICAgIHByZXZpZXdfbGluZTogYnVpbGRQcmV2aWV3TGluZShcItCV0YHRgtGMINGA0LXQu9C10LLQsNC90YLQvdGL0Lkg0L/RgNC40LzQtdGAINCx0LXQtyDRhtC40YTRgFwiLCBnb2FsKSxcbiAgICAgIGJvZHk6IGNsYW1wVGV4dChmb2xsb3d1cDJCb2R5LCBNYXRoLm1pbigyMjAsIGNvbnN0cmFpbnRzLm1heF9jaGFyc19lbWFpbCkpLFxuICAgICAgY3RhOiBidWlsZENUQShnb2FsKSxcbiAgICAgIGJ1bGxldHM6IFtdLFxuICAgICAgcGVyc29uYWxpemF0aW9uX2xpbmU6IHBlcnNvbmFsaXphdGlvbi5wZXJzb25hbGl6YXRpb25MaW5lLFxuICAgICAgZ3JvdW5kaW5nX3JlZnM6IGdyb3VuZGluZ1JlZnMsXG4gICAgICB0b25lLFxuICAgICAgd2l0aGluX2xpbWl0czogdHJ1ZVxuICAgIH0sXG4gICAge1xuICAgICAgZGF5X29mZnNldDogOSxcbiAgICAgIHN1YmplY3Q6IG5vcm1hbGl6ZVN1YmplY3QoXCLQl9Cw0LrRgNC+0Y4g0YLRgNC10LQg0LXRgdC70Lgg0L3QtdCw0LrRgtGD0LDQu9GM0L3QvlwiKSxcbiAgICAgIHByZXZpZXdfbGluZTogYnVpbGRQcmV2aWV3TGluZShcItCk0LjQvdCw0LvRjNC90L7QtSDQv9C40YHRjNC80L4g0LHQtdC3INC00LDQstC70LXQvdC40Y9cIiwgZ29hbCksXG4gICAgICBib2R5OiBjbGFtcFRleHQoZm9sbG93dXAzQm9keSwgTWF0aC5taW4oMjAwLCBjb25zdHJhaW50cy5tYXhfY2hhcnNfZW1haWwpKSxcbiAgICAgIGN0YTogXCJcIixcbiAgICAgIGJ1bGxldHM6IFtdLFxuICAgICAgcGVyc29uYWxpemF0aW9uX2xpbmU6IHBlcnNvbmFsaXphdGlvbi5wZXJzb25hbGl6YXRpb25MaW5lLFxuICAgICAgZ3JvdW5kaW5nX3JlZnM6IGdyb3VuZGluZ1JlZnMsXG4gICAgICB0b25lLFxuICAgICAgd2l0aGluX2xpbWl0czogdHJ1ZVxuICAgIH1cbiAgXTtcblxuICByZXR1cm4gZW1haWxzO1xufTtcblxuY29uc3QgaGFzRmx1ZmYgPSAodGV4dCkgPT4gZmx1ZmZCbGFja2xpc3Quc29tZSgod29yZCkgPT4gdGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHdvcmQpKTtcblxuY29uc3QgdmFsaWRhdGVRdWFsaXR5ID0gKHNlcXVlbmNlcywgY29uc3RyYWludHMsIHVzZWRQZXJzb25hbGl6YXRpb24pID0+IHtcbiAgY29uc3QgYWxsRW1haWxzID0gc2VxdWVuY2VzLmZsYXRNYXAoKHNlcXVlbmNlKSA9PiBzZXF1ZW5jZS5lbWFpbHMgfHwgW10pO1xuICBjb25zdCB3aXRoaW5MaW1pdHMgPSBhbGxFbWFpbHMuZXZlcnkoKGVtYWlsKSA9PiBlbWFpbC5ib2R5Lmxlbmd0aCA8PSBjb25zdHJhaW50cy5tYXhfY2hhcnNfZW1haWwpO1xuICBjb25zdCBidWxsZXRzT2sgPSBhbGxFbWFpbHMuZXZlcnkoKGVtYWlsKSA9PiBlbWFpbC5idWxsZXRzLmxlbmd0aCA8PSBjb25zdHJhaW50cy5tYXhfYnVsbGV0cyk7XG4gIGNvbnN0IG5vRmx1ZmYgPSAhYWxsRW1haWxzLnNvbWUoKGVtYWlsKSA9PiBoYXNGbHVmZihlbWFpbC5zdWJqZWN0KSB8fCBoYXNGbHVmZihlbWFpbC5ib2R5KSk7XG4gIGNvbnN0IHN1YmplY3RSdWxlc09rID0gYWxsRW1haWxzLmV2ZXJ5KChlbWFpbCkgPT4ge1xuICAgIGNvbnN0IHN1YmplY3QgPSBTdHJpbmcoZW1haWwuc3ViamVjdCB8fCBcIlwiKTtcbiAgICBjb25zdCB3b3JkcyA9IHN1YmplY3Quc3BsaXQoL1xccysvKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgY29uc3QgaGFzQ2Fwc0J1cnN0ID0gL1tBLVrQkC3Qr9CBXXszLH0vLnRlc3Qoc3ViamVjdCk7XG4gICAgY29uc3QgaGFzRW1vamkgPSAvW1xcdXsxRjMwMH0tXFx1ezFGQUZGfVxcdXsyNjAwfS1cXHV7MjdCRn1dL3UudGVzdChzdWJqZWN0KTtcbiAgICByZXR1cm4gd29yZHMubGVuZ3RoID49IDEgJiYgd29yZHMubGVuZ3RoIDw9IDggJiYgIWhhc0NhcHNCdXJzdCAmJiAhaGFzRW1vamk7XG4gIH0pO1xuICBjb25zdCBwcmV2aWV3TGluZU9rID0gYWxsRW1haWxzLmV2ZXJ5KChlbWFpbCkgPT4ge1xuICAgIGNvbnN0IGxlbiA9IFN0cmluZyhlbWFpbC5wcmV2aWV3X2xpbmUgfHwgXCJcIikubGVuZ3RoO1xuICAgIHJldHVybiBsZW4gPj0gNDAgJiYgbGVuIDw9IDcwO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBub19mbHVmZjogbm9GbHVmZixcbiAgICB3aXRoaW5fY2hhcl9saW1pdHM6IHdpdGhpbkxpbWl0cyxcbiAgICBub19mYWJyaWNhdGlvbjogdHJ1ZSxcbiAgICBoYXNfcGVyc29uYWxpemF0aW9uOiB1c2VkUGVyc29uYWxpemF0aW9uLFxuICAgIGJ1bGxldHNfb2s6IGJ1bGxldHNPayxcbiAgICBzdWJqZWN0X3J1bGVzX29rOiBzdWJqZWN0UnVsZXNPayxcbiAgICBwcmV2aWV3X2xpbmVfb2s6IHByZXZpZXdMaW5lT2tcbiAgfTtcbn07XG5cbmNvbnN0IGFwcGx5U3BhbVJpc2tDaGVja3MgPSAoc2VxdWVuY2VzKSA9PiB7XG4gIGNvbnN0IGNvcnJlY3RlZCA9IFtdO1xuICBjb25zdCBmb3VuZCA9IG5ldyBTZXQoKTtcbiAgY29uc3QgbmV4dCA9IHNlcXVlbmNlcy5tYXAoKHNlcXVlbmNlLCBzZXF1ZW5jZUluZGV4KSA9PiB7XG4gICAgY29uc3QgZW1haWxzID0gQXJyYXkuaXNBcnJheShzZXF1ZW5jZS5lbWFpbHMpID8gc2VxdWVuY2UuZW1haWxzIDogW107XG4gICAgY29uc3QgdXBkYXRlZEVtYWlscyA9IGVtYWlscy5tYXAoKGVtYWlsLCBlbWFpbEluZGV4KSA9PiB7XG4gICAgICBjb25zdCBzdWJqZWN0VHJpZ2dlcnMgPSBmaW5kU3BhbVRyaWdnZXJzKGVtYWlsLnN1YmplY3QgfHwgXCJcIik7XG4gICAgICBjb25zdCBib2R5VHJpZ2dlcnMgPSBmaW5kU3BhbVRyaWdnZXJzKGVtYWlsLmJvZHkgfHwgXCJcIik7XG4gICAgICBbLi4uc3ViamVjdFRyaWdnZXJzLCAuLi5ib2R5VHJpZ2dlcnNdLmZvckVhY2goKGl0ZW0pID0+IGZvdW5kLmFkZChpdGVtKSk7XG5cbiAgICAgIGNvbnN0IG5leHRFbWFpbCA9IHtcbiAgICAgICAgLi4uZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IG5vcm1hbGl6ZVN1YmplY3Qoc29mdGVuU3BhbVRleHQoZW1haWwuc3ViamVjdCB8fCBcIlwiKSksXG4gICAgICAgIGJvZHk6IHNvZnRlblNwYW1UZXh0KGVtYWlsLmJvZHkgfHwgXCJcIiksXG4gICAgICAgIHByZXZpZXdfbGluZTogY2xhbXBUZXh0KHN0cmlwRW1vamkoZW1haWwucHJldmlld19saW5lIHx8IGJ1aWxkUHJldmlld0xpbmUoXCJcIiwgXCJnZXRfcmVwbHlcIikpLCA3MClcbiAgICAgIH07XG5cbiAgICAgIGlmIChuZXh0RW1haWwucHJldmlld19saW5lLmxlbmd0aCA8IDQwKSB7XG4gICAgICAgIG5leHRFbWFpbC5wcmV2aWV3X2xpbmUgPSBidWlsZFByZXZpZXdMaW5lKG5leHRFbWFpbC5wcmV2aWV3X2xpbmUsIFwiZ2V0X3JlcGx5XCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhZnRlclN1YmplY3RUcmlnZ2VycyA9IGZpbmRTcGFtVHJpZ2dlcnMobmV4dEVtYWlsLnN1YmplY3QpO1xuICAgICAgY29uc3QgYWZ0ZXJCb2R5VHJpZ2dlcnMgPSBmaW5kU3BhbVRyaWdnZXJzKG5leHRFbWFpbC5ib2R5KTtcbiAgICAgIGlmIChzdWJqZWN0VHJpZ2dlcnMubGVuZ3RoIHx8IGJvZHlUcmlnZ2Vycy5sZW5ndGggfHwgYWZ0ZXJTdWJqZWN0VHJpZ2dlcnMubGVuZ3RoIHx8IGFmdGVyQm9keVRyaWdnZXJzLmxlbmd0aCkge1xuICAgICAgICBjb3JyZWN0ZWQucHVzaCh7XG4gICAgICAgICAgc2VxdWVuY2VfaW5kZXg6IHNlcXVlbmNlSW5kZXgsXG4gICAgICAgICAgZW1haWxfaW5kZXg6IGVtYWlsSW5kZXgsXG4gICAgICAgICAgZml4ZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0RW1haWw7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgLi4uc2VxdWVuY2UsIGVtYWlsczogdXBkYXRlZEVtYWlscyB9O1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHNlcXVlbmNlczogbmV4dCxcbiAgICBjaGVja3M6IHtcbiAgICAgIGZvdW5kX3RyaWdnZXJzOiBBcnJheS5mcm9tKGZvdW5kKSxcbiAgICAgIGNvcnJlY3RlZF9jb3VudDogY29ycmVjdGVkLmxlbmd0aFxuICAgIH1cbiAgfTtcbn07XG5cbmNvbnN0IGdlbmVyYXRlT3V0cHV0ID0gYXN5bmMgKHJhd0lucHV0ID0ge30sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBjb25zdCBpbnB1dCA9IG5vcm1hbGl6ZUlucHV0KHJhd0lucHV0KTtcbiAgY29uc3QgYW5hdG9seURhdGEgPSBleHRyYWN0QW5hdG9seURhdGEoaW5wdXQuYW5hdG9seV9vdXRwdXRfanNvbik7XG4gIGNvbnN0IGFydGVtRGF0YSA9IGV4dHJhY3RBcnRlbURhdGEoaW5wdXQuYXJ0ZW1fb3V0cHV0X2pzb24pO1xuXG4gIGlmICghYW5hdG9seURhdGEgJiYgIWFydGVtRGF0YSkge1xuICAgIGNvbnN0IHF1ZXN0aW9uID0gXCLQn9GA0LjRiNC70Lgg0YDQsNC30LHQvtGAINCc0LDRgNC40LggKEpTT04pINC40LvQuCBob3QtbGVhZHMg0JDRgNGC0ZHQvNCwLCDQuCDRjyDRgdC+0LHQtdGA0YMg0L/QuNGB0YzQvNCwLlwiO1xuICAgIGNvbnN0IGxlZ2FjeU91dHB1dCA9IHtcbiAgICAgIGVtYWlsX3NlcXVlbmNlczogW1xuICAgICAgICB7XG4gICAgICAgICAgc2VxdWVuY2VfbmFtZTogXCLQutC+0YDQvtGC0LrQsNGPXCIsXG4gICAgICAgICAgZW1haWxzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGRheV9vZmZzZXQ6IDAsXG4gICAgICAgICAgICAgIHN1YmplY3Q6IG5vcm1hbGl6ZVN1YmplY3QoXCLQndGD0LbQvdGLINC00LDQvdC90YvQtSDQtNC70Y8g0L/QtdGA0YHQvtC90LDQu9C40LfQsNGG0LjQuFwiKSxcbiAgICAgICAgICAgICAgcHJldmlld19saW5lOiBidWlsZFByZXZpZXdMaW5lKFwi0J3Rg9C20L3RiyDQstGF0L7QtNC90YvQtSDQtNCw0L3QvdGL0LVcIiwgaW5wdXQuZ29hbCksXG4gICAgICAgICAgICAgIGJvZHk6IGNsYW1wVGV4dChxdWVzdGlvbiwgaW5wdXQuY29uc3RyYWludHMubWF4X2NoYXJzX2VtYWlsKSxcbiAgICAgICAgICAgICAgY3RhOiBcIlwiLFxuICAgICAgICAgICAgICBidWxsZXRzOiBbXSxcbiAgICAgICAgICAgICAgcGVyc29uYWxpemF0aW9uX2xpbmU6IFwiXCIsXG4gICAgICAgICAgICAgIGdyb3VuZGluZ19yZWZzOiBbXSxcbiAgICAgICAgICAgICAgdG9uZTogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICB3aXRoaW5fbGltaXRzOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWNvbW1lbmRlZF9zZW5kX3dpbmRvdzogXCLQsdGD0LTQvdC4IDEwOjAw4oCTMTI6MDBcIixcbiAgICAgICAgICBhX2JfdGVzdHM6IHsgc3ViamVjdHM6IFtcItCd0YPQttC90Ysg0LTQsNC90L3Ri9C1XCJdLCBjdGFfdmFyaWFudHM6IFtdIH1cbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgZ2VuZXJhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVzZWRfaW5wdXRzOiB7IHVzZWRfYW5hdG9seTogZmFsc2UsIHVzZWRfYXJ0ZW06IGZhbHNlIH0sXG4gICAgICAgIGxpbWl0YXRpb25zOiBbXCLQndC10YIg0LLRhdC+0LTQvdGL0YUgSlNPTiDQtNC70Y8g0L/QtdGA0YHQvtC90LDQu9C40LfQsNGG0LjQuC5cIl0sXG4gICAgICAgIGFzc3VtcHRpb25zOiBbXSxcbiAgICAgICAgc3BhbV9yaXNrX2NoZWNrczogeyBmb3VuZF90cmlnZ2VyczogW10sIGNvcnJlY3RlZF9jb3VudDogMCB9LFxuICAgICAgICBxdWFsaXR5X2NoZWNrczoge1xuICAgICAgICAgIG5vX2ZsdWZmOiB0cnVlLFxuICAgICAgICAgIHdpdGhpbl9jaGFyX2xpbWl0czogdHJ1ZSxcbiAgICAgICAgICBub19mYWJyaWNhdGlvbjogdHJ1ZSxcbiAgICAgICAgICBoYXNfcGVyc29uYWxpemF0aW9uOiBmYWxzZSxcbiAgICAgICAgICBidWxsZXRzX29rOiB0cnVlLFxuICAgICAgICAgIHN1YmplY3RfcnVsZXNfb2s6IHRydWUsXG4gICAgICAgICAgcHJldmlld19saW5lX29rOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG5lZWRzUmV2aWV3OiB0cnVlXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4geyBvdXRwdXQ6IHdyYXBPdXRwdXQobGVnYWN5T3V0cHV0LCBpbnB1dCksIGVmZmVjdGl2ZUlucHV0OiBpbnB1dCB9O1xuICB9XG5cbiAgY29uc3QgcGVyc29uYWxpemF0aW9uID0gYnVpbGRQZXJzb25hbGl6YXRpb24oYW5hdG9seURhdGEsIGFydGVtRGF0YSk7XG4gIGNvbnN0IHRvbmVzID0gaW5wdXQudG9uZV9wYWNrID09PSBcIm1peGVkXCIgPyBbXCJzaG9ydFwiLCBcIm1lZGl1bVwiLCBcImhhcmRfYnVzaW5lc3NcIl0gOiBbaW5wdXQudG9uZV9wYWNrXTtcblxuICBjb25zdCBzZXF1ZW5jZXMgPSB0b25lcy5tYXAoKHRvbmUpID0+IHtcbiAgICBjb25zdCBlbWFpbHMgPSBidWlsZEVtYWlsU2VxdWVuY2UodG9uZSwgcGVyc29uYWxpemF0aW9uLCBpbnB1dC5jb25zdHJhaW50cywgaW5wdXQuZ29hbCk7XG4gICAgY29uc3Qgc3ViamVjdHMgPSBidWlsZFN1YmplY3RWYXJpYW50cyhwZXJzb25hbGl6YXRpb24ucGVyc29uYWxpemF0aW9uTGluZSwgaW5wdXQuZ29hbCk7XG4gICAgY29uc3QgY3RhcyA9IFtidWlsZENUQShpbnB1dC5nb2FsKSwgXCLQmtC+0LzRgyDQsNC00YDQtdGB0L7QstCw0YLRjD9cIl0uc2xpY2UoMCwgMik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlcXVlbmNlX25hbWU6XG4gICAgICAgIHRvbmUgPT09IFwic2hvcnRcIiA/IFwi0LrQvtGA0L7RgtC60LDRj1wiIDogdG9uZSA9PT0gXCJtZWRpdW1cIiA/IFwi0YHRgNC10LTQvdGP0Y9cIiA6IFwi0LbRkdGB0YLQutC+LdC00LXQu9C+0LLQsNGPXCIsXG4gICAgICBlbWFpbHMsXG4gICAgICByZWNvbW1lbmRlZF9zZW5kX3dpbmRvdzogXCLQsdGD0LTQvdC4IDEwOjAw4oCTMTI6MDBcIixcbiAgICAgIGFfYl90ZXN0czogeyBzdWJqZWN0cywgY3RhX3ZhcmlhbnRzOiBjdGFzIH1cbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBzcGFtQ2hlY2tlZCA9IGFwcGx5U3BhbVJpc2tDaGVja3Moc2VxdWVuY2VzKTtcbiAgY29uc3QgY2hlY2tlZFNlcXVlbmNlcyA9IHNwYW1DaGVja2VkLnNlcXVlbmNlcztcbiAgY29uc3QgdXNlZFBlcnNvbmFsaXphdGlvbiA9IEJvb2xlYW4ocGVyc29uYWxpemF0aW9uLnBlcnNvbmFsaXphdGlvbkxpbmUpO1xuICBjb25zdCBxdWFsaXR5ID0gdmFsaWRhdGVRdWFsaXR5KGNoZWNrZWRTZXF1ZW5jZXMsIGlucHV0LmNvbnN0cmFpbnRzLCB1c2VkUGVyc29uYWxpemF0aW9uKTtcblxuICBjb25zdCBsZWdhY3lPdXRwdXQgPSB7XG4gICAgZW1haWxfc2VxdWVuY2VzOiBjaGVja2VkU2VxdWVuY2VzLFxuICAgIG1ldGE6IHtcbiAgICAgIGdlbmVyYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgdXNlZF9pbnB1dHM6IHsgdXNlZF9hbmF0b2x5OiBCb29sZWFuKGFuYXRvbHlEYXRhKSwgdXNlZF9hcnRlbTogQm9vbGVhbihhcnRlbURhdGEpIH0sXG4gICAgICBsaW1pdGF0aW9uczogW10sXG4gICAgICBhc3N1bXB0aW9uczogW10sXG4gICAgICBzcGFtX3Jpc2tfY2hlY2tzOiBzcGFtQ2hlY2tlZC5jaGVja3MsXG4gICAgICBxdWFsaXR5X2NoZWNrczogcXVhbGl0eSxcbiAgICAgIG5lZWRzUmV2aWV3OiAhdXNlZFBlcnNvbmFsaXphdGlvblxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHsgb3V0cHV0OiB3cmFwT3V0cHV0KGxlZ2FjeU91dHB1dCwgaW5wdXQpLCBlZmZlY3RpdmVJbnB1dDogaW5wdXQgfTtcbn07XG5cbmNvbnN0IGdlbmVyYXRlRW1lbHlhbk91dHB1dCA9IGFzeW5jIChpbnB1dCA9IHt9LCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGVPdXRwdXQoaW5wdXQsIG9wdGlvbnMpO1xuICByZXR1cm4gcmVzdWx0Lm91dHB1dDtcbn07XG5cbmNvbnN0IHZhbGlkYXRlRW1lbHlhbk91dHB1dCA9IChwYXlsb2FkKSA9PiB7XG4gIGNvbnN0IGVycm9ycyA9IFtdO1xuICBjb25zdCBsZWdhY3kgPSB1bndyYXBMZWdhY3kocGF5bG9hZCk7XG4gIGlmICghbGVnYWN5IHx8IHR5cGVvZiBsZWdhY3kgIT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yczogW1wiT3V0cHV0IG11c3QgYmUgYW4gb2JqZWN0LlwiXSB9O1xuICB9XG4gIHBheWxvYWQgPSBsZWdhY3k7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXlsb2FkLmVtYWlsX3NlcXVlbmNlcykpIGVycm9ycy5wdXNoKFwiZW1haWxfc2VxdWVuY2VzIG11c3QgYmUgYXJyYXlcIik7XG4gIGlmICghcGF5bG9hZC5tZXRhKSBlcnJvcnMucHVzaChcIm1ldGEgcmVxdWlyZWRcIik7XG4gIGlmIChBcnJheS5pc0FycmF5KHBheWxvYWQuZW1haWxfc2VxdWVuY2VzKSkge1xuICAgIHBheWxvYWQuZW1haWxfc2VxdWVuY2VzLmZvckVhY2goKHNlcXVlbmNlLCBzSW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGVtYWlscyA9IEFycmF5LmlzQXJyYXkoc2VxdWVuY2UuZW1haWxzKSA/IHNlcXVlbmNlLmVtYWlscyA6IFtdO1xuICAgICAgZW1haWxzLmZvckVhY2goKGVtYWlsLCBlSW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFlbWFpbC5wcmV2aWV3X2xpbmUgfHwgdHlwZW9mIGVtYWlsLnByZXZpZXdfbGluZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGBlbWFpbF9zZXF1ZW5jZXNbJHtzSW5kZXh9XS5lbWFpbHNbJHtlSW5kZXh9XS5wcmV2aWV3X2xpbmUgcmVxdWlyZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3b3JkQ291bnQgPSBTdHJpbmcoZW1haWwuc3ViamVjdCB8fCBcIlwiKS5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gICAgICAgIGlmICh3b3JkQ291bnQgPCAxIHx8IHdvcmRDb3VudCA+IDgpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgZW1haWxfc2VxdWVuY2VzWyR7c0luZGV4fV0uZW1haWxzWyR7ZUluZGV4fV0uc3ViamVjdCBtdXN0IGJlIDw9OCB3b3Jkc2ApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4geyB2YWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCwgZXJyb3JzIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5wdXREZWZhdWx0cyxcbiAgaW5wdXRTY2hlbWEsXG4gIG91dHB1dFNjaGVtYSxcbiAgc3lzdGVtUHJvbXB0LFxuICBlbWVseWFuQWdlbnQsXG4gIG5vcm1hbGl6ZUlucHV0LFxuICBnZW5lcmF0ZU91dHB1dCxcbiAgZ2VuZXJhdGVFbWVseWFuT3V0cHV0LFxuICB2YWxpZGF0ZUVtZWx5YW5PdXRwdXRcbn07XG4iXSwibmFtZXMiOlsid3JhcEFnZW50T3V0cHV0IiwidW53cmFwTGVnYWN5IiwicmVxdWlyZSIsImlucHV0RGVmYXVsdHMiLCJtb2RlIiwidG9uZV9wYWNrIiwiZ29hbCIsInByb2R1Y3RfbmFtZSIsInByb2R1Y3Rfb25lX2xpbmVyIiwiY29uc3RyYWludHMiLCJtYXhfY2hhcnNfZW1haWwiLCJtYXhfYnVsbGV0cyIsIm5vX2xpbmtzIiwibm9fYXR0YWNobWVudHMiLCJhbmF0b2x5X291dHB1dF9qc29uIiwiYXJ0ZW1fb3V0cHV0X2pzb24iLCJyZWNpcGllbnRfY29udGV4dCIsImNvbXBhbnlfbmFtZSIsImluZHVzdHJ5IiwiY2l0eSIsImxhbmd1YWdlIiwiaW5wdXRTY2hlbWEiLCJ0eXBlIiwiYWRkaXRpb25hbFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwiZW51bSIsImRlZmF1bHQiLCJyZXF1aXJlZCIsIm91dHB1dFNjaGVtYSIsImVtYWlsX3NlcXVlbmNlcyIsIm1ldGEiLCJzeXN0ZW1Qcm9tcHQiLCJlbWVseWFuQWdlbnQiLCJpZCIsImRpc3BsYXlOYW1lIiwiZGVzY3JpcHRpb24iLCJ3cmFwT3V0cHV0IiwibGVnYWN5T3V0cHV0IiwiaW5wdXQiLCJhZ2VudElkIiwiaW5wdXRFY2hvIiwiZmx1ZmZCbGFja2xpc3QiLCJzcGFtVHJpZ2dlcldvcmRzIiwic2FuaXRpemVUZXh0IiwidGV4dCIsInRyaW1tZWQiLCJyZXBsYWNlIiwidHJpbSIsImNsYW1wVGV4dCIsIm1heCIsImxlbmd0aCIsInNsaWNlIiwic3RyaXBFbW9qaSIsIlN0cmluZyIsIm5vcm1hbGl6ZVN1YmplY3QiLCJzdWJqZWN0IiwiY2xlYW5lZCIsIndvcmRzIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwibG93ZXJlZCIsIm1hcCIsIndvcmQiLCJpbmRleCIsInRva2VuIiwibm9ybWFsaXplZCIsInRvTG93ZXJDYXNlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJqb2luIiwiYnVpbGRQcmV2aWV3TGluZSIsInBlcnNvbmFsaXphdGlvbkxpbmUiLCJiYXNlIiwic3VmZml4IiwiY29tYmluZWQiLCJmaW5kU3BhbVRyaWdnZXJzIiwibG93ZXIiLCJpbmNsdWRlcyIsInNvZnRlblNwYW1UZXh0IiwibmV4dCIsIm5vcm1hbGl6ZUlucHV0Iiwic2FmZSIsIk1hdGgiLCJyb3VuZCIsImV4dHJhY3RBbmF0b2x5RGF0YSIsImFuYXRvbHkiLCJhY2NvdW50IiwiYWNjb3VudF9jYXJkIiwiYWNjb3VudENhcmQiLCJob29rcyIsIkFycmF5IiwiaXNBcnJheSIsInRvcF9wZXJzb25hbGl6YXRpb25faG9va3MiLCJwYWlucyIsInBhaW5faHlwb3RoZXNlcyIsInByb29mSXRlbXMiLCJwcm9vZl9pdGVtcyIsImNvbXBhbnlOYW1lIiwiZXh0cmFjdEFydGVtRGF0YSIsImFydGVtIiwibGVhZHMiLCJob3RfbGVhZHMiLCJsZWFkIiwiYnVpbGRQZXJzb25hbGl6YXRpb24iLCJhbmF0b2x5RGF0YSIsImFydGVtRGF0YSIsImhvb2siLCJwYWluIiwiaG9va190ZXh0IiwicmVmcyIsInJlbGF0ZWRfcHJvb2ZzIiwiaXRlbSIsIm9ic2VydmF0aW9ucyIsInB1c2giLCJoeXBvdGhlc2lzIiwiZ3JvdW5kaW5nUmVmcyIsInJlYXNvbiIsImhvdF9yZWFzb25zIiwicmVxdWVzdF9zdW1tYXJ5IiwicHJvb2ZfcmVmcyIsImJ1aWxkU3ViamVjdFZhcmlhbnRzIiwic3ViamVjdHMiLCJmcm9tIiwiU2V0IiwiYnVpbGRDVEEiLCJtZXJnZVJlZnMiLCJiYXNlUmVmcyIsImZvckVhY2giLCJvYnMiLCJyZWYiLCJhZGQiLCJ0b25lSW50cm8iLCJ0b25lIiwiY29tcG9zZUVtYWlsIiwiY3RhIiwibWF4QnVsbGV0cyIsImludHJvIiwiYnVsbGV0cyIsImJ1bGxldExpbmVzIiwiY3RhTGluZSIsImJvZHlMaW5lcyIsImJvZHkiLCJidWlsZEVtYWlsU2VxdWVuY2UiLCJwZXJzb25hbGl6YXRpb24iLCJwcmltYXJ5Iiwic3ViamVjdFZhcmlhbnRzIiwicHJldmlld0xpbmUiLCJmb2xsb3d1cDFCb2R5IiwiZm9sbG93dXAyQm9keSIsImZvbGxvd3VwM0JvZHkiLCJlbWFpbHMiLCJkYXlfb2Zmc2V0IiwicHJldmlld19saW5lIiwicGVyc29uYWxpemF0aW9uX2xpbmUiLCJncm91bmRpbmdfcmVmcyIsIndpdGhpbl9saW1pdHMiLCJtaW4iLCJoYXNGbHVmZiIsInNvbWUiLCJ2YWxpZGF0ZVF1YWxpdHkiLCJzZXF1ZW5jZXMiLCJ1c2VkUGVyc29uYWxpemF0aW9uIiwiYWxsRW1haWxzIiwiZmxhdE1hcCIsInNlcXVlbmNlIiwid2l0aGluTGltaXRzIiwiZXZlcnkiLCJlbWFpbCIsImJ1bGxldHNPayIsIm5vRmx1ZmYiLCJzdWJqZWN0UnVsZXNPayIsImhhc0NhcHNCdXJzdCIsInRlc3QiLCJoYXNFbW9qaSIsInByZXZpZXdMaW5lT2siLCJsZW4iLCJub19mbHVmZiIsIndpdGhpbl9jaGFyX2xpbWl0cyIsIm5vX2ZhYnJpY2F0aW9uIiwiaGFzX3BlcnNvbmFsaXphdGlvbiIsImJ1bGxldHNfb2siLCJzdWJqZWN0X3J1bGVzX29rIiwicHJldmlld19saW5lX29rIiwiYXBwbHlTcGFtUmlza0NoZWNrcyIsImNvcnJlY3RlZCIsImZvdW5kIiwic2VxdWVuY2VJbmRleCIsInVwZGF0ZWRFbWFpbHMiLCJlbWFpbEluZGV4Iiwic3ViamVjdFRyaWdnZXJzIiwiYm9keVRyaWdnZXJzIiwibmV4dEVtYWlsIiwiYWZ0ZXJTdWJqZWN0VHJpZ2dlcnMiLCJhZnRlckJvZHlUcmlnZ2VycyIsInNlcXVlbmNlX2luZGV4IiwiZW1haWxfaW5kZXgiLCJmaXhlZCIsImNoZWNrcyIsImZvdW5kX3RyaWdnZXJzIiwiY29ycmVjdGVkX2NvdW50IiwiZ2VuZXJhdGVPdXRwdXQiLCJyYXdJbnB1dCIsIm9wdGlvbnMiLCJxdWVzdGlvbiIsInNlcXVlbmNlX25hbWUiLCJyZWNvbW1lbmRlZF9zZW5kX3dpbmRvdyIsImFfYl90ZXN0cyIsImN0YV92YXJpYW50cyIsImdlbmVyYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVzZWRfaW5wdXRzIiwidXNlZF9hbmF0b2x5IiwidXNlZF9hcnRlbSIsImxpbWl0YXRpb25zIiwiYXNzdW1wdGlvbnMiLCJzcGFtX3Jpc2tfY2hlY2tzIiwicXVhbGl0eV9jaGVja3MiLCJuZWVkc1JldmlldyIsIm91dHB1dCIsImVmZmVjdGl2ZUlucHV0IiwidG9uZXMiLCJjdGFzIiwic3BhbUNoZWNrZWQiLCJjaGVja2VkU2VxdWVuY2VzIiwicXVhbGl0eSIsImdlbmVyYXRlRW1lbHlhbk91dHB1dCIsInJlc3VsdCIsInZhbGlkYXRlRW1lbHlhbk91dHB1dCIsInBheWxvYWQiLCJlcnJvcnMiLCJsZWdhY3kiLCJ2YWxpZCIsInNJbmRleCIsImVJbmRleCIsIndvcmRDb3VudCIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/emelyan.js\n");

/***/ }),

/***/ "(rsc)/./lib/llm/provider.js":
/*!*****************************!*\
  !*** ./lib/llm/provider.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst fs = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst path = __webpack_require__(/*! node:path */ \"node:path\");\nconst DEFAULT_PROVIDER = \"fake\";\nconst normalizeProviderName = (value)=>{\n    const normalized = String(value || \"\").trim().toLowerCase();\n    return normalized === \"real\" ? \"real\" : \"fake\";\n};\nconst getConfiguredProviderName = ()=>normalizeProviderName(process.env.LLM_PROVIDER || DEFAULT_PROVIDER);\nconst hasRealProviderCredentials = ()=>Boolean(String(process.env.OPENAI_API_KEY || \"\").trim());\nconst AGENT_ID_ALIASES = {\n    platon: \"platon-prospect-research-ru\",\n    anatoly: \"anatoly-account-research-ru\",\n    maxim: \"maxim-local-leads-ru\"\n};\nconst canonicalAgentId = (agentId)=>{\n    if (!agentId) return \"\";\n    const normalized = String(agentId).trim();\n    return AGENT_ID_ALIASES[normalized] || normalized;\n};\nconst resolveFixtureOutputPath = (agentId, fixturesRoot)=>{\n    const canonical = canonicalAgentId(agentId);\n    if (!canonical) return \"\";\n    const root = fixturesRoot || path.join(process.cwd(), \"fixtures\", \"agents\");\n    return path.join(root, canonical, \"output.json\");\n};\nconst hasFixtureForAgent = (agentId, fixturesRoot)=>{\n    const outputPath = resolveFixtureOutputPath(agentId, fixturesRoot);\n    return Boolean(outputPath && fs.existsSync(outputPath));\n};\nconst stripVolatile = (value)=>{\n    if (!value || typeof value !== \"object\") return value;\n    if (Array.isArray(value)) return value.map((item)=>stripVolatile(item));\n    const next = {};\n    Object.entries(value).forEach(([key, val])=>{\n        if (key === \"generated_at\") {\n            next[key] = \"1970-01-01T00:00:00.000Z\";\n            return;\n        }\n        if (key === \"run_id\" || key === \"trace_id\") {\n            next[key] = \"stub-run\";\n            return;\n        }\n        if (key === \"duration_ms\") {\n            next[key] = 0;\n            return;\n        }\n        next[key] = stripVolatile(val);\n    });\n    return next;\n};\nconst cloneJson = (value)=>{\n    try {\n        return JSON.parse(JSON.stringify(value));\n    } catch  {\n        return value;\n    }\n};\nconst pickSchemaNode = (schema)=>{\n    if (!schema || typeof schema !== \"object\") return {};\n    if (Array.isArray(schema.oneOf) && schema.oneOf.length) return schema.oneOf[0] || {};\n    if (Array.isArray(schema.anyOf) && schema.anyOf.length) return schema.anyOf[0] || {};\n    if (Array.isArray(schema.allOf) && schema.allOf.length) {\n        return schema.allOf.reduce((acc, item)=>({\n                ...acc,\n                ...item\n            }), {});\n    }\n    return schema;\n};\nconst schemaType = (schema)=>{\n    const node = pickSchemaNode(schema);\n    if (!node || typeof node !== \"object\") return \"object\";\n    if (node.const !== undefined) return typeof node.const;\n    if (node.default !== undefined) return typeof node.default;\n    if (Array.isArray(node.enum) && node.enum.length) return typeof node.enum[0];\n    if (Array.isArray(node.type)) return node.type[0] || \"object\";\n    return node.type || \"object\";\n};\nconst valueForFormat = (format)=>{\n    if (format === \"date-time\") return \"1970-01-01T00:00:00.000Z\";\n    if (format === \"date\") return \"1970-01-01\";\n    if (format === \"email\") return \"stub@example.com\";\n    if (format === \"uri\" || format === \"url\") return \"https://example.com\";\n    return \"stub\";\n};\nconst buildFromSchema = (schema, keyHint = \"\")=>{\n    const node = pickSchemaNode(schema);\n    if (!node || typeof node !== \"object\") return {};\n    if (Object.prototype.hasOwnProperty.call(node, \"const\")) return cloneJson(node.const);\n    if (Object.prototype.hasOwnProperty.call(node, \"default\")) return cloneJson(node.default);\n    if (Array.isArray(node.enum) && node.enum.length) return cloneJson(node.enum[0]);\n    const type = schemaType(node);\n    if (type === \"string\") {\n        if (node.format) return valueForFormat(node.format);\n        if (keyHint.toLowerCase().includes(\"email\")) return \"stub@example.com\";\n        if (keyHint.toLowerCase().includes(\"url\") || keyHint.toLowerCase().includes(\"link\")) {\n            return \"https://example.com\";\n        }\n        return \"stub\";\n    }\n    if (type === \"number\" || type === \"integer\") {\n        if (Number.isFinite(node.minimum)) return Number(node.minimum);\n        return 0;\n    }\n    if (type === \"boolean\") return false;\n    if (type === \"array\") {\n        const itemSchema = node.items || {};\n        return [\n            buildFromSchema(itemSchema, keyHint ? `${keyHint}_item` : \"item\")\n        ];\n    }\n    if (type === \"object\") {\n        const properties = node.properties && typeof node.properties === \"object\" ? node.properties : {};\n        const required = Array.isArray(node.required) ? node.required : [];\n        const keys = new Set([\n            ...required,\n            ...Object.keys(properties)\n        ]);\n        const result = {};\n        if (keys.size === 0) {\n            return keyHint === \"meta\" ? {\n                generated_at: \"1970-01-01T00:00:00.000Z\"\n            } : {};\n        }\n        keys.forEach((key)=>{\n            const childSchema = properties[key] || {};\n            result[key] = buildFromSchema(childSchema, key);\n        });\n        return result;\n    }\n    return {};\n};\nclass FakeLLMProvider {\n    constructor(options = {}){\n        this.name = \"fake\";\n        this.fixturesRoot = options.fixturesRoot || path.join(process.cwd(), \"fixtures\", \"agents\");\n    }\n    loadFixtureData(agentId) {\n        const outputPath = resolveFixtureOutputPath(agentId, this.fixturesRoot);\n        if (!outputPath || !fs.existsSync(outputPath)) return null;\n        try {\n            const parsed = JSON.parse(fs.readFileSync(outputPath, \"utf8\"));\n            const legacyData = parsed && parsed.data ? parsed.data : parsed;\n            return stripVolatile(cloneJson(legacyData));\n        } catch  {\n            return null;\n        }\n    }\n    async generateJson({ schema, meta } = {}) {\n        const agentId = meta && typeof meta === \"object\" ? meta.agent_id || meta.agentId : \"\";\n        const fixtureData = agentId ? this.loadFixtureData(agentId) : null;\n        if (fixtureData) {\n            return fixtureData;\n        }\n        return buildFromSchema(schema || {}, \"root\");\n    }\n}\nconst sanitizeSchemaName = (value)=>{\n    const normalized = String(value || \"agent_output\").replace(/[^a-zA-Z0-9_]/g, \"_\").replace(/_+/g, \"_\").replace(/^_+|_+$/g, \"\");\n    return normalized || \"agent_output\";\n};\nconst stripCodeFences = (value)=>String(value || \"\").replace(/```json/gi, \"```\").replace(/^```/, \"\").replace(/```$/, \"\").trim();\nconst parseJsonString = (value)=>{\n    if (typeof value !== \"string\") return null;\n    const direct = value.trim();\n    if (!direct) return null;\n    try {\n        return JSON.parse(direct);\n    } catch  {\n    // continue\n    }\n    const stripped = stripCodeFences(direct);\n    if (!stripped) return null;\n    try {\n        return JSON.parse(stripped);\n    } catch  {\n        return null;\n    }\n};\nconst extractErrorMessage = (payload)=>{\n    if (!payload || typeof payload !== \"object\") return \"\";\n    if (payload.error && typeof payload.error === \"object\") {\n        const message = payload.error.message || payload.error.code;\n        if (message) return String(message);\n    }\n    return \"\";\n};\nconst getNumericOption = (value, fallback)=>{\n    const numeric = Number(value);\n    return Number.isFinite(numeric) ? numeric : fallback;\n};\nclass RealLLMProvider {\n    constructor(options = {}){\n        this.name = \"real\";\n        this.apiKey = options.apiKey || process.env.OPENAI_API_KEY || \"\";\n        this.baseUrl = String(options.baseUrl || process.env.OPENAI_BASE_URL || \"https://api.openai.com/v1\").replace(/\\/+$/, \"\");\n        this.model = options.model || process.env.OPENAI_MODEL || \"gpt-5-mini\";\n        this.timeoutMs = getNumericOption(options.timeoutMs || process.env.OPENAI_TIMEOUT_MS, 45000);\n        this.fetchImpl = options.fetch || globalThis.fetch;\n    }\n    async requestChatCompletions(payload) {\n        if (typeof this.fetchImpl !== \"function\") {\n            throw new Error(\"Global fetch is not available for RealLLMProvider.\");\n        }\n        const controller = new AbortController();\n        const timeout = setTimeout(()=>controller.abort(), this.timeoutMs);\n        let response;\n        try {\n            response = await this.fetchImpl(`${this.baseUrl}/chat/completions`, {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: `Bearer ${this.apiKey}`\n                },\n                body: JSON.stringify(payload),\n                signal: controller.signal\n            });\n        } catch (error) {\n            const message = error && typeof error === \"object\" && error.name === \"AbortError\" ? `OpenAI request timed out after ${this.timeoutMs}ms` : `OpenAI request failed: ${error instanceof Error ? error.message : \"unknown error\"}`;\n            throw new Error(message);\n        } finally{\n            clearTimeout(timeout);\n        }\n        const text = await response.text();\n        const parsed = parseJsonString(text) || {};\n        if (!response.ok) {\n            const apiMessage = extractErrorMessage(parsed);\n            const reason = apiMessage || text.slice(0, 300) || `HTTP ${response.status}`;\n            const error = new Error(`OpenAI request failed (${response.status}): ${reason}`);\n            error.status = response.status;\n            throw error;\n        }\n        return parsed;\n    }\n    extractMessageText(payload) {\n        const content = payload?.choices?.[0]?.message?.content;\n        if (typeof content === \"string\") return content;\n        if (Array.isArray(content)) {\n            return content.map((part)=>{\n                if (!part || typeof part !== \"object\") return \"\";\n                if (typeof part.text === \"string\") return part.text;\n                if (part.text && typeof part.text === \"object\" && typeof part.text.value === \"string\") {\n                    return part.text.value;\n                }\n                if (typeof part.content === \"string\") return part.content;\n                return \"\";\n            }).join(\"\").trim();\n        }\n        return \"\";\n    }\n    buildMessages(system, prompt, schema) {\n        const baseSystem = typeof system === \"string\" && system.trim() ? system.trim() : \"You are a strict JSON assistant.\";\n        const schemaHint = schema && typeof schema === \"object\" && Object.keys(schema).length ? `Return only JSON that matches this schema:\\n${JSON.stringify(schema)}` : \"Return only valid JSON.\";\n        const userPrompt = typeof prompt === \"string\" && prompt.trim() ? prompt.trim() : \"{}\";\n        return [\n            {\n                role: \"system\",\n                content: `${baseSystem}\\n\\n${schemaHint}`\n            },\n            {\n                role: \"user\",\n                content: userPrompt\n            }\n        ];\n    }\n    async generateJson({ system, prompt, schema, temperature, maxTokens, meta } = {}) {\n        if (!this.apiKey) {\n            throw new Error(\"OPENAI_API_KEY is required when LLM_PROVIDER=real.\");\n        }\n        const requestedModel = meta && typeof meta === \"object\" && typeof meta.model === \"string\" ? meta.model.trim() : \"\";\n        const model = requestedModel || this.model;\n        const messages = this.buildMessages(system, prompt, schema);\n        const cappedTemperature = Math.min(Math.max(getNumericOption(temperature, 0.2), 0), 1.5);\n        const tokenLimit = Math.max(200, Math.min(6000, getNumericOption(maxTokens, 1800)));\n        const hasSchema = Boolean(schema && typeof schema === \"object\" && Object.keys(schema).length);\n        const schemaName = sanitizeSchemaName(meta && typeof meta === \"object\" ? meta.agent_id || meta.agentId || \"agent_output\" : \"agent_output\");\n        const withSchemaPayload = {\n            model,\n            messages,\n            temperature: cappedTemperature,\n            max_tokens: tokenLimit,\n            response_format: hasSchema ? {\n                type: \"json_schema\",\n                json_schema: {\n                    name: schemaName,\n                    strict: true,\n                    schema\n                }\n            } : {\n                type: \"json_object\"\n            }\n        };\n        let firstResult;\n        try {\n            firstResult = await this.requestChatCompletions(withSchemaPayload);\n        } catch (error) {\n            // Some models/endpoints may reject json_schema; fallback to plain json_object.\n            const fallbackPayload = {\n                model,\n                messages,\n                temperature: cappedTemperature,\n                max_tokens: tokenLimit,\n                response_format: {\n                    type: \"json_object\"\n                }\n            };\n            firstResult = await this.requestChatCompletions(fallbackPayload);\n        }\n        const text = this.extractMessageText(firstResult);\n        const parsed = parseJsonString(text);\n        if (parsed && typeof parsed === \"object\") {\n            return parsed;\n        }\n        throw new Error(\"OpenAI returned non-JSON output for generateJson().\");\n    }\n}\nconst createLLMProvider = ({ provider, fixturesRoot } = {})=>{\n    const mode = normalizeProviderName(provider || getConfiguredProviderName());\n    if (mode === \"real\") return new RealLLMProvider();\n    return new FakeLLMProvider({\n        fixturesRoot\n    });\n};\nlet singleton = null;\nconst getLLMProvider = (options = {})=>{\n    if (options.forceNew) return createLLMProvider(options);\n    if (!singleton) singleton = createLLMProvider(options);\n    return singleton;\n};\nconst isFakeLLMProvider = (provider)=>{\n    const name = provider && typeof provider === \"object\" ? provider.name : \"\";\n    return normalizeProviderName(name) === \"fake\";\n};\nmodule.exports = {\n    FakeLLMProvider,\n    RealLLMProvider,\n    buildFromSchema,\n    canonicalAgentId,\n    createLLMProvider,\n    getConfiguredProviderName,\n    getLLMProvider,\n    hasRealProviderCredentials,\n    hasFixtureForAgent,\n    isFakeLLMProvider,\n    resolveFixtureOutputPath,\n    stripVolatile\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TDtJQUN6QixNQUFNckYsT0FBT3FGLFlBQVksT0FBT0EsYUFBYSxXQUFXQSxTQUFTckYsSUFBSSxHQUFHO0lBQ3hFLE9BQU9qRixzQkFBc0JpRixVQUFVO0FBQ3pDO0FBRUEyRixPQUFPQyxPQUFPLEdBQUc7SUFDZjlGO0lBQ0EwQjtJQUNBN0M7SUFDQTNDO0lBQ0FvSjtJQUNBL0o7SUFDQW1LO0lBQ0EvSjtJQUNBZTtJQUNBa0o7SUFDQXhKO0lBQ0FTO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy9saWIvbGxtL3Byb3ZpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZShcIm5vZGU6ZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcIm5vZGU6cGF0aFwiKTtcblxuY29uc3QgREVGQVVMVF9QUk9WSURFUiA9IFwiZmFrZVwiO1xuXG5jb25zdCBub3JtYWxpemVQcm92aWRlck5hbWUgPSAodmFsdWUpID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFN0cmluZyh2YWx1ZSB8fCBcIlwiKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPT09IFwicmVhbFwiID8gXCJyZWFsXCIgOiBcImZha2VcIjtcbn07XG5cbmNvbnN0IGdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUgPSAoKSA9PiBub3JtYWxpemVQcm92aWRlck5hbWUocHJvY2Vzcy5lbnYuTExNX1BST1ZJREVSIHx8IERFRkFVTFRfUFJPVklERVIpO1xuY29uc3QgaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMgPSAoKSA9PlxuICBCb29sZWFuKFN0cmluZyhwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB8fCBcIlwiKS50cmltKCkpO1xuXG5jb25zdCBBR0VOVF9JRF9BTElBU0VTID0ge1xuICBwbGF0b246IFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCIsXG4gIGFuYXRvbHk6IFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIsXG4gIG1heGltOiBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCJcbn07XG5cbmNvbnN0IGNhbm9uaWNhbEFnZW50SWQgPSAoYWdlbnRJZCkgPT4ge1xuICBpZiAoIWFnZW50SWQpIHJldHVybiBcIlwiO1xuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKGFnZW50SWQpLnRyaW0oKTtcbiAgcmV0dXJuIEFHRU5UX0lEX0FMSUFTRVNbbm9ybWFsaXplZF0gfHwgbm9ybWFsaXplZDtcbn07XG5cbmNvbnN0IHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aCA9IChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpID0+IHtcbiAgY29uc3QgY2Fub25pY2FsID0gY2Fub25pY2FsQWdlbnRJZChhZ2VudElkKTtcbiAgaWYgKCFjYW5vbmljYWwpIHJldHVybiBcIlwiO1xuICBjb25zdCByb290ID0gZml4dHVyZXNSb290IHx8IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcImZpeHR1cmVzXCIsIFwiYWdlbnRzXCIpO1xuICByZXR1cm4gcGF0aC5qb2luKHJvb3QsIGNhbm9uaWNhbCwgXCJvdXRwdXQuanNvblwiKTtcbn07XG5cbmNvbnN0IGhhc0ZpeHR1cmVGb3JBZ2VudCA9IChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpID0+IHtcbiAgY29uc3Qgb3V0cHV0UGF0aCA9IHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpO1xuICByZXR1cm4gQm9vbGVhbihvdXRwdXRQYXRoICYmIGZzLmV4aXN0c1N5bmMob3V0cHV0UGF0aCkpO1xufTtcblxuY29uc3Qgc3RyaXBWb2xhdGlsZSA9ICh2YWx1ZSkgPT4ge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IHN0cmlwVm9sYXRpbGUoaXRlbSkpO1xuXG4gIGNvbnN0IG5leHQgPSB7fTtcbiAgT2JqZWN0LmVudHJpZXModmFsdWUpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICBpZiAoa2V5ID09PSBcImdlbmVyYXRlZF9hdFwiKSB7XG4gICAgICBuZXh0W2tleV0gPSBcIjE5NzAtMDEtMDFUMDA6MDA6MDAuMDAwWlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcInJ1bl9pZFwiIHx8IGtleSA9PT0gXCJ0cmFjZV9pZFwiKSB7XG4gICAgICBuZXh0W2tleV0gPSBcInN0dWItcnVuXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwiZHVyYXRpb25fbXNcIikge1xuICAgICAgbmV4dFtrZXldID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmV4dFtrZXldID0gc3RyaXBWb2xhdGlsZSh2YWwpO1xuICB9KTtcbiAgcmV0dXJuIG5leHQ7XG59O1xuXG5jb25zdCBjbG9uZUpzb24gPSAodmFsdWUpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmNvbnN0IHBpY2tTY2hlbWFOb2RlID0gKHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiKSByZXR1cm4ge307XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikgJiYgc2NoZW1hLm9uZU9mLmxlbmd0aCkgcmV0dXJuIHNjaGVtYS5vbmVPZlswXSB8fCB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFueU9mKSAmJiBzY2hlbWEuYW55T2YubGVuZ3RoKSByZXR1cm4gc2NoZW1hLmFueU9mWzBdIHx8IHt9O1xuICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpICYmIHNjaGVtYS5hbGxPZi5sZW5ndGgpIHtcbiAgICByZXR1cm4gc2NoZW1hLmFsbE9mLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiAoeyAuLi5hY2MsIC4uLml0ZW0gfSksIHt9KTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcblxuY29uc3Qgc2NoZW1hVHlwZSA9IChzY2hlbWEpID0+IHtcbiAgY29uc3Qgbm9kZSA9IHBpY2tTY2hlbWFOb2RlKHNjaGVtYSk7XG4gIGlmICghbm9kZSB8fCB0eXBlb2Ygbm9kZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIFwib2JqZWN0XCI7XG4gIGlmIChub2RlLmNvbnN0ICE9PSB1bmRlZmluZWQpIHJldHVybiB0eXBlb2Ygbm9kZS5jb25zdDtcbiAgaWYgKG5vZGUuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdHlwZW9mIG5vZGUuZGVmYXVsdDtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5lbnVtKSAmJiBub2RlLmVudW0ubGVuZ3RoKSByZXR1cm4gdHlwZW9mIG5vZGUuZW51bVswXTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS50eXBlKSkgcmV0dXJuIG5vZGUudHlwZVswXSB8fCBcIm9iamVjdFwiO1xuICByZXR1cm4gbm9kZS50eXBlIHx8IFwib2JqZWN0XCI7XG59O1xuXG5jb25zdCB2YWx1ZUZvckZvcm1hdCA9IChmb3JtYXQpID0+IHtcbiAgaWYgKGZvcm1hdCA9PT0gXCJkYXRlLXRpbWVcIikgcmV0dXJuIFwiMTk3MC0wMS0wMVQwMDowMDowMC4wMDBaXCI7XG4gIGlmIChmb3JtYXQgPT09IFwiZGF0ZVwiKSByZXR1cm4gXCIxOTcwLTAxLTAxXCI7XG4gIGlmIChmb3JtYXQgPT09IFwiZW1haWxcIikgcmV0dXJuIFwic3R1YkBleGFtcGxlLmNvbVwiO1xuICBpZiAoZm9ybWF0ID09PSBcInVyaVwiIHx8IGZvcm1hdCA9PT0gXCJ1cmxcIikgcmV0dXJuIFwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiO1xuICByZXR1cm4gXCJzdHViXCI7XG59O1xuXG5jb25zdCBidWlsZEZyb21TY2hlbWEgPSAoc2NoZW1hLCBrZXlIaW50ID0gXCJcIikgPT4ge1xuICBjb25zdCBub2RlID0gcGlja1NjaGVtYU5vZGUoc2NoZW1hKTtcbiAgaWYgKCFub2RlIHx8IHR5cGVvZiBub2RlICE9PSBcIm9iamVjdFwiKSByZXR1cm4ge307XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub2RlLCBcImNvbnN0XCIpKSByZXR1cm4gY2xvbmVKc29uKG5vZGUuY29uc3QpO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsIFwiZGVmYXVsdFwiKSkgcmV0dXJuIGNsb25lSnNvbihub2RlLmRlZmF1bHQpO1xuICBpZiAoQXJyYXkuaXNBcnJheShub2RlLmVudW0pICYmIG5vZGUuZW51bS5sZW5ndGgpIHJldHVybiBjbG9uZUpzb24obm9kZS5lbnVtWzBdKTtcblxuICBjb25zdCB0eXBlID0gc2NoZW1hVHlwZShub2RlKTtcblxuICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChub2RlLmZvcm1hdCkgcmV0dXJuIHZhbHVlRm9yRm9ybWF0KG5vZGUuZm9ybWF0KTtcbiAgICBpZiAoa2V5SGludC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZW1haWxcIikpIHJldHVybiBcInN0dWJAZXhhbXBsZS5jb21cIjtcbiAgICBpZiAoa2V5SGludC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwidXJsXCIpIHx8IGtleUhpbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImxpbmtcIikpIHtcbiAgICAgIHJldHVybiBcImh0dHBzOi8vZXhhbXBsZS5jb21cIjtcbiAgICB9XG4gICAgcmV0dXJuIFwic3R1YlwiO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJpbnRlZ2VyXCIpIHtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG5vZGUubWluaW11bSkpIHJldHVybiBOdW1iZXIobm9kZS5taW5pbXVtKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmICh0eXBlID09PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlID09PSBcImFycmF5XCIpIHtcbiAgICBjb25zdCBpdGVtU2NoZW1hID0gbm9kZS5pdGVtcyB8fCB7fTtcbiAgICByZXR1cm4gW2J1aWxkRnJvbVNjaGVtYShpdGVtU2NoZW1hLCBrZXlIaW50ID8gYCR7a2V5SGludH1faXRlbWAgOiBcIml0ZW1cIildO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gbm9kZS5wcm9wZXJ0aWVzICYmIHR5cGVvZiBub2RlLnByb3BlcnRpZXMgPT09IFwib2JqZWN0XCIgPyBub2RlLnByb3BlcnRpZXMgOiB7fTtcbiAgICBjb25zdCByZXF1aXJlZCA9IEFycmF5LmlzQXJyYXkobm9kZS5yZXF1aXJlZCkgPyBub2RlLnJlcXVpcmVkIDogW107XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoWy4uLnJlcXVpcmVkLCAuLi5PYmplY3Qua2V5cyhwcm9wZXJ0aWVzKV0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgaWYgKGtleXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGtleUhpbnQgPT09IFwibWV0YVwiID8geyBnZW5lcmF0ZWRfYXQ6IFwiMTk3MC0wMS0wMVQwMDowMDowMC4wMDBaXCIgfSA6IHt9O1xuICAgIH1cblxuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBjaGlsZFNjaGVtYSA9IHByb3BlcnRpZXNba2V5XSB8fCB7fTtcbiAgICAgIHJlc3VsdFtrZXldID0gYnVpbGRGcm9tU2NoZW1hKGNoaWxkU2NoZW1hLCBrZXkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiB7fTtcbn07XG5cbmNsYXNzIEZha2VMTE1Qcm92aWRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IFwiZmFrZVwiO1xuICAgIHRoaXMuZml4dHVyZXNSb290ID0gb3B0aW9ucy5maXh0dXJlc1Jvb3QgfHwgcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwiZml4dHVyZXNcIiwgXCJhZ2VudHNcIik7XG4gIH1cblxuICBsb2FkRml4dHVyZURhdGEoYWdlbnRJZCkge1xuICAgIGNvbnN0IG91dHB1dFBhdGggPSByZXNvbHZlRml4dHVyZU91dHB1dFBhdGgoYWdlbnRJZCwgdGhpcy5maXh0dXJlc1Jvb3QpO1xuICAgIGlmICghb3V0cHV0UGF0aCB8fCAhZnMuZXhpc3RzU3luYyhvdXRwdXRQYXRoKSkgcmV0dXJuIG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKG91dHB1dFBhdGgsIFwidXRmOFwiKSk7XG4gICAgICBjb25zdCBsZWdhY3lEYXRhID0gcGFyc2VkICYmIHBhcnNlZC5kYXRhID8gcGFyc2VkLmRhdGEgOiBwYXJzZWQ7XG4gICAgICByZXR1cm4gc3RyaXBWb2xhdGlsZShjbG9uZUpzb24obGVnYWN5RGF0YSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVKc29uKHsgc2NoZW1hLCBtZXRhIH0gPSB7fSkge1xuICAgIGNvbnN0IGFnZW50SWQgPSBtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiID8gbWV0YS5hZ2VudF9pZCB8fCBtZXRhLmFnZW50SWQgOiBcIlwiO1xuICAgIGNvbnN0IGZpeHR1cmVEYXRhID0gYWdlbnRJZCA/IHRoaXMubG9hZEZpeHR1cmVEYXRhKGFnZW50SWQpIDogbnVsbDtcbiAgICBpZiAoZml4dHVyZURhdGEpIHtcbiAgICAgIHJldHVybiBmaXh0dXJlRGF0YTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVpbGRGcm9tU2NoZW1hKHNjaGVtYSB8fCB7fSwgXCJyb290XCIpO1xuICB9XG59XG5cbmNvbnN0IHNhbml0aXplU2NoZW1hTmFtZSA9ICh2YWx1ZSkgPT4ge1xuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKHZhbHVlIHx8IFwiYWdlbnRfb3V0cHV0XCIpXG4gICAgLnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgXCJfXCIpXG4gICAgLnJlcGxhY2UoL18rL2csIFwiX1wiKVxuICAgIC5yZXBsYWNlKC9eXyt8XyskL2csIFwiXCIpO1xuICByZXR1cm4gbm9ybWFsaXplZCB8fCBcImFnZW50X291dHB1dFwiO1xufTtcblxuY29uc3Qgc3RyaXBDb2RlRmVuY2VzID0gKHZhbHVlKSA9PlxuICBTdHJpbmcodmFsdWUgfHwgXCJcIilcbiAgICAucmVwbGFjZSgvYGBganNvbi9naSwgXCJgYGBcIilcbiAgICAucmVwbGFjZSgvXmBgYC8sIFwiXCIpXG4gICAgLnJlcGxhY2UoL2BgYCQvLCBcIlwiKVxuICAgIC50cmltKCk7XG5cbmNvbnN0IHBhcnNlSnNvblN0cmluZyA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZGlyZWN0ID0gdmFsdWUudHJpbSgpO1xuICBpZiAoIWRpcmVjdCkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGlyZWN0KTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gY29udGludWVcbiAgfVxuICBjb25zdCBzdHJpcHBlZCA9IHN0cmlwQ29kZUZlbmNlcyhkaXJlY3QpO1xuICBpZiAoIXN0cmlwcGVkKSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJpcHBlZCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBleHRyYWN0RXJyb3JNZXNzYWdlID0gKHBheWxvYWQpID0+IHtcbiAgaWYgKCFwYXlsb2FkIHx8IHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgaWYgKHBheWxvYWQuZXJyb3IgJiYgdHlwZW9mIHBheWxvYWQuZXJyb3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5lcnJvci5tZXNzYWdlIHx8IHBheWxvYWQuZXJyb3IuY29kZTtcbiAgICBpZiAobWVzc2FnZSkgcmV0dXJuIFN0cmluZyhtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn07XG5cbmNvbnN0IGdldE51bWVyaWNPcHRpb24gPSAodmFsdWUsIGZhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IG51bWVyaWMgPSBOdW1iZXIodmFsdWUpO1xuICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpID8gbnVtZXJpYyA6IGZhbGxiYWNrO1xufTtcblxuY2xhc3MgUmVhbExMTVByb3ZpZGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5uYW1lID0gXCJyZWFsXCI7XG4gICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleSB8fCBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB8fCBcIlwiO1xuICAgIHRoaXMuYmFzZVVybCA9IFN0cmluZyhcbiAgICAgIG9wdGlvbnMuYmFzZVVybCB8fCBwcm9jZXNzLmVudi5PUEVOQUlfQkFTRV9VUkwgfHwgXCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXCJcbiAgICApLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG4gICAgdGhpcy5tb2RlbCA9IG9wdGlvbnMubW9kZWwgfHwgcHJvY2Vzcy5lbnYuT1BFTkFJX01PREVMIHx8IFwiZ3B0LTUtbWluaVwiO1xuICAgIHRoaXMudGltZW91dE1zID0gZ2V0TnVtZXJpY09wdGlvbihvcHRpb25zLnRpbWVvdXRNcyB8fCBwcm9jZXNzLmVudi5PUEVOQUlfVElNRU9VVF9NUywgNDUwMDApO1xuICAgIHRoaXMuZmV0Y2hJbXBsID0gb3B0aW9ucy5mZXRjaCB8fCBnbG9iYWxUaGlzLmZldGNoO1xuICB9XG5cbiAgYXN5bmMgcmVxdWVzdENoYXRDb21wbGV0aW9ucyhwYXlsb2FkKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmZldGNoSW1wbCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHbG9iYWwgZmV0Y2ggaXMgbm90IGF2YWlsYWJsZSBmb3IgUmVhbExMTVByb3ZpZGVyLlwiKTtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIHRoaXMudGltZW91dE1zKTtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaEltcGwoYCR7dGhpcy5iYXNlVXJsfS9jaGF0L2NvbXBsZXRpb25zYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiXG4gICAgICAgICAgPyBgT3BlbkFJIHJlcXVlc3QgdGltZWQgb3V0IGFmdGVyICR7dGhpcy50aW1lb3V0TXN9bXNgXG4gICAgICAgICAgOiBgT3BlbkFJIHJlcXVlc3QgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJ1bmtub3duIGVycm9yXCJ9YDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VKc29uU3RyaW5nKHRleHQpIHx8IHt9O1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGFwaU1lc3NhZ2UgPSBleHRyYWN0RXJyb3JNZXNzYWdlKHBhcnNlZCk7XG4gICAgICBjb25zdCByZWFzb24gPSBhcGlNZXNzYWdlIHx8IHRleHQuc2xpY2UoMCwgMzAwKSB8fCBgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYE9wZW5BSSByZXF1ZXN0IGZhaWxlZCAoJHtyZXNwb25zZS5zdGF0dXN9KTogJHtyZWFzb259YCk7XG4gICAgICBlcnJvci5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuXG4gIGV4dHJhY3RNZXNzYWdlVGV4dChwYXlsb2FkKSB7XG4gICAgY29uc3QgY29udGVudCA9IHBheWxvYWQ/LmNob2ljZXM/LlswXT8ubWVzc2FnZT8uY29udGVudDtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBjb250ZW50O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XG4gICAgICByZXR1cm4gY29udGVudFxuICAgICAgICAubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgaWYgKCFwYXJ0IHx8IHR5cGVvZiBwYXJ0ICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcnQudGV4dCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHBhcnQudGV4dDtcbiAgICAgICAgICBpZiAocGFydC50ZXh0ICYmIHR5cGVvZiBwYXJ0LnRleHQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHBhcnQudGV4dC52YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnQudGV4dC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBwYXJ0LmNvbnRlbnQ7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKFwiXCIpXG4gICAgICAgIC50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgYnVpbGRNZXNzYWdlcyhzeXN0ZW0sIHByb21wdCwgc2NoZW1hKSB7XG4gICAgY29uc3QgYmFzZVN5c3RlbSA9XG4gICAgICB0eXBlb2Ygc3lzdGVtID09PSBcInN0cmluZ1wiICYmIHN5c3RlbS50cmltKClcbiAgICAgICAgPyBzeXN0ZW0udHJpbSgpXG4gICAgICAgIDogXCJZb3UgYXJlIGEgc3RyaWN0IEpTT04gYXNzaXN0YW50LlwiO1xuICAgIGNvbnN0IHNjaGVtYUhpbnQgPVxuICAgICAgc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMoc2NoZW1hKS5sZW5ndGhcbiAgICAgICAgPyBgUmV0dXJuIG9ubHkgSlNPTiB0aGF0IG1hdGNoZXMgdGhpcyBzY2hlbWE6XFxuJHtKU09OLnN0cmluZ2lmeShzY2hlbWEpfWBcbiAgICAgICAgOiBcIlJldHVybiBvbmx5IHZhbGlkIEpTT04uXCI7XG4gICAgY29uc3QgdXNlclByb21wdCA9IHR5cGVvZiBwcm9tcHQgPT09IFwic3RyaW5nXCIgJiYgcHJvbXB0LnRyaW0oKSA/IHByb21wdC50cmltKCkgOiBcInt9XCI7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudDogYCR7YmFzZVN5c3RlbX1cXG5cXG4ke3NjaGVtYUhpbnR9YCB9LFxuICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogdXNlclByb21wdCB9XG4gICAgXTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlSnNvbih7IHN5c3RlbSwgcHJvbXB0LCBzY2hlbWEsIHRlbXBlcmF0dXJlLCBtYXhUb2tlbnMsIG1ldGEgfSA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT1BFTkFJX0FQSV9LRVkgaXMgcmVxdWlyZWQgd2hlbiBMTE1fUFJPVklERVI9cmVhbC5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdGVkTW9kZWwgPVxuICAgICAgbWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbWV0YS5tb2RlbCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICA/IG1ldGEubW9kZWwudHJpbSgpXG4gICAgICAgIDogXCJcIjtcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVlc3RlZE1vZGVsIHx8IHRoaXMubW9kZWw7XG4gICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmJ1aWxkTWVzc2FnZXMoc3lzdGVtLCBwcm9tcHQsIHNjaGVtYSk7XG4gICAgY29uc3QgY2FwcGVkVGVtcGVyYXR1cmUgPSBNYXRoLm1pbihNYXRoLm1heChnZXROdW1lcmljT3B0aW9uKHRlbXBlcmF0dXJlLCAwLjIpLCAwKSwgMS41KTtcbiAgICBjb25zdCB0b2tlbkxpbWl0ID0gTWF0aC5tYXgoMjAwLCBNYXRoLm1pbig2MDAwLCBnZXROdW1lcmljT3B0aW9uKG1heFRva2VucywgMTgwMCkpKTtcbiAgICBjb25zdCBoYXNTY2hlbWEgPSBCb29sZWFuKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoKTtcbiAgICBjb25zdCBzY2hlbWFOYW1lID0gc2FuaXRpemVTY2hlbWFOYW1lKFxuICAgICAgbWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiA/IG1ldGEuYWdlbnRfaWQgfHwgbWV0YS5hZ2VudElkIHx8IFwiYWdlbnRfb3V0cHV0XCIgOiBcImFnZW50X291dHB1dFwiXG4gICAgKTtcblxuICAgIGNvbnN0IHdpdGhTY2hlbWFQYXlsb2FkID0ge1xuICAgICAgbW9kZWwsXG4gICAgICBtZXNzYWdlcyxcbiAgICAgIHRlbXBlcmF0dXJlOiBjYXBwZWRUZW1wZXJhdHVyZSxcbiAgICAgIG1heF90b2tlbnM6IHRva2VuTGltaXQsXG4gICAgICByZXNwb25zZV9mb3JtYXQ6IGhhc1NjaGVtYVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFwianNvbl9zY2hlbWFcIixcbiAgICAgICAgICAgIGpzb25fc2NoZW1hOiB7IG5hbWU6IHNjaGVtYU5hbWUsIHN0cmljdDogdHJ1ZSwgc2NoZW1hIH1cbiAgICAgICAgICB9XG4gICAgICAgIDogeyB0eXBlOiBcImpzb25fb2JqZWN0XCIgfVxuICAgIH07XG5cbiAgICBsZXQgZmlyc3RSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIGZpcnN0UmVzdWx0ID0gYXdhaXQgdGhpcy5yZXF1ZXN0Q2hhdENvbXBsZXRpb25zKHdpdGhTY2hlbWFQYXlsb2FkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU29tZSBtb2RlbHMvZW5kcG9pbnRzIG1heSByZWplY3QganNvbl9zY2hlbWE7IGZhbGxiYWNrIHRvIHBsYWluIGpzb25fb2JqZWN0LlxuICAgICAgY29uc3QgZmFsbGJhY2tQYXlsb2FkID0ge1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIHRlbXBlcmF0dXJlOiBjYXBwZWRUZW1wZXJhdHVyZSxcbiAgICAgICAgbWF4X3Rva2VuczogdG9rZW5MaW1pdCxcbiAgICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9XG4gICAgICB9O1xuICAgICAgZmlyc3RSZXN1bHQgPSBhd2FpdCB0aGlzLnJlcXVlc3RDaGF0Q29tcGxldGlvbnMoZmFsbGJhY2tQYXlsb2FkKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5leHRyYWN0TWVzc2FnZVRleHQoZmlyc3RSZXN1bHQpO1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSnNvblN0cmluZyh0ZXh0KTtcbiAgICBpZiAocGFyc2VkICYmIHR5cGVvZiBwYXJzZWQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIHJldHVybmVkIG5vbi1KU09OIG91dHB1dCBmb3IgZ2VuZXJhdGVKc29uKCkuXCIpO1xuICB9XG59XG5cbmNvbnN0IGNyZWF0ZUxMTVByb3ZpZGVyID0gKHsgcHJvdmlkZXIsIGZpeHR1cmVzUm9vdCB9ID0ge30pID0+IHtcbiAgY29uc3QgbW9kZSA9IG5vcm1hbGl6ZVByb3ZpZGVyTmFtZShwcm92aWRlciB8fCBnZXRDb25maWd1cmVkUHJvdmlkZXJOYW1lKCkpO1xuICBpZiAobW9kZSA9PT0gXCJyZWFsXCIpIHJldHVybiBuZXcgUmVhbExMTVByb3ZpZGVyKCk7XG4gIHJldHVybiBuZXcgRmFrZUxMTVByb3ZpZGVyKHsgZml4dHVyZXNSb290IH0pO1xufTtcblxubGV0IHNpbmdsZXRvbiA9IG51bGw7XG5cbmNvbnN0IGdldExMTVByb3ZpZGVyID0gKG9wdGlvbnMgPSB7fSkgPT4ge1xuICBpZiAob3B0aW9ucy5mb3JjZU5ldykgcmV0dXJuIGNyZWF0ZUxMTVByb3ZpZGVyKG9wdGlvbnMpO1xuICBpZiAoIXNpbmdsZXRvbikgc2luZ2xldG9uID0gY3JlYXRlTExNUHJvdmlkZXIob3B0aW9ucyk7XG4gIHJldHVybiBzaW5nbGV0b247XG59O1xuXG5jb25zdCBpc0Zha2VMTE1Qcm92aWRlciA9IChwcm92aWRlcikgPT4ge1xuICBjb25zdCBuYW1lID0gcHJvdmlkZXIgJiYgdHlwZW9mIHByb3ZpZGVyID09PSBcIm9iamVjdFwiID8gcHJvdmlkZXIubmFtZSA6IFwiXCI7XG4gIHJldHVybiBub3JtYWxpemVQcm92aWRlck5hbWUobmFtZSkgPT09IFwiZmFrZVwiO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEZha2VMTE1Qcm92aWRlcixcbiAgUmVhbExMTVByb3ZpZGVyLFxuICBidWlsZEZyb21TY2hlbWEsXG4gIGNhbm9uaWNhbEFnZW50SWQsXG4gIGNyZWF0ZUxMTVByb3ZpZGVyLFxuICBnZXRDb25maWd1cmVkUHJvdmlkZXJOYW1lLFxuICBnZXRMTE1Qcm92aWRlcixcbiAgaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMsXG4gIGhhc0ZpeHR1cmVGb3JBZ2VudCxcbiAgaXNGYWtlTExNUHJvdmlkZXIsXG4gIHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aCxcbiAgc3RyaXBWb2xhdGlsZVxufTtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiREVGQVVMVF9QUk9WSURFUiIsIm5vcm1hbGl6ZVByb3ZpZGVyTmFtZSIsInZhbHVlIiwibm9ybWFsaXplZCIsIlN0cmluZyIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsImdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUiLCJwcm9jZXNzIiwiZW52IiwiTExNX1BST1ZJREVSIiwiaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMiLCJCb29sZWFuIiwiT1BFTkFJX0FQSV9LRVkiLCJBR0VOVF9JRF9BTElBU0VTIiwicGxhdG9uIiwiYW5hdG9seSIsIm1heGltIiwiY2Fub25pY2FsQWdlbnRJZCIsImFnZW50SWQiLCJyZXNvbHZlRml4dHVyZU91dHB1dFBhdGgiLCJmaXh0dXJlc1Jvb3QiLCJjYW5vbmljYWwiLCJyb290Iiwiam9pbiIsImN3ZCIsImhhc0ZpeHR1cmVGb3JBZ2VudCIsIm91dHB1dFBhdGgiLCJleGlzdHNTeW5jIiwic3RyaXBWb2xhdGlsZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJuZXh0IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWwiLCJjbG9uZUpzb24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJwaWNrU2NoZW1hTm9kZSIsInNjaGVtYSIsIm9uZU9mIiwibGVuZ3RoIiwiYW55T2YiLCJhbGxPZiIsInJlZHVjZSIsImFjYyIsInNjaGVtYVR5cGUiLCJub2RlIiwiY29uc3QiLCJ1bmRlZmluZWQiLCJkZWZhdWx0IiwiZW51bSIsInR5cGUiLCJ2YWx1ZUZvckZvcm1hdCIsImZvcm1hdCIsImJ1aWxkRnJvbVNjaGVtYSIsImtleUhpbnQiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbmNsdWRlcyIsIk51bWJlciIsImlzRmluaXRlIiwibWluaW11bSIsIml0ZW1TY2hlbWEiLCJpdGVtcyIsInByb3BlcnRpZXMiLCJyZXF1aXJlZCIsImtleXMiLCJTZXQiLCJyZXN1bHQiLCJzaXplIiwiZ2VuZXJhdGVkX2F0IiwiY2hpbGRTY2hlbWEiLCJGYWtlTExNUHJvdmlkZXIiLCJvcHRpb25zIiwibmFtZSIsImxvYWRGaXh0dXJlRGF0YSIsInBhcnNlZCIsInJlYWRGaWxlU3luYyIsImxlZ2FjeURhdGEiLCJkYXRhIiwiZ2VuZXJhdGVKc29uIiwibWV0YSIsImFnZW50X2lkIiwiZml4dHVyZURhdGEiLCJzYW5pdGl6ZVNjaGVtYU5hbWUiLCJyZXBsYWNlIiwic3RyaXBDb2RlRmVuY2VzIiwicGFyc2VKc29uU3RyaW5nIiwiZGlyZWN0Iiwic3RyaXBwZWQiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwicGF5bG9hZCIsImVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJnZXROdW1lcmljT3B0aW9uIiwiZmFsbGJhY2siLCJudW1lcmljIiwiUmVhbExMTVByb3ZpZGVyIiwiYXBpS2V5IiwiYmFzZVVybCIsIk9QRU5BSV9CQVNFX1VSTCIsIm1vZGVsIiwiT1BFTkFJX01PREVMIiwidGltZW91dE1zIiwiT1BFTkFJX1RJTUVPVVRfTVMiLCJmZXRjaEltcGwiLCJmZXRjaCIsImdsb2JhbFRoaXMiLCJyZXF1ZXN0Q2hhdENvbXBsZXRpb25zIiwiRXJyb3IiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJib2R5Iiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0IiwidGV4dCIsIm9rIiwiYXBpTWVzc2FnZSIsInJlYXNvbiIsInNsaWNlIiwic3RhdHVzIiwiZXh0cmFjdE1lc3NhZ2VUZXh0IiwiY29udGVudCIsImNob2ljZXMiLCJwYXJ0IiwiYnVpbGRNZXNzYWdlcyIsInN5c3RlbSIsInByb21wdCIsImJhc2VTeXN0ZW0iLCJzY2hlbWFIaW50IiwidXNlclByb21wdCIsInJvbGUiLCJ0ZW1wZXJhdHVyZSIsIm1heFRva2VucyIsInJlcXVlc3RlZE1vZGVsIiwibWVzc2FnZXMiLCJjYXBwZWRUZW1wZXJhdHVyZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ0b2tlbkxpbWl0IiwiaGFzU2NoZW1hIiwic2NoZW1hTmFtZSIsIndpdGhTY2hlbWFQYXlsb2FkIiwibWF4X3Rva2VucyIsInJlc3BvbnNlX2Zvcm1hdCIsImpzb25fc2NoZW1hIiwic3RyaWN0IiwiZmlyc3RSZXN1bHQiLCJmYWxsYmFja1BheWxvYWQiLCJjcmVhdGVMTE1Qcm92aWRlciIsInByb3ZpZGVyIiwibW9kZSIsInNpbmdsZXRvbiIsImdldExMTVByb3ZpZGVyIiwiZm9yY2VOZXciLCJpc0Zha2VMTE1Qcm92aWRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/llm/provider.js\n");

/***/ }),

/***/ "(rsc)/./utils/agentEnvelope.js":
/*!********************************!*\
  !*** ./utils/agentEnvelope.js ***!
  \********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { randomUUID } = __webpack_require__(/*! crypto */ \"crypto\");\nconst { getAgentSchema } = __webpack_require__(/*! ./agentSchemas */ \"(rsc)/./utils/agentSchemas.js\");\nconst { validateAgentResponse } = __webpack_require__(/*! ./validateAgentResponse */ \"(rsc)/./utils/validateAgentResponse.js\");\nconst { buildHandoff } = __webpack_require__(/*! ./handoff */ \"(rsc)/./utils/handoff.js\");\nconst { getConfiguredProviderName, hasRealProviderCredentials } = __webpack_require__(/*! ../lib/llm/provider.js */ \"(rsc)/./lib/llm/provider.js\");\nconst makeRunId = ()=>{\n    if (typeof randomUUID === \"function\") {\n        return randomUUID();\n    }\n    const rand = Math.random().toString(36).slice(2, 8);\n    return `run_${Date.now()}_${rand}`;\n};\nconst deriveQualityChecks = (legacyMeta = {})=>{\n    const legacy = legacyMeta && legacyMeta.quality_checks ? legacyMeta.quality_checks : {};\n    const providerName = getConfiguredProviderName();\n    const withinLimits = typeof legacy.within_max_words === \"boolean\" ? legacy.within_max_words : typeof legacy.within_limits === \"boolean\" ? legacy.within_limits : true;\n    const noFabrication = typeof legacy.no_fabrication === \"boolean\" ? legacy.no_fabrication : typeof legacy.no_gray_scraping === \"boolean\" ? legacy.no_gray_scraping : true;\n    const dedupeOk = typeof legacy.dedupe_ok === \"boolean\" ? legacy.dedupe_ok : true;\n    const groundingOk = typeof legacy.grounded_claims_ok === \"boolean\" ? legacy.grounded_claims_ok : typeof legacy.grounding_ok === \"boolean\" ? legacy.grounding_ok : true;\n    const llmConnectedByEnv = providerName === \"real\" && hasRealProviderCredentials();\n    return {\n        no_fabrication: noFabrication,\n        within_limits: withinLimits,\n        dedupe_ok: dedupeOk,\n        grounding_ok: groundingOk,\n        llm_connected: typeof legacy.llm_connected === \"boolean\" ? legacy.llm_connected : llmConnectedByEnv,\n        schema_valid: true\n    };\n};\nconst unwrapLegacy = (payload)=>{\n    if (payload && payload.data && payload.meta) return payload.data;\n    return payload;\n};\nconst sanitizeInputEcho = (input)=>{\n    if (!input || typeof input !== \"object\") return input;\n    const clone = Array.isArray(input) ? [\n        ...input\n    ] : {\n        ...input\n    };\n    if (Array.isArray(clone)) return clone;\n    Object.keys(clone).forEach((key)=>{\n        if (key.startsWith(\"__\")) {\n            delete clone[key];\n        }\n    });\n    return clone;\n};\nconst wrapAgentOutput = ({ agentId, inputEcho, mode, legacyOutput, webStatsOverride, traceId })=>{\n    const data = legacyOutput || {};\n    const legacyMeta = data && data.meta ? data.meta : {};\n    const schema = getAgentSchema(agentId);\n    const validation = validateAgentResponse(data, schema);\n    const qualityChecks = deriveQualityChecks(legacyMeta);\n    qualityChecks.schema_valid = validation.ok;\n    const limitations = Array.isArray(legacyMeta.limitations) ? legacyMeta.limitations : [];\n    const assumptions = Array.isArray(legacyMeta.assumptions) ? legacyMeta.assumptions : [];\n    const warnings = Array.isArray(legacyMeta.warnings) ? legacyMeta.warnings : [];\n    const budgetApplied = legacyMeta && typeof legacyMeta.budget_applied === \"object\" ? legacyMeta.budget_applied : null;\n    const knowledgeUsed = legacyMeta && legacyMeta.knowledge_used || inputEcho && inputEcho.__knowledge_used || {\n        workspace_items: 0,\n        agent_items: 0,\n        top_ids: []\n    };\n    const web_stats = webStatsOverride || (legacyMeta && legacyMeta.web_stats ? legacyMeta.web_stats : null);\n    const handoff = buildHandoff(agentId, data);\n    const envelopeMeta = {\n        agent_id: agentId,\n        generated_at: new Date().toISOString(),\n        run_id: makeRunId(),\n        mode: mode || \"\",\n        input_echo: sanitizeInputEcho(inputEcho) || {},\n        quality_checks: qualityChecks,\n        limitations,\n        assumptions,\n        handoff,\n        web_stats,\n        knowledge_used: knowledgeUsed\n    };\n    if (warnings.length) {\n        envelopeMeta.warnings = warnings;\n    }\n    if (budgetApplied) {\n        envelopeMeta.budget_applied = budgetApplied;\n    }\n    const hasWebStats = web_stats && typeof web_stats === \"object\";\n    const trace_id = traceId || (hasWebStats ? envelopeMeta.run_id : undefined);\n    if (trace_id) {\n        envelopeMeta.trace_id = trace_id;\n    }\n    return {\n        data,\n        meta: envelopeMeta,\n        validation\n    };\n};\nmodule.exports = {\n    wrapAgentOutput,\n    unwrapLegacy\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsSUFBSUgsU0FBU2lCLE1BQU0sRUFBRTtRQUNuQk4sYUFBYVgsUUFBUSxHQUFHQTtJQUMxQjtJQUNBLElBQUlDLGVBQWU7UUFDakJVLGFBQWFULGNBQWMsR0FBR0Q7SUFDaEM7SUFFQSxNQUFNaUIsY0FBY1QsYUFBYSxPQUFPQSxjQUFjO0lBQ3RELE1BQU1VLFdBQVcxQixXQUFZeUIsQ0FBQUEsY0FBY1AsYUFBYUksTUFBTSxHQUFHSyxTQUFRO0lBQ3pFLElBQUlELFVBQVU7UUFDWlIsYUFBYVEsUUFBUSxHQUFHQTtJQUMxQjtJQUVBLE9BQU87UUFBRTVDO1FBQU1DLE1BQU1tQztRQUFjaEI7SUFBVztBQUNoRDtBQUVBMEIsT0FBT0MsT0FBTyxHQUFHO0lBQ2ZuQztJQUNBZDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYWdlbnRFbnZlbG9wZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJhbmRvbVVVSUQgfSA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCB7IGdldEFnZW50U2NoZW1hIH0gPSByZXF1aXJlKFwiLi9hZ2VudFNjaGVtYXNcIik7XG5jb25zdCB7IHZhbGlkYXRlQWdlbnRSZXNwb25zZSB9ID0gcmVxdWlyZShcIi4vdmFsaWRhdGVBZ2VudFJlc3BvbnNlXCIpO1xuY29uc3QgeyBidWlsZEhhbmRvZmYgfSA9IHJlcXVpcmUoXCIuL2hhbmRvZmZcIik7XG5jb25zdCB7XG4gIGdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUsXG4gIGhhc1JlYWxQcm92aWRlckNyZWRlbnRpYWxzXG59ID0gcmVxdWlyZShcIi4uL2xpYi9sbG0vcHJvdmlkZXIuanNcIik7XG5cbmNvbnN0IG1ha2VSdW5JZCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiByYW5kb21VVUlEID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcmFuZG9tVVVJRCgpO1xuICB9XG4gIGNvbnN0IHJhbmQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgcmV0dXJuIGBydW5fJHtEYXRlLm5vdygpfV8ke3JhbmR9YDtcbn07XG5cbmNvbnN0IGRlcml2ZVF1YWxpdHlDaGVja3MgPSAobGVnYWN5TWV0YSA9IHt9KSA9PiB7XG4gIGNvbnN0IGxlZ2FjeSA9IGxlZ2FjeU1ldGEgJiYgbGVnYWN5TWV0YS5xdWFsaXR5X2NoZWNrcyA/IGxlZ2FjeU1ldGEucXVhbGl0eV9jaGVja3MgOiB7fTtcbiAgY29uc3QgcHJvdmlkZXJOYW1lID0gZ2V0Q29uZmlndXJlZFByb3ZpZGVyTmFtZSgpO1xuICBjb25zdCB3aXRoaW5MaW1pdHMgPVxuICAgIHR5cGVvZiBsZWdhY3kud2l0aGluX21heF93b3JkcyA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5LndpdGhpbl9tYXhfd29yZHNcbiAgICAgIDogdHlwZW9mIGxlZ2FjeS53aXRoaW5fbGltaXRzID09PSBcImJvb2xlYW5cIlxuICAgICAgICA/IGxlZ2FjeS53aXRoaW5fbGltaXRzXG4gICAgICAgIDogdHJ1ZTtcbiAgY29uc3Qgbm9GYWJyaWNhdGlvbiA9XG4gICAgdHlwZW9mIGxlZ2FjeS5ub19mYWJyaWNhdGlvbiA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5Lm5vX2ZhYnJpY2F0aW9uXG4gICAgICA6IHR5cGVvZiBsZWdhY3kubm9fZ3JheV9zY3JhcGluZyA9PT0gXCJib29sZWFuXCJcbiAgICAgICAgPyBsZWdhY3kubm9fZ3JheV9zY3JhcGluZ1xuICAgICAgICA6IHRydWU7XG4gIGNvbnN0IGRlZHVwZU9rID0gdHlwZW9mIGxlZ2FjeS5kZWR1cGVfb2sgPT09IFwiYm9vbGVhblwiID8gbGVnYWN5LmRlZHVwZV9vayA6IHRydWU7XG4gIGNvbnN0IGdyb3VuZGluZ09rID1cbiAgICB0eXBlb2YgbGVnYWN5Lmdyb3VuZGVkX2NsYWltc19vayA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5Lmdyb3VuZGVkX2NsYWltc19va1xuICAgICAgOiB0eXBlb2YgbGVnYWN5Lmdyb3VuZGluZ19vayA9PT0gXCJib29sZWFuXCJcbiAgICAgICAgPyBsZWdhY3kuZ3JvdW5kaW5nX29rXG4gICAgICAgIDogdHJ1ZTtcbiAgY29uc3QgbGxtQ29ubmVjdGVkQnlFbnYgPSBwcm92aWRlck5hbWUgPT09IFwicmVhbFwiICYmIGhhc1JlYWxQcm92aWRlckNyZWRlbnRpYWxzKCk7XG4gIHJldHVybiB7XG4gICAgbm9fZmFicmljYXRpb246IG5vRmFicmljYXRpb24sXG4gICAgd2l0aGluX2xpbWl0czogd2l0aGluTGltaXRzLFxuICAgIGRlZHVwZV9vazogZGVkdXBlT2ssXG4gICAgZ3JvdW5kaW5nX29rOiBncm91bmRpbmdPayxcbiAgICBsbG1fY29ubmVjdGVkOlxuICAgICAgdHlwZW9mIGxlZ2FjeS5sbG1fY29ubmVjdGVkID09PSBcImJvb2xlYW5cIlxuICAgICAgICA/IGxlZ2FjeS5sbG1fY29ubmVjdGVkXG4gICAgICAgIDogbGxtQ29ubmVjdGVkQnlFbnYsXG4gICAgc2NoZW1hX3ZhbGlkOiB0cnVlXG4gIH07XG59O1xuXG5jb25zdCB1bndyYXBMZWdhY3kgPSAocGF5bG9hZCkgPT4ge1xuICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLmRhdGEgJiYgcGF5bG9hZC5tZXRhKSByZXR1cm4gcGF5bG9hZC5kYXRhO1xuICByZXR1cm4gcGF5bG9hZDtcbn07XG5cbmNvbnN0IHNhbml0aXplSW5wdXRFY2hvID0gKGlucHV0KSA9PiB7XG4gIGlmICghaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiKSByZXR1cm4gaW5wdXQ7XG4gIGNvbnN0IGNsb25lID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBbLi4uaW5wdXRdIDogeyAuLi5pbnB1dCB9O1xuICBpZiAoQXJyYXkuaXNBcnJheShjbG9uZSkpIHJldHVybiBjbG9uZTtcbiAgT2JqZWN0LmtleXMoY2xvbmUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fXCIpKSB7XG4gICAgICBkZWxldGUgY2xvbmVba2V5XTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xvbmU7XG59O1xuXG5jb25zdCB3cmFwQWdlbnRPdXRwdXQgPSAoe1xuICBhZ2VudElkLFxuICBpbnB1dEVjaG8sXG4gIG1vZGUsXG4gIGxlZ2FjeU91dHB1dCxcbiAgd2ViU3RhdHNPdmVycmlkZSxcbiAgdHJhY2VJZFxufSkgPT4ge1xuICBjb25zdCBkYXRhID0gbGVnYWN5T3V0cHV0IHx8IHt9O1xuICBjb25zdCBsZWdhY3lNZXRhID0gZGF0YSAmJiBkYXRhLm1ldGEgPyBkYXRhLm1ldGEgOiB7fTtcbiAgY29uc3Qgc2NoZW1hID0gZ2V0QWdlbnRTY2hlbWEoYWdlbnRJZCk7XG4gIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUFnZW50UmVzcG9uc2UoZGF0YSwgc2NoZW1hKTtcblxuICBjb25zdCBxdWFsaXR5Q2hlY2tzID0gZGVyaXZlUXVhbGl0eUNoZWNrcyhsZWdhY3lNZXRhKTtcbiAgcXVhbGl0eUNoZWNrcy5zY2hlbWFfdmFsaWQgPSB2YWxpZGF0aW9uLm9rO1xuXG4gIGNvbnN0IGxpbWl0YXRpb25zID0gQXJyYXkuaXNBcnJheShsZWdhY3lNZXRhLmxpbWl0YXRpb25zKSA/IGxlZ2FjeU1ldGEubGltaXRhdGlvbnMgOiBbXTtcbiAgY29uc3QgYXNzdW1wdGlvbnMgPSBBcnJheS5pc0FycmF5KGxlZ2FjeU1ldGEuYXNzdW1wdGlvbnMpID8gbGVnYWN5TWV0YS5hc3N1bXB0aW9ucyA6IFtdO1xuICBjb25zdCB3YXJuaW5ncyA9IEFycmF5LmlzQXJyYXkobGVnYWN5TWV0YS53YXJuaW5ncykgPyBsZWdhY3lNZXRhLndhcm5pbmdzIDogW107XG4gIGNvbnN0IGJ1ZGdldEFwcGxpZWQgPVxuICAgIGxlZ2FjeU1ldGEgJiYgdHlwZW9mIGxlZ2FjeU1ldGEuYnVkZ2V0X2FwcGxpZWQgPT09IFwib2JqZWN0XCJcbiAgICAgID8gbGVnYWN5TWV0YS5idWRnZXRfYXBwbGllZFxuICAgICAgOiBudWxsO1xuICBjb25zdCBrbm93bGVkZ2VVc2VkID1cbiAgICAobGVnYWN5TWV0YSAmJiBsZWdhY3lNZXRhLmtub3dsZWRnZV91c2VkKSB8fFxuICAgIChpbnB1dEVjaG8gJiYgaW5wdXRFY2hvLl9fa25vd2xlZGdlX3VzZWQpIHx8XG4gICAgeyB3b3Jrc3BhY2VfaXRlbXM6IDAsIGFnZW50X2l0ZW1zOiAwLCB0b3BfaWRzOiBbXSB9O1xuXG4gIGNvbnN0IHdlYl9zdGF0cyA9XG4gICAgd2ViU3RhdHNPdmVycmlkZSB8fCAobGVnYWN5TWV0YSAmJiBsZWdhY3lNZXRhLndlYl9zdGF0cyA/IGxlZ2FjeU1ldGEud2ViX3N0YXRzIDogbnVsbCk7XG5cbiAgY29uc3QgaGFuZG9mZiA9IGJ1aWxkSGFuZG9mZihhZ2VudElkLCBkYXRhKTtcblxuICBjb25zdCBlbnZlbG9wZU1ldGEgPSB7XG4gICAgYWdlbnRfaWQ6IGFnZW50SWQsXG4gICAgZ2VuZXJhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgcnVuX2lkOiBtYWtlUnVuSWQoKSxcbiAgICBtb2RlOiBtb2RlIHx8IFwiXCIsXG4gICAgaW5wdXRfZWNobzogc2FuaXRpemVJbnB1dEVjaG8oaW5wdXRFY2hvKSB8fCB7fSxcbiAgICBxdWFsaXR5X2NoZWNrczogcXVhbGl0eUNoZWNrcyxcbiAgICBsaW1pdGF0aW9ucyxcbiAgICBhc3N1bXB0aW9ucyxcbiAgICBoYW5kb2ZmLFxuICAgIHdlYl9zdGF0cyxcbiAgICBrbm93bGVkZ2VfdXNlZDoga25vd2xlZGdlVXNlZFxuICB9O1xuXG4gIGlmICh3YXJuaW5ncy5sZW5ndGgpIHtcbiAgICBlbnZlbG9wZU1ldGEud2FybmluZ3MgPSB3YXJuaW5ncztcbiAgfVxuICBpZiAoYnVkZ2V0QXBwbGllZCkge1xuICAgIGVudmVsb3BlTWV0YS5idWRnZXRfYXBwbGllZCA9IGJ1ZGdldEFwcGxpZWQ7XG4gIH1cblxuICBjb25zdCBoYXNXZWJTdGF0cyA9IHdlYl9zdGF0cyAmJiB0eXBlb2Ygd2ViX3N0YXRzID09PSBcIm9iamVjdFwiO1xuICBjb25zdCB0cmFjZV9pZCA9IHRyYWNlSWQgfHwgKGhhc1dlYlN0YXRzID8gZW52ZWxvcGVNZXRhLnJ1bl9pZCA6IHVuZGVmaW5lZCk7XG4gIGlmICh0cmFjZV9pZCkge1xuICAgIGVudmVsb3BlTWV0YS50cmFjZV9pZCA9IHRyYWNlX2lkO1xuICB9XG5cbiAgcmV0dXJuIHsgZGF0YSwgbWV0YTogZW52ZWxvcGVNZXRhLCB2YWxpZGF0aW9uIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgd3JhcEFnZW50T3V0cHV0LFxuICB1bndyYXBMZWdhY3lcbn07XG4iXSwibmFtZXMiOlsicmFuZG9tVVVJRCIsInJlcXVpcmUiLCJnZXRBZ2VudFNjaGVtYSIsInZhbGlkYXRlQWdlbnRSZXNwb25zZSIsImJ1aWxkSGFuZG9mZiIsImdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUiLCJoYXNSZWFsUHJvdmlkZXJDcmVkZW50aWFscyIsIm1ha2VSdW5JZCIsInJhbmQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsIkRhdGUiLCJub3ciLCJkZXJpdmVRdWFsaXR5Q2hlY2tzIiwibGVnYWN5TWV0YSIsImxlZ2FjeSIsInF1YWxpdHlfY2hlY2tzIiwicHJvdmlkZXJOYW1lIiwid2l0aGluTGltaXRzIiwid2l0aGluX21heF93b3JkcyIsIndpdGhpbl9saW1pdHMiLCJub0ZhYnJpY2F0aW9uIiwibm9fZmFicmljYXRpb24iLCJub19ncmF5X3NjcmFwaW5nIiwiZGVkdXBlT2siLCJkZWR1cGVfb2siLCJncm91bmRpbmdPayIsImdyb3VuZGVkX2NsYWltc19vayIsImdyb3VuZGluZ19vayIsImxsbUNvbm5lY3RlZEJ5RW52IiwibGxtX2Nvbm5lY3RlZCIsInNjaGVtYV92YWxpZCIsInVud3JhcExlZ2FjeSIsInBheWxvYWQiLCJkYXRhIiwibWV0YSIsInNhbml0aXplSW5wdXRFY2hvIiwiaW5wdXQiLCJjbG9uZSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic3RhcnRzV2l0aCIsIndyYXBBZ2VudE91dHB1dCIsImFnZW50SWQiLCJpbnB1dEVjaG8iLCJtb2RlIiwibGVnYWN5T3V0cHV0Iiwid2ViU3RhdHNPdmVycmlkZSIsInRyYWNlSWQiLCJzY2hlbWEiLCJ2YWxpZGF0aW9uIiwicXVhbGl0eUNoZWNrcyIsIm9rIiwibGltaXRhdGlvbnMiLCJhc3N1bXB0aW9ucyIsIndhcm5pbmdzIiwiYnVkZ2V0QXBwbGllZCIsImJ1ZGdldF9hcHBsaWVkIiwia25vd2xlZGdlVXNlZCIsImtub3dsZWRnZV91c2VkIiwiX19rbm93bGVkZ2VfdXNlZCIsIndvcmtzcGFjZV9pdGVtcyIsImFnZW50X2l0ZW1zIiwidG9wX2lkcyIsIndlYl9zdGF0cyIsImhhbmRvZmYiLCJlbnZlbG9wZU1ldGEiLCJhZ2VudF9pZCIsImdlbmVyYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwicnVuX2lkIiwiaW5wdXRfZWNobyIsImxlbmd0aCIsImhhc1dlYlN0YXRzIiwidHJhY2VfaWQiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./utils/agentEnvelope.js\n");

/***/ }),

/***/ "(rsc)/./utils/agentSchemas.js":
/*!*******************************!*\
  !*** ./utils/agentSchemas.js ***!
  \*******************************/
/***/ ((module) => {

eval("\nconst platonSchema = {\n    required: {\n        segments: \"array\",\n        company_candidates: \"array\",\n        meta: \"object\"\n    }\n};\nconst agentSchemas = {\n    \"platon-prospect-research-ru\": platonSchema,\n    platon: platonSchema,\n    \"anatoly-account-research-ru\": {\n        required: {\n            account_card: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"timofey-competitor-analysis-ru\": {\n        required: {\n            competitors: \"array\",\n            comparison_table: \"array\",\n            win_angles: \"array\",\n            agentos_positioning: \"object\",\n            offers: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"maxim-local-leads-ru\": {\n        required: {\n            leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"fedor-b2b-leads-ru\": {\n        required: {\n            leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"artem-hot-leads-ru\": {\n        required: {\n            hot_leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"leonid-outreach-dm-ru\": {\n        required: {\n            dm_pack: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"emelyan-cold-email-ru\": {\n        required: {\n            email_sequences: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"boris-bdr-operator-ru\": {\n        required: {\n            bdr_table: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"pavel-reels-analysis-ru\": {\n        required: {\n            analysis: \"object\",\n            script_skeleton: \"object\",\n            improvements: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"trofim-shorts-analogs-ru\": {\n        required: {\n            formats: \"array\",\n            recommendations: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"irina-content-ideation-ru\": {\n        required: {\n            pillars: \"array\",\n            topics: \"array\",\n            cta_bank: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"hariton-viral-hooks-ru\": {\n        required: {\n            hooks: \"array\",\n            posts: \"array\",\n            scripts: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"kostya-image-generation-ru\": {\n        required: {\n            concepts: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"seva-content-repurposing-ru\": {\n        required: {\n            pack: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"mitya-workflow-diagram-ru\": {\n        required: {\n            diagram: \"object\",\n            landing_text: \"object\",\n            deck_script: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-ceo-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-cto-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-cfo-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-chair-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    }\n};\nconst getAgentSchema = (agentId)=>agentSchemas[agentId] || null;\nmodule.exports = {\n    agentSchemas,\n    getAgentSchema\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9hZ2VudFNjaGVtYXMuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLGVBQWU7SUFDbkJDLFVBQVU7UUFBRUMsVUFBVTtRQUFTQyxvQkFBb0I7UUFBU0MsTUFBTTtJQUFTO0FBQzdFO0FBRUEsTUFBTUMsZUFBZTtJQUNuQiwrQkFBK0JMO0lBQy9CTSxRQUFRTjtJQUNSLCtCQUErQjtRQUM3QkMsVUFBVTtZQUFFTSxjQUFjO1lBQVVILE1BQU07UUFBUztJQUNyRDtJQUNBLGtDQUFrQztRQUNoQ0gsVUFBVTtZQUNSTyxhQUFhO1lBQ2JDLGtCQUFrQjtZQUNsQkMsWUFBWTtZQUNaQyxxQkFBcUI7WUFDckJDLFFBQVE7WUFDUlIsTUFBTTtRQUNSO0lBQ0Y7SUFDQSx3QkFBd0I7UUFDdEJILFVBQVU7WUFBRVksT0FBTztZQUFTVCxNQUFNO1FBQVM7SUFDN0M7SUFDQSxzQkFBc0I7UUFDcEJILFVBQVU7WUFBRVksT0FBTztZQUFTVCxNQUFNO1FBQVM7SUFDN0M7SUFDQSxzQkFBc0I7UUFDcEJILFVBQVU7WUFBRWEsV0FBVztZQUFTVixNQUFNO1FBQVM7SUFDakQ7SUFDQSx5QkFBeUI7UUFDdkJILFVBQVU7WUFBRWMsU0FBUztZQUFVWCxNQUFNO1FBQVM7SUFDaEQ7SUFDQSx5QkFBeUI7UUFDdkJILFVBQVU7WUFBRWUsaUJBQWlCO1lBQVNaLE1BQU07UUFBUztJQUN2RDtJQUNBLHlCQUF5QjtRQUN2QkgsVUFBVTtZQUFFZ0IsV0FBVztZQUFTYixNQUFNO1FBQVM7SUFDakQ7SUFDQSwyQkFBMkI7UUFDekJILFVBQVU7WUFBRWlCLFVBQVU7WUFBVUMsaUJBQWlCO1lBQVVDLGNBQWM7WUFBVWhCLE1BQU07UUFBUztJQUNwRztJQUNBLDRCQUE0QjtRQUMxQkgsVUFBVTtZQUFFb0IsU0FBUztZQUFTQyxpQkFBaUI7WUFBVWxCLE1BQU07UUFBUztJQUMxRTtJQUNBLDZCQUE2QjtRQUMzQkgsVUFBVTtZQUFFc0IsU0FBUztZQUFTQyxRQUFRO1lBQVNDLFVBQVU7WUFBVXJCLE1BQU07UUFBUztJQUNwRjtJQUNBLDBCQUEwQjtRQUN4QkgsVUFBVTtZQUFFeUIsT0FBTztZQUFTQyxPQUFPO1lBQVNDLFNBQVM7WUFBU3hCLE1BQU07UUFBUztJQUMvRTtJQUNBLDhCQUE4QjtRQUM1QkgsVUFBVTtZQUFFNEIsVUFBVTtZQUFTekIsTUFBTTtRQUFTO0lBQ2hEO0lBQ0EsK0JBQStCO1FBQzdCSCxVQUFVO1lBQUU2QixNQUFNO1lBQVUxQixNQUFNO1FBQVM7SUFDN0M7SUFDQSw2QkFBNkI7UUFDM0JILFVBQVU7WUFBRThCLFNBQVM7WUFBVUMsY0FBYztZQUFVQyxhQUFhO1lBQVU3QixNQUFNO1FBQVM7SUFDL0Y7SUFDQSxnQkFBZ0I7UUFDZEgsVUFBVTtZQUFFaUMsUUFBUTtZQUFVOUIsTUFBTTtRQUFTO0lBQy9DO0lBQ0EsZ0JBQWdCO1FBQ2RILFVBQVU7WUFBRWlDLFFBQVE7WUFBVTlCLE1BQU07UUFBUztJQUMvQztJQUNBLGdCQUFnQjtRQUNkSCxVQUFVO1lBQUVpQyxRQUFRO1lBQVU5QixNQUFNO1FBQVM7SUFDL0M7SUFDQSxrQkFBa0I7UUFDaEJILFVBQVU7WUFBRWlDLFFBQVE7WUFBVTlCLE1BQU07UUFBUztJQUMvQztBQUNGO0FBRUEsTUFBTStCLGlCQUFpQixDQUFDQyxVQUFZL0IsWUFBWSxDQUFDK0IsUUFBUSxJQUFJO0FBRTdEQyxPQUFPQyxPQUFPLEdBQUc7SUFBRWpDO0lBQWM4QjtBQUFlIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYWdlbnRTY2hlbWFzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBsYXRvblNjaGVtYSA9IHtcbiAgcmVxdWlyZWQ6IHsgc2VnbWVudHM6IFwiYXJyYXlcIiwgY29tcGFueV9jYW5kaWRhdGVzOiBcImFycmF5XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxufTtcblxuY29uc3QgYWdlbnRTY2hlbWFzID0ge1xuICBcInBsYXRvbi1wcm9zcGVjdC1yZXNlYXJjaC1ydVwiOiBwbGF0b25TY2hlbWEsXG4gIHBsYXRvbjogcGxhdG9uU2NoZW1hLFxuICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgYWNjb3VudF9jYXJkOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJ0aW1vZmV5LWNvbXBldGl0b3ItYW5hbHlzaXMtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7XG4gICAgICBjb21wZXRpdG9yczogXCJhcnJheVwiLFxuICAgICAgY29tcGFyaXNvbl90YWJsZTogXCJhcnJheVwiLFxuICAgICAgd2luX2FuZ2xlczogXCJhcnJheVwiLFxuICAgICAgYWdlbnRvc19wb3NpdGlvbmluZzogXCJvYmplY3RcIixcbiAgICAgIG9mZmVyczogXCJvYmplY3RcIixcbiAgICAgIG1ldGE6IFwib2JqZWN0XCJcbiAgICB9XG4gIH0sXG4gIFwibWF4aW0tbG9jYWwtbGVhZHMtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGxlYWRzOiBcImFycmF5XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxuICB9LFxuICBcImZlZG9yLWIyYi1sZWFkcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgbGVhZHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiYXJ0ZW0taG90LWxlYWRzLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBob3RfbGVhZHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBkbV9wYWNrOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGVtYWlsX3NlcXVlbmNlczogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGJkcl90YWJsZTogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJwYXZlbC1yZWVscy1hbmFseXNpcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgYW5hbHlzaXM6IFwib2JqZWN0XCIsIHNjcmlwdF9za2VsZXRvbjogXCJvYmplY3RcIiwgaW1wcm92ZW1lbnRzOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJ0cm9maW0tc2hvcnRzLWFuYWxvZ3MtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGZvcm1hdHM6IFwiYXJyYXlcIiwgcmVjb21tZW5kYXRpb25zOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJpcmluYS1jb250ZW50LWlkZWF0aW9uLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBwaWxsYXJzOiBcImFycmF5XCIsIHRvcGljczogXCJhcnJheVwiLCBjdGFfYmFuazogXCJvYmplY3RcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgaG9va3M6IFwiYXJyYXlcIiwgcG9zdHM6IFwiYXJyYXlcIiwgc2NyaXB0czogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgY29uY2VwdHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwic2V2YS1jb250ZW50LXJlcHVycG9zaW5nLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBwYWNrOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJtaXR5YS13b3JrZmxvdy1kaWFncmFtLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBkaWFncmFtOiBcIm9iamVjdFwiLCBsYW5kaW5nX3RleHQ6IFwib2JqZWN0XCIsIGRlY2tfc2NyaXB0OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib2FyZC1jZW8tcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IHJldmlldzogXCJvYmplY3RcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiYm9hcmQtY3RvLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyByZXZpZXc6IFwib2JqZWN0XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxuICB9LFxuICBcImJvYXJkLWNmby1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgcmV2aWV3OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib2FyZC1jaGFpci1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgcmV2aWV3OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfVxufTtcblxuY29uc3QgZ2V0QWdlbnRTY2hlbWEgPSAoYWdlbnRJZCkgPT4gYWdlbnRTY2hlbWFzW2FnZW50SWRdIHx8IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0geyBhZ2VudFNjaGVtYXMsIGdldEFnZW50U2NoZW1hIH07XG4iXSwibmFtZXMiOlsicGxhdG9uU2NoZW1hIiwicmVxdWlyZWQiLCJzZWdtZW50cyIsImNvbXBhbnlfY2FuZGlkYXRlcyIsIm1ldGEiLCJhZ2VudFNjaGVtYXMiLCJwbGF0b24iLCJhY2NvdW50X2NhcmQiLCJjb21wZXRpdG9ycyIsImNvbXBhcmlzb25fdGFibGUiLCJ3aW5fYW5nbGVzIiwiYWdlbnRvc19wb3NpdGlvbmluZyIsIm9mZmVycyIsImxlYWRzIiwiaG90X2xlYWRzIiwiZG1fcGFjayIsImVtYWlsX3NlcXVlbmNlcyIsImJkcl90YWJsZSIsImFuYWx5c2lzIiwic2NyaXB0X3NrZWxldG9uIiwiaW1wcm92ZW1lbnRzIiwiZm9ybWF0cyIsInJlY29tbWVuZGF0aW9ucyIsInBpbGxhcnMiLCJ0b3BpY3MiLCJjdGFfYmFuayIsImhvb2tzIiwicG9zdHMiLCJzY3JpcHRzIiwiY29uY2VwdHMiLCJwYWNrIiwiZGlhZ3JhbSIsImxhbmRpbmdfdGV4dCIsImRlY2tfc2NyaXB0IiwicmV2aWV3IiwiZ2V0QWdlbnRTY2hlbWEiLCJhZ2VudElkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/agentSchemas.js\n");

/***/ }),

/***/ "(rsc)/./utils/handoff.js":
/*!**************************!*\
  !*** ./utils/handoff.js ***!
  \**************************/
/***/ ((module) => {

eval("\nconst HANDOFF_VERSION = \"1.0\";\nconst COMPAT_BY_TYPE = {\n    leads_table: [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    account_card: [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    hot_leads: [\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    messages_pack: [\n        \"boris-bdr-operator-ru\"\n    ],\n    bdr_queue: [],\n    board_review: [],\n    content_pack: []\n};\nconst RECOMMENDED_NEXT = {\n    \"platon-prospect-research-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    platon: [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"maxim-local-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"fedor-b2b-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"artem-hot-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"anatoly-account-research-ru\": [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"timofey-competitor-analysis-ru\": [\n        \"platon-prospect-research-ru\",\n        \"anatoly-account-research-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"leonid-outreach-dm-ru\": [\n        \"boris-bdr-operator-ru\"\n    ],\n    \"emelyan-cold-email-ru\": [\n        \"boris-bdr-operator-ru\"\n    ],\n    \"boris-bdr-operator-ru\": [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\"\n    ],\n    \"pavel-reels-analysis-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"trofim-shorts-analogs-ru\"\n    ],\n    \"trofim-shorts-analogs-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"pavel-reels-analysis-ru\"\n    ],\n    \"irina-content-ideation-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"kostya-image-generation-ru\"\n    ],\n    \"hariton-viral-hooks-ru\": [\n        \"kostya-image-generation-ru\",\n        \"seva-content-repurposing-ru\"\n    ],\n    \"kostya-image-generation-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"irina-content-ideation-ru\"\n    ],\n    \"seva-content-repurposing-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"kostya-image-generation-ru\"\n    ],\n    \"mitya-workflow-diagram-ru\": [\n        \"kostya-image-generation-ru\",\n        \"irina-content-ideation-ru\"\n    ],\n    \"board-ceo-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-cto-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-cfo-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-chair-ru\": []\n};\nconst normalizeLead = (lead)=>{\n    if (!lead || typeof lead !== \"object\") return null;\n    const leadName = lead.name || lead.company_name || lead.title || lead.name_placeholder || lead.lead_label || lead.link || lead.url || \"Lead\";\n    const contact = {\n        email: lead.email || (lead.public_contacts ? lead.public_contacts.email : undefined) || undefined,\n        phone: lead.phone || (lead.public_contacts ? lead.public_contacts.phone : undefined) || undefined,\n        website: lead.website || lead.domain || undefined,\n        url: lead.link || lead.url || lead.source_url || undefined\n    };\n    const source = lead.source || lead.channel || lead.source_type || \"\";\n    return {\n        lead_name: String(leadName),\n        dedupe_key: lead.dedupe_key || lead.dedupe_key_raw || \"\",\n        contact,\n        source,\n        proof_refs: lead.proof_refs || undefined\n    };\n};\nconst buildLeadsTableEntities = (data)=>{\n    const list = data && data.leads || data && data.company_candidates || data && data.hot_leads || [];\n    const leads = Array.isArray(list) ? list.map(normalizeLead).filter(Boolean) : [];\n    return {\n        leads\n    };\n};\nconst buildAccountCardEntities = (data)=>{\n    const card = data && data.account_card ? data.account_card : {};\n    const meta = data && data.meta ? data.meta : {};\n    return {\n        company_name: card.company_name || \"\",\n        discovered_channels: card.discovered_channels || {},\n        hooks: card.top_personalization_hooks || [],\n        pains: card.pain_hypotheses || [],\n        proof_items: Array.isArray(meta.proof_items) ? meta.proof_items : []\n    };\n};\nconst buildMessagesPackEntities = (data, channelOverride)=>{\n    if (data && data.dm_pack) {\n        return {\n            lead_label: data.dm_pack.lead_label || \"lead\",\n            channel: data.dm_pack.channel || channelOverride || \"dm\",\n            messages: data.dm_pack.messages || data.dm_pack.variants || []\n        };\n    }\n    if (data && data.email_sequences) {\n        return {\n            lead_label: \"lead\",\n            channel: channelOverride || \"email\",\n            email_sequences: data.email_sequences\n        };\n    }\n    return {\n        lead_label: \"lead\",\n        channel: channelOverride || \"\",\n        messages: []\n    };\n};\nconst buildContentPackEntities = (data)=>{\n    if (!data || typeof data !== \"object\") return {};\n    const entities = {\n        ...data\n    };\n    if (entities.meta) delete entities.meta;\n    return entities;\n};\nconst buildBoardReviewEntities = (data)=>{\n    const review = data && typeof data.review === \"object\" ? data.review : {};\n    return {\n        role: review.role || \"\",\n        decision: review.decision || review.stance || review.recommendation || review.feasibility || \"\",\n        summary: review.final_summary || review.verdict || review.unit_economics_view || \"\",\n        references: review.references || {}\n    };\n};\nconst buildHandoff = (agentId, data)=>{\n    const recommended_next_agents = RECOMMENDED_NEXT[agentId] || [\n        \"boris-bdr-operator-ru\"\n    ];\n    if (agentId === \"platon\" || agentId === \"platon-prospect-research-ru\" || agentId === \"maxim-local-leads-ru\" || agentId === \"fedor-b2b-leads-ru\") {\n        const type = \"leads_table\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildLeadsTableEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"artem-hot-leads-ru\") {\n        const type = \"hot_leads\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildLeadsTableEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"anatoly-account-research-ru\") {\n        const type = \"account_card\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildAccountCardEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"leonid-outreach-dm-ru\") {\n        const type = \"messages_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildMessagesPackEntities(data, \"dm\"),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"emelyan-cold-email-ru\") {\n        const type = \"messages_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildMessagesPackEntities(data, \"email\"),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"boris-bdr-operator-ru\") {\n        const type = \"bdr_queue\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: {\n                rows: Array.isArray(data.bdr_table) ? data.bdr_table : []\n            },\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"timofey-competitor-analysis-ru\") {\n        const type = \"content_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: {\n                competitors: data.competitors || [],\n                comparison_table: data.comparison_table || [],\n                offers: data.offers || {},\n                win_angles: data.win_angles || [],\n                agentos_positioning: data.agentos_positioning || {}\n            },\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"board-ceo-ru\" || agentId === \"board-cto-ru\" || agentId === \"board-cfo-ru\" || agentId === \"board-chair-ru\") {\n        const type = \"board_review\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildBoardReviewEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    const type = \"content_pack\";\n    return {\n        type,\n        version: HANDOFF_VERSION,\n        entities: buildContentPackEntities(data),\n        recommended_next_agents,\n        compat: COMPAT_BY_TYPE[type] || []\n    };\n};\nconst getHandoffTypeForAgent = (agentId)=>{\n    if (agentId === \"platon\" || agentId === \"platon-prospect-research-ru\" || agentId === \"maxim-local-leads-ru\" || agentId === \"fedor-b2b-leads-ru\") {\n        return \"leads_table\";\n    }\n    if (agentId === \"artem-hot-leads-ru\") return \"hot_leads\";\n    if (agentId === \"anatoly-account-research-ru\") return \"account_card\";\n    if (agentId === \"leonid-outreach-dm-ru\") return \"messages_pack\";\n    if (agentId === \"emelyan-cold-email-ru\") return \"messages_pack\";\n    if (agentId === \"boris-bdr-operator-ru\") return \"bdr_queue\";\n    if (agentId === \"timofey-competitor-analysis-ru\") return \"content_pack\";\n    if (agentId === \"board-ceo-ru\" || agentId === \"board-cto-ru\" || agentId === \"board-cfo-ru\" || agentId === \"board-chair-ru\") {\n        return \"board_review\";\n    }\n    return \"content_pack\";\n};\nmodule.exports = {\n    buildHandoff,\n    HANDOFF_VERSION,\n    COMPAT_BY_TYPE,\n    getHandoffTypeForAgent\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dG9wL2FnZW50T1MvdXRpbHMvaGFuZG9mZi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIQU5ET0ZGX1ZFUlNJT04gPSBcIjEuMFwiO1xuXG5jb25zdCBDT01QQVRfQllfVFlQRSA9IHtcbiAgbGVhZHNfdGFibGU6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIGFjY291bnRfY2FyZDogW1xuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIGhvdF9sZWFkczogW1wibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJdLFxuICBtZXNzYWdlc19wYWNrOiBbXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIl0sXG4gIGJkcl9xdWV1ZTogW10sXG4gIGJvYXJkX3JldmlldzogW10sXG4gIGNvbnRlbnRfcGFjazogW11cbn07XG5cbmNvbnN0IFJFQ09NTUVOREVEX05FWFQgPSB7XG4gIFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCI6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBwbGF0b246IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCI6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcImZlZG9yLWIyYi1sZWFkcy1ydVwiOiBbXG4gICAgXCJhbmF0b2x5LWFjY291bnQtcmVzZWFyY2gtcnVcIixcbiAgICBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiLFxuICAgIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJcbiAgXSxcbiAgXCJhcnRlbS1ob3QtbGVhZHMtcnVcIjogW1xuICAgIFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIsXG4gICAgXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCI6IFtcbiAgICBcImxlb25pZC1vdXRyZWFjaC1kbS1ydVwiLFxuICAgIFwiZW1lbHlhbi1jb2xkLWVtYWlsLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcInRpbW9mZXktY29tcGV0aXRvci1hbmFseXNpcy1ydVwiOiBbXG4gICAgXCJwbGF0b24tcHJvc3BlY3QtcmVzZWFyY2gtcnVcIixcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJcbiAgXSxcbiAgXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIjogW1wiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJdLFxuICBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiOiBbXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIl0sXG4gIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCI6IFtcImxlb25pZC1vdXRyZWFjaC1kbS1ydVwiLCBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiXSxcbiAgXCJwYXZlbC1yZWVscy1hbmFseXNpcy1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwidHJvZmltLXNob3J0cy1hbmFsb2dzLXJ1XCJdLFxuICBcInRyb2ZpbS1zaG9ydHMtYW5hbG9ncy1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwicGF2ZWwtcmVlbHMtYW5hbHlzaXMtcnVcIl0sXG4gIFwiaXJpbmEtY29udGVudC1pZGVhdGlvbi1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwia29zdHlhLWltYWdlLWdlbmVyYXRpb24tcnVcIl0sXG4gIFwiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiOiBbXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiLCBcInNldmEtY29udGVudC1yZXB1cnBvc2luZy1ydVwiXSxcbiAgXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwiaXJpbmEtY29udGVudC1pZGVhdGlvbi1ydVwiXSxcbiAgXCJzZXZhLWNvbnRlbnQtcmVwdXJwb3NpbmctcnVcIjogW1wiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiLCBcImtvc3R5YS1pbWFnZS1nZW5lcmF0aW9uLXJ1XCJdLFxuICBcIm1pdHlhLXdvcmtmbG93LWRpYWdyYW0tcnVcIjogW1wia29zdHlhLWltYWdlLWdlbmVyYXRpb24tcnVcIiwgXCJpcmluYS1jb250ZW50LWlkZWF0aW9uLXJ1XCJdLFxuICBcImJvYXJkLWNlby1ydVwiOiBbXCJib2FyZC1jaGFpci1ydVwiXSxcbiAgXCJib2FyZC1jdG8tcnVcIjogW1wiYm9hcmQtY2hhaXItcnVcIl0sXG4gIFwiYm9hcmQtY2ZvLXJ1XCI6IFtcImJvYXJkLWNoYWlyLXJ1XCJdLFxuICBcImJvYXJkLWNoYWlyLXJ1XCI6IFtdXG59O1xuXG5jb25zdCBub3JtYWxpemVMZWFkID0gKGxlYWQpID0+IHtcbiAgaWYgKCFsZWFkIHx8IHR5cGVvZiBsZWFkICE9PSBcIm9iamVjdFwiKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgbGVhZE5hbWUgPVxuICAgIGxlYWQubmFtZSB8fFxuICAgIGxlYWQuY29tcGFueV9uYW1lIHx8XG4gICAgbGVhZC50aXRsZSB8fFxuICAgIGxlYWQubmFtZV9wbGFjZWhvbGRlciB8fFxuICAgIGxlYWQubGVhZF9sYWJlbCB8fFxuICAgIGxlYWQubGluayB8fFxuICAgIGxlYWQudXJsIHx8XG4gICAgXCJMZWFkXCI7XG4gIGNvbnN0IGNvbnRhY3QgPSB7XG4gICAgZW1haWw6IGxlYWQuZW1haWwgfHwgKGxlYWQucHVibGljX2NvbnRhY3RzID8gbGVhZC5wdWJsaWNfY29udGFjdHMuZW1haWwgOiB1bmRlZmluZWQpIHx8IHVuZGVmaW5lZCxcbiAgICBwaG9uZTogbGVhZC5waG9uZSB8fCAobGVhZC5wdWJsaWNfY29udGFjdHMgPyBsZWFkLnB1YmxpY19jb250YWN0cy5waG9uZSA6IHVuZGVmaW5lZCkgfHwgdW5kZWZpbmVkLFxuICAgIHdlYnNpdGU6IGxlYWQud2Vic2l0ZSB8fCBsZWFkLmRvbWFpbiB8fCB1bmRlZmluZWQsXG4gICAgdXJsOiBsZWFkLmxpbmsgfHwgbGVhZC51cmwgfHwgbGVhZC5zb3VyY2VfdXJsIHx8IHVuZGVmaW5lZFxuICB9O1xuICBjb25zdCBzb3VyY2UgPSBsZWFkLnNvdXJjZSB8fCBsZWFkLmNoYW5uZWwgfHwgbGVhZC5zb3VyY2VfdHlwZSB8fCBcIlwiO1xuICByZXR1cm4ge1xuICAgIGxlYWRfbmFtZTogU3RyaW5nKGxlYWROYW1lKSxcbiAgICBkZWR1cGVfa2V5OiBsZWFkLmRlZHVwZV9rZXkgfHwgbGVhZC5kZWR1cGVfa2V5X3JhdyB8fCBcIlwiLFxuICAgIGNvbnRhY3QsXG4gICAgc291cmNlLFxuICAgIHByb29mX3JlZnM6IGxlYWQucHJvb2ZfcmVmcyB8fCB1bmRlZmluZWRcbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkTGVhZHNUYWJsZUVudGl0aWVzID0gKGRhdGEpID0+IHtcbiAgY29uc3QgbGlzdCA9XG4gICAgKGRhdGEgJiYgZGF0YS5sZWFkcykgfHxcbiAgICAoZGF0YSAmJiBkYXRhLmNvbXBhbnlfY2FuZGlkYXRlcykgfHxcbiAgICAoZGF0YSAmJiBkYXRhLmhvdF9sZWFkcykgfHxcbiAgICBbXTtcbiAgY29uc3QgbGVhZHMgPSBBcnJheS5pc0FycmF5KGxpc3QpID8gbGlzdC5tYXAobm9ybWFsaXplTGVhZCkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gIHJldHVybiB7IGxlYWRzIH07XG59O1xuXG5jb25zdCBidWlsZEFjY291bnRDYXJkRW50aXRpZXMgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gZGF0YSAmJiBkYXRhLmFjY291bnRfY2FyZCA/IGRhdGEuYWNjb3VudF9jYXJkIDoge307XG4gIGNvbnN0IG1ldGEgPSBkYXRhICYmIGRhdGEubWV0YSA/IGRhdGEubWV0YSA6IHt9O1xuICByZXR1cm4ge1xuICAgIGNvbXBhbnlfbmFtZTogY2FyZC5jb21wYW55X25hbWUgfHwgXCJcIixcbiAgICBkaXNjb3ZlcmVkX2NoYW5uZWxzOiBjYXJkLmRpc2NvdmVyZWRfY2hhbm5lbHMgfHwge30sXG4gICAgaG9va3M6IGNhcmQudG9wX3BlcnNvbmFsaXphdGlvbl9ob29rcyB8fCBbXSxcbiAgICBwYWluczogY2FyZC5wYWluX2h5cG90aGVzZXMgfHwgW10sXG4gICAgcHJvb2ZfaXRlbXM6IEFycmF5LmlzQXJyYXkobWV0YS5wcm9vZl9pdGVtcykgPyBtZXRhLnByb29mX2l0ZW1zIDogW11cbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkTWVzc2FnZXNQYWNrRW50aXRpZXMgPSAoZGF0YSwgY2hhbm5lbE92ZXJyaWRlKSA9PiB7XG4gIGlmIChkYXRhICYmIGRhdGEuZG1fcGFjaykge1xuICAgIHJldHVybiB7XG4gICAgICBsZWFkX2xhYmVsOiBkYXRhLmRtX3BhY2subGVhZF9sYWJlbCB8fCBcImxlYWRcIixcbiAgICAgIGNoYW5uZWw6IGRhdGEuZG1fcGFjay5jaGFubmVsIHx8IGNoYW5uZWxPdmVycmlkZSB8fCBcImRtXCIsXG4gICAgICBtZXNzYWdlczogZGF0YS5kbV9wYWNrLm1lc3NhZ2VzIHx8IGRhdGEuZG1fcGFjay52YXJpYW50cyB8fCBbXVxuICAgIH07XG4gIH1cbiAgaWYgKGRhdGEgJiYgZGF0YS5lbWFpbF9zZXF1ZW5jZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVhZF9sYWJlbDogXCJsZWFkXCIsXG4gICAgICBjaGFubmVsOiBjaGFubmVsT3ZlcnJpZGUgfHwgXCJlbWFpbFwiLFxuICAgICAgZW1haWxfc2VxdWVuY2VzOiBkYXRhLmVtYWlsX3NlcXVlbmNlc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgbGVhZF9sYWJlbDogXCJsZWFkXCIsIGNoYW5uZWw6IGNoYW5uZWxPdmVycmlkZSB8fCBcIlwiLCBtZXNzYWdlczogW10gfTtcbn07XG5cbmNvbnN0IGJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyA9IChkYXRhKSA9PiB7XG4gIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHt9O1xuICBjb25zdCBlbnRpdGllcyA9IHsgLi4uZGF0YSB9O1xuICBpZiAoZW50aXRpZXMubWV0YSkgZGVsZXRlIGVudGl0aWVzLm1ldGE7XG4gIHJldHVybiBlbnRpdGllcztcbn07XG5cbmNvbnN0IGJ1aWxkQm9hcmRSZXZpZXdFbnRpdGllcyA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHJldmlldyA9IGRhdGEgJiYgdHlwZW9mIGRhdGEucmV2aWV3ID09PSBcIm9iamVjdFwiID8gZGF0YS5yZXZpZXcgOiB7fTtcbiAgcmV0dXJuIHtcbiAgICByb2xlOiByZXZpZXcucm9sZSB8fCBcIlwiLFxuICAgIGRlY2lzaW9uOlxuICAgICAgcmV2aWV3LmRlY2lzaW9uIHx8XG4gICAgICByZXZpZXcuc3RhbmNlIHx8XG4gICAgICByZXZpZXcucmVjb21tZW5kYXRpb24gfHxcbiAgICAgIHJldmlldy5mZWFzaWJpbGl0eSB8fFxuICAgICAgXCJcIixcbiAgICBzdW1tYXJ5OlxuICAgICAgcmV2aWV3LmZpbmFsX3N1bW1hcnkgfHxcbiAgICAgIHJldmlldy52ZXJkaWN0IHx8XG4gICAgICByZXZpZXcudW5pdF9lY29ub21pY3NfdmlldyB8fFxuICAgICAgXCJcIixcbiAgICByZWZlcmVuY2VzOiByZXZpZXcucmVmZXJlbmNlcyB8fCB7fVxuICB9O1xufTtcblxuY29uc3QgYnVpbGRIYW5kb2ZmID0gKGFnZW50SWQsIGRhdGEpID0+IHtcbiAgY29uc3QgcmVjb21tZW5kZWRfbmV4dF9hZ2VudHMgPSBSRUNPTU1FTkRFRF9ORVhUW2FnZW50SWRdIHx8IFtcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXTtcblxuICBpZiAoXG4gICAgYWdlbnRJZCA9PT0gXCJwbGF0b25cIiB8fFxuICAgIGFnZW50SWQgPT09IFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImZlZG9yLWIyYi1sZWFkcy1ydVwiXG4gICkge1xuICAgIGNvbnN0IHR5cGUgPSBcImxlYWRzX3RhYmxlXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogYnVpbGRMZWFkc1RhYmxlRW50aXRpZXMoZGF0YSksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKGFnZW50SWQgPT09IFwiYXJ0ZW0taG90LWxlYWRzLXJ1XCIpIHtcbiAgICBjb25zdCB0eXBlID0gXCJob3RfbGVhZHNcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZExlYWRzVGFibGVFbnRpdGllcyhkYXRhKSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJhbmF0b2x5LWFjY291bnQtcmVzZWFyY2gtcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcImFjY291bnRfY2FyZFwiO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlLFxuICAgICAgdmVyc2lvbjogSEFORE9GRl9WRVJTSU9OLFxuICAgICAgZW50aXRpZXM6IGJ1aWxkQWNjb3VudENhcmRFbnRpdGllcyhkYXRhKSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcIm1lc3NhZ2VzX3BhY2tcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZE1lc3NhZ2VzUGFja0VudGl0aWVzKGRhdGEsIFwiZG1cIiksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKGFnZW50SWQgPT09IFwiZW1lbHlhbi1jb2xkLWVtYWlsLXJ1XCIpIHtcbiAgICBjb25zdCB0eXBlID0gXCJtZXNzYWdlc19wYWNrXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogYnVpbGRNZXNzYWdlc1BhY2tFbnRpdGllcyhkYXRhLCBcImVtYWlsXCIpLFxuICAgICAgcmVjb21tZW5kZWRfbmV4dF9hZ2VudHMsXG4gICAgICBjb21wYXQ6IENPTVBBVF9CWV9UWVBFW3R5cGVdIHx8IFtdXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhZ2VudElkID09PSBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiKSB7XG4gICAgY29uc3QgdHlwZSA9IFwiYmRyX3F1ZXVlXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogeyByb3dzOiBBcnJheS5pc0FycmF5KGRhdGEuYmRyX3RhYmxlKSA/IGRhdGEuYmRyX3RhYmxlIDogW10gfSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJ0aW1vZmV5LWNvbXBldGl0b3ItYW5hbHlzaXMtcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcImNvbnRlbnRfcGFja1wiO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlLFxuICAgICAgdmVyc2lvbjogSEFORE9GRl9WRVJTSU9OLFxuICAgICAgZW50aXRpZXM6IHtcbiAgICAgICAgY29tcGV0aXRvcnM6IGRhdGEuY29tcGV0aXRvcnMgfHwgW10sXG4gICAgICAgIGNvbXBhcmlzb25fdGFibGU6IGRhdGEuY29tcGFyaXNvbl90YWJsZSB8fCBbXSxcbiAgICAgICAgb2ZmZXJzOiBkYXRhLm9mZmVycyB8fCB7fSxcbiAgICAgICAgd2luX2FuZ2xlczogZGF0YS53aW5fYW5nbGVzIHx8IFtdLFxuICAgICAgICBhZ2VudG9zX3Bvc2l0aW9uaW5nOiBkYXRhLmFnZW50b3NfcG9zaXRpb25pbmcgfHwge31cbiAgICAgIH0sXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2VvLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImJvYXJkLWN0by1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJib2FyZC1jZm8tcnVcIiB8fFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2hhaXItcnVcIlxuICApIHtcbiAgICBjb25zdCB0eXBlID0gXCJib2FyZF9yZXZpZXdcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZEJvYXJkUmV2aWV3RW50aXRpZXMoZGF0YSksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgY29uc3QgdHlwZSA9IFwiY29udGVudF9wYWNrXCI7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgZW50aXRpZXM6IGJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyhkYXRhKSxcbiAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICBjb21wYXQ6IENPTVBBVF9CWV9UWVBFW3R5cGVdIHx8IFtdXG4gIH07XG59O1xuXG5jb25zdCBnZXRIYW5kb2ZmVHlwZUZvckFnZW50ID0gKGFnZW50SWQpID0+IHtcbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwicGxhdG9uXCIgfHxcbiAgICBhZ2VudElkID09PSBcInBsYXRvbi1wcm9zcGVjdC1yZXNlYXJjaC1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJtYXhpbS1sb2NhbC1sZWFkcy1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJmZWRvci1iMmItbGVhZHMtcnVcIlxuICApIHtcbiAgICByZXR1cm4gXCJsZWFkc190YWJsZVwiO1xuICB9XG4gIGlmIChhZ2VudElkID09PSBcImFydGVtLWhvdC1sZWFkcy1ydVwiKSByZXR1cm4gXCJob3RfbGVhZHNcIjtcbiAgaWYgKGFnZW50SWQgPT09IFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIpIHJldHVybiBcImFjY291bnRfY2FyZFwiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIikgcmV0dXJuIFwibWVzc2FnZXNfcGFja1wiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIikgcmV0dXJuIFwibWVzc2FnZXNfcGFja1wiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIikgcmV0dXJuIFwiYmRyX3F1ZXVlXCI7XG4gIGlmIChhZ2VudElkID09PSBcInRpbW9mZXktY29tcGV0aXRvci1hbmFseXNpcy1ydVwiKSByZXR1cm4gXCJjb250ZW50X3BhY2tcIjtcbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2VvLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImJvYXJkLWN0by1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJib2FyZC1jZm8tcnVcIiB8fFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2hhaXItcnVcIlxuICApIHtcbiAgICByZXR1cm4gXCJib2FyZF9yZXZpZXdcIjtcbiAgfVxuICByZXR1cm4gXCJjb250ZW50X3BhY2tcIjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBidWlsZEhhbmRvZmYsIEhBTkRPRkZfVkVSU0lPTiwgQ09NUEFUX0JZX1RZUEUsIGdldEhhbmRvZmZUeXBlRm9yQWdlbnQgfTtcbiJdLCJuYW1lcyI6WyJIQU5ET0ZGX1ZFUlNJT04iLCJDT01QQVRfQllfVFlQRSIsImxlYWRzX3RhYmxlIiwiYWNjb3VudF9jYXJkIiwiaG90X2xlYWRzIiwibWVzc2FnZXNfcGFjayIsImJkcl9xdWV1ZSIsImJvYXJkX3JldmlldyIsImNvbnRlbnRfcGFjayIsIlJFQ09NTUVOREVEX05FWFQiLCJwbGF0b24iLCJub3JtYWxpemVMZWFkIiwibGVhZCIsImxlYWROYW1lIiwibmFtZSIsImNvbXBhbnlfbmFtZSIsInRpdGxlIiwibmFtZV9wbGFjZWhvbGRlciIsImxlYWRfbGFiZWwiLCJsaW5rIiwidXJsIiwiY29udGFjdCIsImVtYWlsIiwicHVibGljX2NvbnRhY3RzIiwidW5kZWZpbmVkIiwicGhvbmUiLCJ3ZWJzaXRlIiwiZG9tYWluIiwic291cmNlX3VybCIsInNvdXJjZSIsImNoYW5uZWwiLCJzb3VyY2VfdHlwZSIsImxlYWRfbmFtZSIsIlN0cmluZyIsImRlZHVwZV9rZXkiLCJkZWR1cGVfa2V5X3JhdyIsInByb29mX3JlZnMiLCJidWlsZExlYWRzVGFibGVFbnRpdGllcyIsImRhdGEiLCJsaXN0IiwibGVhZHMiLCJjb21wYW55X2NhbmRpZGF0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJmaWx0ZXIiLCJCb29sZWFuIiwiYnVpbGRBY2NvdW50Q2FyZEVudGl0aWVzIiwiY2FyZCIsIm1ldGEiLCJkaXNjb3ZlcmVkX2NoYW5uZWxzIiwiaG9va3MiLCJ0b3BfcGVyc29uYWxpemF0aW9uX2hvb2tzIiwicGFpbnMiLCJwYWluX2h5cG90aGVzZXMiLCJwcm9vZl9pdGVtcyIsImJ1aWxkTWVzc2FnZXNQYWNrRW50aXRpZXMiLCJjaGFubmVsT3ZlcnJpZGUiLCJkbV9wYWNrIiwibWVzc2FnZXMiLCJ2YXJpYW50cyIsImVtYWlsX3NlcXVlbmNlcyIsImJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyIsImVudGl0aWVzIiwiYnVpbGRCb2FyZFJldmlld0VudGl0aWVzIiwicmV2aWV3Iiwicm9sZSIsImRlY2lzaW9uIiwic3RhbmNlIiwicmVjb21tZW5kYXRpb24iLCJmZWFzaWJpbGl0eSIsInN1bW1hcnkiLCJmaW5hbF9zdW1tYXJ5IiwidmVyZGljdCIsInVuaXRfZWNvbm9taWNzX3ZpZXciLCJyZWZlcmVuY2VzIiwiYnVpbGRIYW5kb2ZmIiwiYWdlbnRJZCIsInJlY29tbWVuZGVkX25leHRfYWdlbnRzIiwidHlwZSIsInZlcnNpb24iLCJjb21wYXQiLCJyb3dzIiwiYmRyX3RhYmxlIiwiY29tcGV0aXRvcnMiLCJjb21wYXJpc29uX3RhYmxlIiwib2ZmZXJzIiwid2luX2FuZ2xlcyIsImFnZW50b3NfcG9zaXRpb25pbmciLCJnZXRIYW5kb2ZmVHlwZUZvckFnZW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/handoff.js\n");

/***/ }),

/***/ "(rsc)/./utils/validateAgentResponse.js":
/*!****************************************!*\
  !*** ./utils/validateAgentResponse.js ***!
  \****************************************/
/***/ ((module) => {

eval("\nconst isObject = (value)=>typeof value === \"object\" && value !== null && !Array.isArray(value);\nconst isType = (value, type)=>{\n    if (type === \"array\") return Array.isArray(value);\n    if (type === \"object\") return isObject(value);\n    if (type === \"string\") return typeof value === \"string\";\n    if (type === \"number\") return typeof value === \"number\" && Number.isFinite(value);\n    if (type === \"boolean\") return typeof value === \"boolean\";\n    return value !== undefined;\n};\nconst validateAgentResponse = (data, schema)=>{\n    const errors = [];\n    if (!isObject(data)) {\n        return {\n            ok: false,\n            errors: [\n                \"data must be an object\"\n            ]\n        };\n    }\n    if (!schema || !schema.required) return {\n        ok: true,\n        errors\n    };\n    const required = schema.required || {};\n    Object.entries(required).forEach(([key, type])=>{\n        if (!(key in data)) {\n            errors.push(`missing key: ${key}`);\n            return;\n        }\n        if (type && !isType(data[key], type)) {\n            errors.push(`invalid type for ${key}: expected ${type}`);\n        }\n    });\n    return {\n        ok: errors.length === 0,\n        errors\n    };\n};\nmodule.exports = {\n    validateAgentResponse\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy92YWxpZGF0ZUFnZW50UmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLFdBQVcsQ0FBQ0MsUUFBVSxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsUUFBUSxDQUFDQyxNQUFNQyxPQUFPLENBQUNGO0FBRTFGLE1BQU1HLFNBQVMsQ0FBQ0gsT0FBT0k7SUFDckIsSUFBSUEsU0FBUyxTQUFTLE9BQU9ILE1BQU1DLE9BQU8sQ0FBQ0Y7SUFDM0MsSUFBSUksU0FBUyxVQUFVLE9BQU9MLFNBQVNDO0lBQ3ZDLElBQUlJLFNBQVMsVUFBVSxPQUFPLE9BQU9KLFVBQVU7SUFDL0MsSUFBSUksU0FBUyxVQUFVLE9BQU8sT0FBT0osVUFBVSxZQUFZSyxPQUFPQyxRQUFRLENBQUNOO0lBQzNFLElBQUlJLFNBQVMsV0FBVyxPQUFPLE9BQU9KLFVBQVU7SUFDaEQsT0FBT0EsVUFBVU87QUFDbkI7QUFFQSxNQUFNQyx3QkFBd0IsQ0FBQ0MsTUFBTUM7SUFDbkMsTUFBTUMsU0FBUyxFQUFFO0lBQ2pCLElBQUksQ0FBQ1osU0FBU1UsT0FBTztRQUNuQixPQUFPO1lBQUVHLElBQUk7WUFBT0QsUUFBUTtnQkFBQzthQUF5QjtRQUFDO0lBQ3pEO0lBQ0EsSUFBSSxDQUFDRCxVQUFVLENBQUNBLE9BQU9HLFFBQVEsRUFBRSxPQUFPO1FBQUVELElBQUk7UUFBTUQ7SUFBTztJQUMzRCxNQUFNRSxXQUFXSCxPQUFPRyxRQUFRLElBQUksQ0FBQztJQUNyQ0MsT0FBT0MsT0FBTyxDQUFDRixVQUFVRyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLYixLQUFLO1FBQzNDLElBQUksQ0FBRWEsQ0FBQUEsT0FBT1IsSUFBRyxHQUFJO1lBQ2xCRSxPQUFPTyxJQUFJLENBQUMsQ0FBQyxhQUFhLEVBQUVELEtBQUs7WUFDakM7UUFDRjtRQUNBLElBQUliLFFBQVEsQ0FBQ0QsT0FBT00sSUFBSSxDQUFDUSxJQUFJLEVBQUViLE9BQU87WUFDcENPLE9BQU9PLElBQUksQ0FBQyxDQUFDLGlCQUFpQixFQUFFRCxJQUFJLFdBQVcsRUFBRWIsTUFBTTtRQUN6RDtJQUNGO0lBQ0EsT0FBTztRQUFFUSxJQUFJRCxPQUFPUSxNQUFNLEtBQUs7UUFBR1I7SUFBTztBQUMzQztBQUVBUyxPQUFPQyxPQUFPLEdBQUc7SUFBRWI7QUFBc0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy91dGlscy92YWxpZGF0ZUFnZW50UmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXNPYmplY3QgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG5cbmNvbnN0IGlzVHlwZSA9ICh2YWx1ZSwgdHlwZSkgPT4ge1xuICBpZiAodHlwZSA9PT0gXCJhcnJheVwiKSByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIGlmICh0eXBlID09PSBcIm9iamVjdFwiKSByZXR1cm4gaXNPYmplY3QodmFsdWUpO1xuICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcbiAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcbiAgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcbiAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCB2YWxpZGF0ZUFnZW50UmVzcG9uc2UgPSAoZGF0YSwgc2NoZW1hKSA9PiB7XG4gIGNvbnN0IGVycm9ycyA9IFtdO1xuICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBlcnJvcnM6IFtcImRhdGEgbXVzdCBiZSBhbiBvYmplY3RcIl0gfTtcbiAgfVxuICBpZiAoIXNjaGVtYSB8fCAhc2NoZW1hLnJlcXVpcmVkKSByZXR1cm4geyBvazogdHJ1ZSwgZXJyb3JzIH07XG4gIGNvbnN0IHJlcXVpcmVkID0gc2NoZW1hLnJlcXVpcmVkIHx8IHt9O1xuICBPYmplY3QuZW50cmllcyhyZXF1aXJlZCkuZm9yRWFjaCgoW2tleSwgdHlwZV0pID0+IHtcbiAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKGBtaXNzaW5nIGtleTogJHtrZXl9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlICYmICFpc1R5cGUoZGF0YVtrZXldLCB0eXBlKSkge1xuICAgICAgZXJyb3JzLnB1c2goYGludmFsaWQgdHlwZSBmb3IgJHtrZXl9OiBleHBlY3RlZCAke3R5cGV9YCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgb2s6IGVycm9ycy5sZW5ndGggPT09IDAsIGVycm9ycyB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHZhbGlkYXRlQWdlbnRSZXNwb25zZSB9O1xuIl0sIm5hbWVzIjpbImlzT2JqZWN0IiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJpc1R5cGUiLCJ0eXBlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ1bmRlZmluZWQiLCJ2YWxpZGF0ZUFnZW50UmVzcG9uc2UiLCJkYXRhIiwic2NoZW1hIiwiZXJyb3JzIiwib2siLCJyZXF1aXJlZCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwicHVzaCIsImxlbmd0aCIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/validateAgentResponse.js\n");

/***/ })

};
;