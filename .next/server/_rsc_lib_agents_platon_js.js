"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_lib_agents_platon_js";
exports.ids = ["_rsc_lib_agents_platon_js"];
exports.modules = {

/***/ "(rsc)/./extractors/index.js":
/*!*****************************!*\
  !*** ./extractors/index.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { sanitizeSnippet } = __webpack_require__(/*! ../utils/sanitizeSnippet */ \"(rsc)/./utils/sanitizeSnippet.js\");\nconst { extractDomainFromUrl } = __webpack_require__(/*! ../utils/normalize */ \"(rsc)/./utils/normalize.js\");\nconst stripHtml = (html = \"\")=>String(html).replace(/<script[\\s\\S]*?<\\/script>/gi, \" \").replace(/<style[\\s\\S]*?<\\/style>/gi, \" \").replace(/<[^>]+>/g, \" \").replace(/\\s+/g, \" \").trim();\nconst extractTitle = (html = \"\")=>{\n    const match = String(html).match(/<title>([^<]+)<\\/title>/i);\n    return match ? match[1].trim() : \"\";\n};\nconst genericExtract = (html = \"\", url = \"\")=>{\n    const title = extractTitle(html);\n    const text = stripHtml(html);\n    const snippet = sanitizeSnippet(text.slice(0, 200));\n    return {\n        fields: {\n            title,\n            snippet,\n            domain: extractDomainFromUrl(url),\n            url\n        },\n        proof_items: snippet ? [\n            {\n                url,\n                source_type: \"generic\",\n                signal_type: \"snippet\",\n                signal_value: title || \"page\",\n                evidence_snippet: snippet\n            }\n        ] : [],\n        warnings: []\n    };\n};\nconst domainExtractors = {\n    \"yandex.ru\": genericExtract,\n    \"2gis.ru\": genericExtract,\n    \"avito.ru\": genericExtract,\n    \"wildberries.ru\": genericExtract,\n    \"ozon.ru\": genericExtract,\n    \"vk.com\": genericExtract,\n    \"t.me\": genericExtract,\n    \"telegram.me\": genericExtract\n};\nconst resolveExtractor = (url = \"\")=>{\n    const domain = extractDomainFromUrl(url);\n    const entry = Object.entries(domainExtractors).find(([key])=>domain.includes(key));\n    return entry ? entry[1] : genericExtract;\n};\nconst extractFromHtml = (html = \"\", url = \"\")=>{\n    const extractor = resolveExtractor(url);\n    return extractor(html, url);\n};\nmodule.exports = {\n    extractFromHtml,\n    genericExtract,\n    domainExtractors\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9leHRyYWN0b3JzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNLEVBQUVBLGVBQWUsRUFBRSxHQUFHQyxtQkFBT0EsQ0FBQyxrRUFBMEI7QUFDOUQsTUFBTSxFQUFFQyxvQkFBb0IsRUFBRSxHQUFHRCxtQkFBT0EsQ0FBQyxzREFBb0I7QUFFN0QsTUFBTUUsWUFBWSxDQUFDQyxPQUFPLEVBQUUsR0FDMUJDLE9BQU9ELE1BQ0pFLE9BQU8sQ0FBQywrQkFBK0IsS0FDdkNBLE9BQU8sQ0FBQyw2QkFBNkIsS0FDckNBLE9BQU8sQ0FBQyxZQUFZLEtBQ3BCQSxPQUFPLENBQUMsUUFBUSxLQUNoQkMsSUFBSTtBQUVULE1BQU1DLGVBQWUsQ0FBQ0osT0FBTyxFQUFFO0lBQzdCLE1BQU1LLFFBQVFKLE9BQU9ELE1BQU1LLEtBQUssQ0FBQztJQUNqQyxPQUFPQSxRQUFRQSxLQUFLLENBQUMsRUFBRSxDQUFDRixJQUFJLEtBQUs7QUFDbkM7QUFFQSxNQUFNRyxpQkFBaUIsQ0FBQ04sT0FBTyxFQUFFLEVBQUVPLE1BQU0sRUFBRTtJQUN6QyxNQUFNQyxRQUFRSixhQUFhSjtJQUMzQixNQUFNUyxPQUFPVixVQUFVQztJQUN2QixNQUFNVSxVQUFVZCxnQkFBZ0JhLEtBQUtFLEtBQUssQ0FBQyxHQUFHO0lBQzlDLE9BQU87UUFDTEMsUUFBUTtZQUNOSjtZQUNBRTtZQUNBRyxRQUFRZixxQkFBcUJTO1lBQzdCQTtRQUNGO1FBQ0FPLGFBQWFKLFVBQ1Q7WUFDRTtnQkFDRUg7Z0JBQ0FRLGFBQWE7Z0JBQ2JDLGFBQWE7Z0JBQ2JDLGNBQWNULFNBQVM7Z0JBQ3ZCVSxrQkFBa0JSO1lBQ3BCO1NBQ0QsR0FDRCxFQUFFO1FBQ05TLFVBQVUsRUFBRTtJQUNkO0FBQ0Y7QUFFQSxNQUFNQyxtQkFBbUI7SUFDdkIsYUFBYWQ7SUFDYixXQUFXQTtJQUNYLFlBQVlBO0lBQ1osa0JBQWtCQTtJQUNsQixXQUFXQTtJQUNYLFVBQVVBO0lBQ1YsUUFBUUE7SUFDUixlQUFlQTtBQUNqQjtBQUVBLE1BQU1lLG1CQUFtQixDQUFDZCxNQUFNLEVBQUU7SUFDaEMsTUFBTU0sU0FBU2YscUJBQXFCUztJQUNwQyxNQUFNZSxRQUFRQyxPQUFPQyxPQUFPLENBQUNKLGtCQUFrQkssSUFBSSxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxHQUFLYixPQUFPYyxRQUFRLENBQUNEO0lBQy9FLE9BQU9KLFFBQVFBLEtBQUssQ0FBQyxFQUFFLEdBQUdoQjtBQUM1QjtBQUVBLE1BQU1zQixrQkFBa0IsQ0FBQzVCLE9BQU8sRUFBRSxFQUFFTyxNQUFNLEVBQUU7SUFDMUMsTUFBTXNCLFlBQVlSLGlCQUFpQmQ7SUFDbkMsT0FBT3NCLFVBQVU3QixNQUFNTztBQUN6QjtBQUVBdUIsT0FBT0MsT0FBTyxHQUFHO0lBQ2ZIO0lBQ0F0QjtJQUNBYztBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvZXh0cmFjdG9ycy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHNhbml0aXplU25pcHBldCB9ID0gcmVxdWlyZShcIi4uL3V0aWxzL3Nhbml0aXplU25pcHBldFwiKTtcbmNvbnN0IHsgZXh0cmFjdERvbWFpbkZyb21VcmwgfSA9IHJlcXVpcmUoXCIuLi91dGlscy9ub3JtYWxpemVcIik7XG5cbmNvbnN0IHN0cmlwSHRtbCA9IChodG1sID0gXCJcIikgPT5cbiAgU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLzxzY3JpcHRbXFxzXFxTXSo/PFxcL3NjcmlwdD4vZ2ksIFwiIFwiKVxuICAgIC5yZXBsYWNlKC88c3R5bGVbXFxzXFxTXSo/PFxcL3N0eWxlPi9naSwgXCIgXCIpXG4gICAgLnJlcGxhY2UoLzxbXj5dKz4vZywgXCIgXCIpXG4gICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpXG4gICAgLnRyaW0oKTtcblxuY29uc3QgZXh0cmFjdFRpdGxlID0gKGh0bWwgPSBcIlwiKSA9PiB7XG4gIGNvbnN0IG1hdGNoID0gU3RyaW5nKGh0bWwpLm1hdGNoKC88dGl0bGU+KFtePF0rKTxcXC90aXRsZT4vaSk7XG4gIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnRyaW0oKSA6IFwiXCI7XG59O1xuXG5jb25zdCBnZW5lcmljRXh0cmFjdCA9IChodG1sID0gXCJcIiwgdXJsID0gXCJcIikgPT4ge1xuICBjb25zdCB0aXRsZSA9IGV4dHJhY3RUaXRsZShodG1sKTtcbiAgY29uc3QgdGV4dCA9IHN0cmlwSHRtbChodG1sKTtcbiAgY29uc3Qgc25pcHBldCA9IHNhbml0aXplU25pcHBldCh0ZXh0LnNsaWNlKDAsIDIwMCkpO1xuICByZXR1cm4ge1xuICAgIGZpZWxkczoge1xuICAgICAgdGl0bGUsXG4gICAgICBzbmlwcGV0LFxuICAgICAgZG9tYWluOiBleHRyYWN0RG9tYWluRnJvbVVybCh1cmwpLFxuICAgICAgdXJsXG4gICAgfSxcbiAgICBwcm9vZl9pdGVtczogc25pcHBldFxuICAgICAgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgc291cmNlX3R5cGU6IFwiZ2VuZXJpY1wiLFxuICAgICAgICAgICAgc2lnbmFsX3R5cGU6IFwic25pcHBldFwiLFxuICAgICAgICAgICAgc2lnbmFsX3ZhbHVlOiB0aXRsZSB8fCBcInBhZ2VcIixcbiAgICAgICAgICAgIGV2aWRlbmNlX3NuaXBwZXQ6IHNuaXBwZXRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIDogW10sXG4gICAgd2FybmluZ3M6IFtdXG4gIH07XG59O1xuXG5jb25zdCBkb21haW5FeHRyYWN0b3JzID0ge1xuICBcInlhbmRleC5ydVwiOiBnZW5lcmljRXh0cmFjdCxcbiAgXCIyZ2lzLnJ1XCI6IGdlbmVyaWNFeHRyYWN0LFxuICBcImF2aXRvLnJ1XCI6IGdlbmVyaWNFeHRyYWN0LFxuICBcIndpbGRiZXJyaWVzLnJ1XCI6IGdlbmVyaWNFeHRyYWN0LFxuICBcIm96b24ucnVcIjogZ2VuZXJpY0V4dHJhY3QsXG4gIFwidmsuY29tXCI6IGdlbmVyaWNFeHRyYWN0LFxuICBcInQubWVcIjogZ2VuZXJpY0V4dHJhY3QsXG4gIFwidGVsZWdyYW0ubWVcIjogZ2VuZXJpY0V4dHJhY3Rcbn07XG5cbmNvbnN0IHJlc29sdmVFeHRyYWN0b3IgPSAodXJsID0gXCJcIikgPT4ge1xuICBjb25zdCBkb21haW4gPSBleHRyYWN0RG9tYWluRnJvbVVybCh1cmwpO1xuICBjb25zdCBlbnRyeSA9IE9iamVjdC5lbnRyaWVzKGRvbWFpbkV4dHJhY3RvcnMpLmZpbmQoKFtrZXldKSA9PiBkb21haW4uaW5jbHVkZXMoa2V5KSk7XG4gIHJldHVybiBlbnRyeSA/IGVudHJ5WzFdIDogZ2VuZXJpY0V4dHJhY3Q7XG59O1xuXG5jb25zdCBleHRyYWN0RnJvbUh0bWwgPSAoaHRtbCA9IFwiXCIsIHVybCA9IFwiXCIpID0+IHtcbiAgY29uc3QgZXh0cmFjdG9yID0gcmVzb2x2ZUV4dHJhY3Rvcih1cmwpO1xuICByZXR1cm4gZXh0cmFjdG9yKGh0bWwsIHVybCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZXh0cmFjdEZyb21IdG1sLFxuICBnZW5lcmljRXh0cmFjdCxcbiAgZG9tYWluRXh0cmFjdG9yc1xufTtcbiJdLCJuYW1lcyI6WyJzYW5pdGl6ZVNuaXBwZXQiLCJyZXF1aXJlIiwiZXh0cmFjdERvbWFpbkZyb21VcmwiLCJzdHJpcEh0bWwiLCJodG1sIiwiU3RyaW5nIiwicmVwbGFjZSIsInRyaW0iLCJleHRyYWN0VGl0bGUiLCJtYXRjaCIsImdlbmVyaWNFeHRyYWN0IiwidXJsIiwidGl0bGUiLCJ0ZXh0Iiwic25pcHBldCIsInNsaWNlIiwiZmllbGRzIiwiZG9tYWluIiwicHJvb2ZfaXRlbXMiLCJzb3VyY2VfdHlwZSIsInNpZ25hbF90eXBlIiwic2lnbmFsX3ZhbHVlIiwiZXZpZGVuY2Vfc25pcHBldCIsIndhcm5pbmdzIiwiZG9tYWluRXh0cmFjdG9ycyIsInJlc29sdmVFeHRyYWN0b3IiLCJlbnRyeSIsIk9iamVjdCIsImVudHJpZXMiLCJmaW5kIiwia2V5IiwiaW5jbHVkZXMiLCJleHRyYWN0RnJvbUh0bWwiLCJleHRyYWN0b3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./extractors/index.js\n");

/***/ }),

/***/ "(rsc)/./lib/agents/platon.js":
/*!******************************!*\
  !*** ./lib/agents/platon.js ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst DEFAULT_WHAT_WE_SELL = \"Платформа автоматизации с ИИ-агентами для бизнеса (лидоген, поддержка, контент, аналитика, автоматизация процессов)\";\nconst { canonicalizeUrl } = __webpack_require__(/*! ./webClient.js */ \"(rsc)/./lib/agents/webClient.js\");\nconst { wrapAgentOutput, unwrapLegacy } = __webpack_require__(/*! ../../utils/agentEnvelope.js */ \"(rsc)/./utils/agentEnvelope.js\");\nconst { sanitizeSnippet } = __webpack_require__(/*! ../../utils/sanitizeSnippet.js */ \"(rsc)/./utils/sanitizeSnippet.js\");\nconst { applyBudget, applyBudgetMeta } = __webpack_require__(/*! ../../utils/budget.js */ \"(rsc)/./utils/budget.js\");\nconst { extractDomainFromUrl, makeDedupeKey, normalizePhone } = __webpack_require__(/*! ../../utils/normalize.js */ \"(rsc)/./utils/normalize.js\");\nconst { extractFromHtml } = __webpack_require__(/*! ../../extractors */ \"(rsc)/./extractors/index.js\");\nconst inputDefaults = {\n    mode: \"deep\",\n    industry_or_niche: \"\",\n    geo: \"\",\n    channel: \"Mixed\",\n    size: \"\",\n    what_we_sell: DEFAULT_WHAT_WE_SELL,\n    exclude_list: [],\n    min_confidence: 40,\n    target_count: null,\n    require_signals: true,\n    allow_placeholders_if_no_web: true,\n    has_web_access: true,\n    max_web_requests: null,\n    preferred_sources: [\n        \"WB\",\n        \"Ozon\",\n        \"Yandex\",\n        \"VK\",\n        \"Telegram\",\n        \"OfficialWebsite\"\n    ],\n    recency_days: 365,\n    allow_placeholders_if_blocked: true,\n    confidence_weights: {\n        fit_score: 0.45,\n        pain_score: 0.3,\n        signal_strength: 0.25\n    }\n};\nconst inputSchema = {\n    type: \"object\",\n    additionalProperties: false,\n    properties: {\n        mode: {\n            type: \"string\",\n            enum: [\n                \"quick\",\n                \"deep\",\n                \"continue\",\n                \"targets_only\",\n                \"segments_only\",\n                \"seed_only\",\n                \"refresh\"\n            ],\n            default: \"deep\"\n        },\n        industry_or_niche: {\n            type: \"string\",\n            default: \"\"\n        },\n        geo: {\n            type: \"string\",\n            default: \"\"\n        },\n        channel: {\n            type: \"string\",\n            enum: [\n                \"WB\",\n                \"Ozon\",\n                \"D2C\",\n                \"OfflineServices\",\n                \"B2B\",\n                \"Mixed\"\n            ],\n            default: \"Mixed\"\n        },\n        size: {\n            type: \"string\",\n            enum: [\n                \"micro\",\n                \"smb\",\n                \"mid\",\n                \"\"\n            ],\n            default: \"\"\n        },\n        what_we_sell: {\n            type: \"string\",\n            default: DEFAULT_WHAT_WE_SELL\n        },\n        exclude_list: {\n            type: \"array\",\n            items: {\n                type: \"string\"\n            },\n            default: []\n        },\n        min_confidence: {\n            type: \"number\",\n            default: 40\n        },\n        target_count: {\n            type: \"number\"\n        },\n        require_signals: {\n            type: \"boolean\",\n            default: true\n        },\n        allow_placeholders_if_no_web: {\n            type: \"boolean\",\n            default: true\n        },\n        has_web_access: {\n            type: \"boolean\",\n            default: true\n        },\n        max_web_requests: {\n            type: \"number\"\n        },\n        preferred_sources: {\n            type: \"array\",\n            items: {\n                type: \"string\"\n            },\n            default: [\n                \"WB\",\n                \"Ozon\",\n                \"Yandex\",\n                \"VK\",\n                \"Telegram\",\n                \"OfficialWebsite\"\n            ]\n        },\n        recency_days: {\n            type: \"number\",\n            default: 365\n        },\n        allow_placeholders_if_blocked: {\n            type: \"boolean\",\n            default: true\n        },\n        confidence_weights: {\n            type: \"object\",\n            properties: {\n                fit_score: {\n                    type: \"number\"\n                },\n                pain_score: {\n                    type: \"number\"\n                },\n                signal_strength: {\n                    type: \"number\"\n                }\n            }\n        }\n    },\n    required: [\n        \"mode\",\n        \"what_we_sell\"\n    ],\n    default: inputDefaults\n};\nconst outputSchema = {\n    type: \"object\",\n    required: [\n        \"segments\",\n        \"company_candidates\",\n        \"meta\"\n    ],\n    additionalProperties: false,\n    properties: {\n        segments: {\n            type: \"array\",\n            items: {\n                type: \"object\",\n                required: [\n                    \"segment_name\",\n                    \"geo\",\n                    \"avg_check_or_margin_estimate\",\n                    \"LPR\",\n                    \"pain_triggers\",\n                    \"why_agentos\",\n                    \"recommended_entry_offer\",\n                    \"typical_stack\",\n                    \"top_objections\",\n                    \"proof_ideas\",\n                    \"antiICP\",\n                    \"minimum_viable_signals\"\n                ],\n                additionalProperties: false,\n                properties: {\n                    segment_name: {\n                        type: \"string\"\n                    },\n                    geo: {\n                        type: \"string\"\n                    },\n                    avg_check_or_margin_estimate: {\n                        type: \"string\"\n                    },\n                    LPR: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    pain_triggers: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    why_agentos: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    recommended_entry_offer: {\n                        type: \"string\"\n                    },\n                    typical_stack: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    top_objections: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    proof_ideas: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    antiICP: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    },\n                    minimum_viable_signals: {\n                        type: \"array\",\n                        items: {\n                            type: \"string\"\n                        }\n                    }\n                }\n            }\n        },\n        company_candidates: {\n            type: \"array\",\n            items: {\n                type: \"object\",\n                required: [\n                    \"channel\",\n                    \"segment_match\",\n                    \"why_here\",\n                    \"next_step_message_angle\",\n                    \"source_notes\",\n                    \"first_offer\",\n                    \"expected_outcome\",\n                    \"required_access\",\n                    \"dedupe_key\",\n                    \"source_proof\",\n                    \"fit_score\"\n                ],\n                additionalProperties: true,\n                properties: {\n                    name: {\n                        type: \"string\"\n                    },\n                    link: {\n                        type: \"string\"\n                    },\n                    name_placeholder: {\n                        type: \"string\"\n                    },\n                    search_query: {\n                        type: \"string\"\n                    },\n                    channel: {\n                        type: \"string\"\n                    },\n                    segment_match: {\n                        type: \"string\"\n                    },\n                    why_here: {\n                        type: \"string\"\n                    },\n                    confidence: {\n                        type: \"number\"\n                    },\n                    confidence_estimate: {\n                        type: \"number\"\n                    },\n                    next_step_message_angle: {\n                        type: \"string\"\n                    },\n                    source_notes: {\n                        type: \"string\"\n                    },\n                    first_offer: {\n                        type: \"string\"\n                    },\n                    expected_outcome: {\n                        type: \"string\"\n                    },\n                    required_access: {\n                        type: \"string\"\n                    },\n                    low_quality: {\n                        type: \"boolean\"\n                    },\n                    estimate: {\n                        type: \"boolean\"\n                    },\n                    dedupe_key: {\n                        type: \"string\"\n                    },\n                    fit_score: {\n                        type: \"number\"\n                    },\n                    pain_score: {\n                        type: \"number\"\n                    },\n                    signal_strength: {\n                        type: \"number\"\n                    },\n                    proof_refs: {\n                        type: \"array\",\n                        items: {\n                            type: \"number\"\n                        }\n                    },\n                    why_here_proof_refs: {\n                        type: \"array\",\n                        items: {\n                            type: \"number\"\n                        }\n                    },\n                    source_proof: {\n                        type: \"array\",\n                        items: {\n                            type: \"object\",\n                            required: [\n                                \"url\",\n                                \"title\",\n                                \"evidence_snippet\",\n                                \"signal_type\"\n                            ],\n                            additionalProperties: false,\n                            properties: {\n                                url: {\n                                    type: \"string\"\n                                },\n                                title: {\n                                    type: \"string\"\n                                },\n                                evidence_snippet: {\n                                    type: \"string\"\n                                },\n                                signal_type: {\n                                    type: \"string\"\n                                },\n                                signal_value: {\n                                    type: [\n                                        \"string\",\n                                        \"number\"\n                                    ]\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        meta: {\n            type: \"object\",\n            required: [\n                \"generated_at\",\n                \"assumptions\",\n                \"limitations\",\n                \"marketplace_queries\",\n                \"yandex_queries\",\n                \"vk_tg_queries\",\n                \"rejected_candidates\",\n                \"web_stats\",\n                \"search_templates\",\n                \"search_plan\",\n                \"search_queries_used_by_segment\",\n                \"dedupe_report\",\n                \"next_manual_actions\"\n            ],\n            additionalProperties: false,\n            properties: {\n                generated_at: {\n                    type: \"string\"\n                },\n                assumptions: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                limitations: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                marketplace_queries: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                yandex_queries: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                vk_tg_queries: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                },\n                rejected_candidates: {\n                    type: \"array\",\n                    items: {\n                        type: \"object\",\n                        additionalProperties: false,\n                        required: [\n                            \"reason\"\n                        ],\n                        properties: {\n                            name: {\n                                type: \"string\"\n                            },\n                            link: {\n                                type: \"string\"\n                            },\n                            reason: {\n                                type: \"string\"\n                            }\n                        }\n                    }\n                },\n                web_stats: {\n                    type: \"object\",\n                    additionalProperties: false,\n                    required: [\n                        \"requests_made\",\n                        \"blocked_count\",\n                        \"errors_count\",\n                        \"duration_ms\",\n                        \"sources_used\",\n                        \"blocked_by_source\",\n                        \"fallback_used\",\n                        \"fallback_strategies_used\",\n                        \"top_errors\",\n                        \"warnings\"\n                    ],\n                    properties: {\n                        requests_made: {\n                            type: \"number\"\n                        },\n                        blocked_count: {\n                            type: \"number\"\n                        },\n                        errors_count: {\n                            type: \"number\"\n                        },\n                        duration_ms: {\n                            type: \"number\"\n                        },\n                        sources_used: {\n                            type: \"object\",\n                            additionalProperties: false,\n                            required: [\n                                \"yandex\",\n                                \"wb\",\n                                \"ozon\",\n                                \"vk\",\n                                \"tg\",\n                                \"websites\"\n                            ],\n                            properties: {\n                                yandex: {\n                                    type: \"number\"\n                                },\n                                wb: {\n                                    type: \"number\"\n                                },\n                                ozon: {\n                                    type: \"number\"\n                                },\n                                vk: {\n                                    type: \"number\"\n                                },\n                                tg: {\n                                    type: \"number\"\n                                },\n                                websites: {\n                                    type: \"number\"\n                                }\n                            }\n                        },\n                        blocked_by_source: {\n                            type: \"object\",\n                            additionalProperties: false,\n                            required: [\n                                \"yandex\",\n                                \"wb\",\n                                \"ozon\",\n                                \"vk\",\n                                \"tg\",\n                                \"websites\"\n                            ],\n                            properties: {\n                                yandex: {\n                                    type: \"number\"\n                                },\n                                wb: {\n                                    type: \"number\"\n                                },\n                                ozon: {\n                                    type: \"number\"\n                                },\n                                vk: {\n                                    type: \"number\"\n                                },\n                                tg: {\n                                    type: \"number\"\n                                },\n                                websites: {\n                                    type: \"number\"\n                                }\n                            }\n                        },\n                        fallback_used: {\n                            type: \"boolean\"\n                        },\n                        fallback_strategies_used: {\n                            type: \"array\",\n                            items: {\n                                type: \"string\"\n                            }\n                        },\n                        top_errors: {\n                            type: \"array\",\n                            items: {\n                                type: \"object\",\n                                additionalProperties: false,\n                                required: [\n                                    \"domain\",\n                                    \"code\",\n                                    \"count\"\n                                ],\n                                properties: {\n                                    domain: {\n                                        type: \"string\"\n                                    },\n                                    code: {\n                                        type: \"string\"\n                                    },\n                                    count: {\n                                        type: \"number\"\n                                    }\n                                }\n                            }\n                        },\n                        warnings: {\n                            type: \"array\",\n                            items: {\n                                type: \"string\"\n                            }\n                        }\n                    }\n                },\n                search_templates: {\n                    type: \"object\",\n                    additionalProperties: false,\n                    required: [\n                        \"marketplace_queries\",\n                        \"yandex_queries\",\n                        \"vk_tg_queries\"\n                    ],\n                    properties: {\n                        marketplace_queries: {\n                            type: \"array\",\n                            items: {\n                                type: \"string\"\n                            }\n                        },\n                        yandex_queries: {\n                            type: \"array\",\n                            items: {\n                                type: \"string\"\n                            }\n                        },\n                        vk_tg_queries: {\n                            type: \"array\",\n                            items: {\n                                type: \"string\"\n                            }\n                        }\n                    }\n                },\n                search_plan: {\n                    type: \"object\",\n                    additionalProperties: false,\n                    required: [\n                        \"queries_used\"\n                    ],\n                    properties: {\n                        queries_used: {\n                            type: \"array\",\n                            items: {\n                                type: \"string\"\n                            }\n                        }\n                    }\n                },\n                search_queries_used_by_segment: {\n                    type: \"array\",\n                    items: {\n                        type: \"object\",\n                        additionalProperties: false,\n                        required: [\n                            \"segment_name\",\n                            \"queries\"\n                        ],\n                        properties: {\n                            segment_name: {\n                                type: \"string\"\n                            },\n                            queries: {\n                                type: \"array\",\n                                items: {\n                                    type: \"string\"\n                                }\n                            }\n                        }\n                    }\n                },\n                dedupe_report: {\n                    type: \"object\",\n                    additionalProperties: false,\n                    required: [\n                        \"scanned_total\",\n                        \"kept_total\",\n                        \"removed_total\",\n                        \"removed_by_domain\",\n                        \"removed_by_inn\",\n                        \"removed_by_phone\"\n                    ],\n                    properties: {\n                        scanned_total: {\n                            type: \"number\"\n                        },\n                        kept_total: {\n                            type: \"number\"\n                        },\n                        removed_total: {\n                            type: \"number\"\n                        },\n                        removed_by_domain: {\n                            type: \"number\"\n                        },\n                        removed_by_inn: {\n                            type: \"number\"\n                        },\n                        removed_by_phone: {\n                            type: \"number\"\n                        }\n                    }\n                },\n                next_manual_actions: {\n                    type: \"array\",\n                    items: {\n                        type: \"string\"\n                    }\n                }\n            }\n        }\n    }\n};\nconst systemPrompt = `Ты — ИИ-агент: \"Платон — находит подходящие компании для продаж.\".\nРоль: production-ресёрчер по России/СНГ. Определяй ICP-сегменты и формируй список компаний-кандидатов для продаж на основе только публичных сигналов.\n\nОграничения:\n- Работай только с безопасными публичными сигналами.\n- Не запрашивай и не храни персональные данные.\n- ЛПР указывай ролями (владелец, директор по маркетингу, руководитель ecom).\n- Не выдумывай факты, компании и ссылки.\n- Соблюдай robots.txt; если доступ запрещен — не парси, помечай как blocked.\n\nПайплайн (детерминированный):\nA) Сегменты: сформируй 5-8 segments[].\nB) План поиска: Yandex queries, WB/Ozon discovery plan, VK/TG plan.\nC) Seed results: взять топ N результатов на каждый запрос.\nD) Enrichment: открыть 1-3 страницы кандидата, извлечь сигналы.\nE) Scoring & filtering: confidence по формуле, fit_score отдельно.\nF) Dedupe & exclude: исключить exclude_list/last_run.\nG) Финальный JSON.\n\nАнти-галлюцинации:\n- Каждый кандидат обязан иметь source_proof (2-4 доказательства): { url, title, evidence_snippet, signal_type }.\n- why_here и source_notes строятся только из source_proof.\n- Если require_signals=true и меньше 2 сигналов — кандидат в rejected_candidates.\n\nРежимы (input.mode): quick | deep | targets_only | segments_only | refresh.\n\nСкоринг confidence (cap 100):\n- есть витрина WB/Ozon / карточки товаров: +10\n- много отзывов (200+): +15\n- обновления/новые SKU/активный ассортимент: +10\n- конкурентная категория/много продавцов: +10\n- VK/TG постинг >= 2 раз в неделю: +10\n- вовлеченность (комменты/реакции): +10\n- Яндекс интенты \"купить/доставка/оптом/поставщик/цена\": +10\n- ops pain (заявки/CRM/колл-центр/логистика/отзывы/контент): +15\n\nPlaybook продукта:\n- WB/Ozon: автоответы на отзывы, оптимизация карточек, мониторинг конкурентов/цен, контроль остатков/логистики, поддержка в сообщениях, обработка оптовых заявок.\n- D2C: лидоген и квалификация, контент-план, поддержка/FAQ, возвраты/доставка, CRM-рутины.\n- Offline services: запись/расписание, обработка лидов, мессенджеры + колл-центр, напоминания, репутация/отзывы.\n- B2B: поиск лидов/тендеров, квалификация, КП, follow-ups, обновление CRM, отчеты.\n\nФормат:\n- segments[]: segment_name, geo, avg_check_or_margin_estimate (estimate), LPR, pain_triggers (3-6), why_agentos (2-4), recommended_entry_offer (3-7 дней), typical_stack, top_objections (3), proof_ideas.\n- company_candidates[]: name/link или placeholders (name_placeholder/search_query), channel, segment_match, why_here, confidence, fit_score, next_step_message_angle, source_notes, first_offer, expected_outcome (estimate), required_access, low_quality?, estimate?, dedupe_key, source_proof[].\n- meta: generated_at, assumptions, limitations, marketplace_queries, yandex_queries, vk_tg_queries, rejected_candidates, web_stats, search_templates, next_manual_actions.\n\nЕсли нет веб-доступа или источники заблокированы — placeholders допускаются только при allow_placeholders_if_blocked=true и с явной пометкой estimate.`;\nconst platonAgent = {\n    id: \"platon-prospect-research-ru\",\n    displayName: \"Платон — находит подходящие компании для продаж.\",\n    description: \"Определяет ICP-сегменты и формирует список компаний-кандидатов для продаж на основе безопасных публичных сигналов.\",\n    inputSchema,\n    outputSchema,\n    systemPrompt\n};\nconst MODES = new Set([\n    \"quick\",\n    \"deep\",\n    \"continue\",\n    \"targets_only\",\n    \"segments_only\",\n    \"seed_only\",\n    \"refresh\"\n]);\nconst CHANNELS = new Set([\n    \"WB\",\n    \"Ozon\",\n    \"D2C\",\n    \"OfflineServices\",\n    \"B2B\",\n    \"Mixed\"\n]);\nconst SIZES = new Set([\n    \"micro\",\n    \"smb\",\n    \"mid\",\n    \"\"\n]);\nconst SOURCES = new Set([\n    \"WB\",\n    \"Ozon\",\n    \"Yandex\",\n    \"VK\",\n    \"Telegram\",\n    \"OfficialWebsite\"\n]);\nconst resolveTargetCount = (mode, targetCount)=>{\n    if (typeof targetCount === \"number\" && Number.isFinite(targetCount) && targetCount > 0) {\n        return Math.round(targetCount);\n    }\n    return mode === \"quick\" ? 15 : 30;\n};\nconst resolveMaxRequests = (mode, maxRequests)=>{\n    if (typeof maxRequests === \"number\" && Number.isFinite(maxRequests) && maxRequests > 0) {\n        return Math.round(maxRequests);\n    }\n    return mode === \"quick\" ? 25 : 60;\n};\nconst normalizeInput = (input)=>{\n    const safe = typeof input === \"object\" && input !== null ? input : {};\n    const budget = safe.budget && typeof safe.budget === \"object\" ? safe.budget : null;\n    const mode = MODES.has(safe.mode) ? safe.mode : \"deep\";\n    const channel = CHANNELS.has(safe.channel) ? safe.channel : \"Mixed\";\n    const size = SIZES.has(safe.size) ? safe.size : \"\";\n    const preferredSources = Array.isArray(safe.preferred_sources) ? safe.preferred_sources.filter((item)=>SOURCES.has(item)) : [\n        \"WB\",\n        \"Ozon\",\n        \"Yandex\",\n        \"VK\",\n        \"Telegram\",\n        \"OfficialWebsite\"\n    ];\n    const excludeList = Array.isArray(safe.exclude_list) ? safe.exclude_list.filter((item)=>typeof item === \"string\" && item.trim()) : [];\n    const minConfidence = typeof safe.min_confidence === \"number\" && Number.isFinite(safe.min_confidence) ? Math.min(100, Math.max(0, safe.min_confidence)) : 40;\n    const rawWeights = safe.confidence_weights && typeof safe.confidence_weights === \"object\" ? safe.confidence_weights : {};\n    const parsedWeights = {\n        fit_score: typeof rawWeights.fit_score === \"number\" && Number.isFinite(rawWeights.fit_score) ? Math.max(0, rawWeights.fit_score) : 0.45,\n        pain_score: typeof rawWeights.pain_score === \"number\" && Number.isFinite(rawWeights.pain_score) ? Math.max(0, rawWeights.pain_score) : 0.3,\n        signal_strength: typeof rawWeights.signal_strength === \"number\" && Number.isFinite(rawWeights.signal_strength) ? Math.max(0, rawWeights.signal_strength) : 0.25\n    };\n    const totalWeight = parsedWeights.fit_score + parsedWeights.pain_score + parsedWeights.signal_strength;\n    const confidenceWeights = totalWeight > 0 ? {\n        fit_score: Number((parsedWeights.fit_score / totalWeight).toFixed(4)),\n        pain_score: Number((parsedWeights.pain_score / totalWeight).toFixed(4)),\n        signal_strength: Number((parsedWeights.signal_strength / totalWeight).toFixed(4))\n    } : {\n        fit_score: 0.45,\n        pain_score: 0.3,\n        signal_strength: 0.25\n    };\n    const targetCount = resolveTargetCount(mode, safe.target_count);\n    const maxRequests = resolveMaxRequests(mode, safe.max_web_requests);\n    const normalized = {\n        mode,\n        industry_or_niche: typeof safe.industry_or_niche === \"string\" ? safe.industry_or_niche : \"\",\n        geo: typeof safe.geo === \"string\" ? safe.geo : \"\",\n        channel,\n        size,\n        what_we_sell: typeof safe.what_we_sell === \"string\" && safe.what_we_sell.trim() ? safe.what_we_sell.trim() : DEFAULT_WHAT_WE_SELL,\n        exclude_list: excludeList,\n        min_confidence: minConfidence,\n        target_count: targetCount,\n        require_signals: typeof safe.require_signals === \"boolean\" ? safe.require_signals : true,\n        allow_placeholders_if_no_web: typeof safe.allow_placeholders_if_no_web === \"boolean\" ? safe.allow_placeholders_if_no_web : true,\n        has_web_access: typeof safe.has_web_access === \"boolean\" ? safe.has_web_access : true,\n        max_web_requests: maxRequests,\n        preferred_sources: preferredSources,\n        recency_days: typeof safe.recency_days === \"number\" && Number.isFinite(safe.recency_days) ? Math.max(1, Math.round(safe.recency_days)) : 365,\n        allow_placeholders_if_blocked: typeof safe.allow_placeholders_if_blocked === \"boolean\" ? safe.allow_placeholders_if_blocked : true,\n        confidence_weights: confidenceWeights\n    };\n    const budgetResult = applyBudget(normalized, budget, {\n        maxWebRequestsPath: [\n            \"max_web_requests\"\n        ],\n        maxItemsPaths: [\n            [\n                \"target_count\"\n            ]\n        ]\n    });\n    normalized.budget = budget;\n    normalized.budget_applied = budgetResult.budget_applied;\n    normalized.budget_warnings = budgetResult.warnings;\n    return normalized;\n};\nconst SIGNAL_LIBRARY = {\n    marketplace_storefront: {\n        label: \"есть витрина WB/Ozon\",\n        weight: 10,\n        type: \"marketplace\"\n    },\n    reviews_200: {\n        label: \"200+ отзывов\",\n        weight: 15,\n        type: \"marketplace\"\n    },\n    active_sku: {\n        label: \"активные обновления SKU\",\n        weight: 10,\n        type: \"marketplace\"\n    },\n    competitive_category: {\n        label: \"конкурентная категория\",\n        weight: 10,\n        type: \"marketplace\"\n    },\n    social_posting: {\n        label: \"VK/TG постинг 2+ в неделю\",\n        weight: 10,\n        type: \"social\"\n    },\n    social_engagement: {\n        label: \"вовлеченность в комментариях\",\n        weight: 10,\n        type: \"social\"\n    },\n    yandex_intent: {\n        label: \"Яндекс интенты купить/доставка/оптом/поставщик\",\n        weight: 10,\n        type: \"intent\"\n    },\n    ops_pain: {\n        label: \"много операционных процессов (CRM/колл-центр/логистика/контент)\",\n        weight: 15,\n        type: \"ops\"\n    }\n};\nconst scoreSignalStrength = (signalKeys)=>{\n    const score = signalKeys.reduce((total, key)=>{\n        const signal = SIGNAL_LIBRARY[key];\n        return total + (signal ? signal.weight : 0);\n    }, 0);\n    return Math.min(100, score);\n};\nconst scorePain = (signalKeys)=>{\n    let score = 20;\n    if (signalKeys.includes(\"ops_pain\")) score += 45;\n    if (signalKeys.includes(\"reviews_200\")) score += 10;\n    if (signalKeys.includes(\"social_engagement\")) score += 15;\n    if (signalKeys.includes(\"yandex_intent\")) score += 10;\n    return Math.min(100, score);\n};\nconst scoreConfidence = (fitScore, painScore, signalStrength, weights)=>{\n    const safe = weights && typeof weights === \"object\" ? weights : {};\n    const fitWeight = Number.isFinite(safe.fit_score) ? safe.fit_score : 0.45;\n    const painWeight = Number.isFinite(safe.pain_score) ? safe.pain_score : 0.3;\n    const signalWeight = Number.isFinite(safe.signal_strength) ? safe.signal_strength : 0.25;\n    const total = fitScore * fitWeight + painScore * painWeight + signalStrength * signalWeight;\n    return Math.max(0, Math.min(100, Math.round(total)));\n};\nconst painStrength = (signalKeys)=>{\n    return scorePain(signalKeys);\n};\nconst normalizeDedupeKey = (name = \"\", link = \"\")=>{\n    const normalizedName = typeof name === \"string\" ? name.trim() : \"\";\n    const normalizedLink = typeof link === \"string\" ? link.trim() : \"\";\n    const domain = extractDomainFromUrl(canonicalizeUrl(normalizedLink || \"\")) || extractDomainFromUrl(normalizedName);\n    return makeDedupeKey({\n        domain,\n        name: normalizedName\n    }, {\n        prefix: false\n    });\n};\nconst extractInnFromText = (text = \"\")=>{\n    const match = text.match(/ИНН\\s*(\\d{10,12})/i);\n    return match && match[1] ? match[1] : \"\";\n};\nconst extractPhoneFromText = (text = \"\")=>{\n    const match = text.match(/(\\+7|8)\\s?\\(?\\d{3}\\)?[\\s-]?\\d{3}[\\s-]?\\d{2}[\\s-]?\\d{2}/);\n    if (!match || !match[0]) return \"\";\n    return normalizePhone(match[0]);\n};\nconst isAggregator = (name = \"\")=>{\n    const lower = name.toLowerCase();\n    const keywords = [\n        \"каталог\",\n        \"агрегатор\",\n        \"список\",\n        \"топ\",\n        \"рейтинг\",\n        \"справочник\",\n        \"франшиз\",\n        \"каталоги\"\n    ];\n    return keywords.some((keyword)=>lower.includes(keyword));\n};\nconst segmentTemplates = [\n    {\n        key: \"mp-brands\",\n        channels: [\n            \"WB\",\n            \"Ozon\"\n        ],\n        segment_name: \"WB/Ozon бренд-селлеры с активным ассортиментом\",\n        avg_check_or_margin_estimate: \"Средний чек 1 200-3 500 ₽, маржа 20-35% (estimate)\",\n        LPR: [\n            \"владелец\",\n            \"руководитель ecom\",\n            \"директор по маркетингу\"\n        ],\n        pain_triggers: [\n            \"много отзывов и вопросов\",\n            \"контент не успевает за SKU\",\n            \"конкурентная категория\",\n            \"снижение конверсии карточек\"\n        ],\n        why_agentos: [\n            \"автоответы на отзывы и сообщения\",\n            \"генерация/оптимизация карточек\",\n            \"мониторинг конкурентов и цен\"\n        ],\n        recommended_entry_offer: \"3-7 дней: аудит 10 карточек + автоответы на отзывы\",\n        typical_stack: [\n            \"WB/Ozon кабинет\",\n            \"таблицы SKU\",\n            \"мессенджеры\"\n        ],\n        top_objections: [\n            \"у нас уже есть контент-менеджер\",\n            \"дорого\",\n            \"непонятно как внедрять\"\n        ],\n        proof_ideas: [\n            \"показать рост рейтинга/конверсии на 5-10 карточках\",\n            \"сравнить ответы на отзывы до/после\"\n        ],\n        antiICP: [\n            \"агрегаторы и рейтинги без собственного бренда\",\n            \"селлеры без ассортимента и без отзывов\",\n            \"проекты без публичных следов продаж\"\n        ],\n        minimum_viable_signals: [\n            \"есть витрина WB/Ozon\",\n            \"200+ отзывов или активный поток вопросов\",\n            \"признаки операционной нагрузки (логистика/контент/ответы)\"\n        ]\n    },\n    {\n        key: \"mp-niche\",\n        channels: [\n            \"WB\",\n            \"Ozon\"\n        ],\n        segment_name: \"Нишевые бренды на WB/Ozon с сильными отзывами\",\n        avg_check_or_margin_estimate: \"Средний чек 1 500-5 000 ₽, маржа 25-40% (estimate)\",\n        LPR: [\n            \"владелец\",\n            \"бренд-менеджер\",\n            \"руководитель ecom\"\n        ],\n        pain_triggers: [\n            \"зависимость от рейтинга\",\n            \"много SKU без поддержки\",\n            \"ручная работа с акциями\"\n        ],\n        why_agentos: [\n            \"мониторинг отзывов и конкурентов\",\n            \"контент для акций\",\n            \"контроль логистики и остатков\"\n        ],\n        recommended_entry_offer: \"3-5 дней: мониторинг отзывов + план улучшений по 1 категории\",\n        typical_stack: [\n            \"WB/Ozon\",\n            \"таблицы\",\n            \"чат поддержки\"\n        ],\n        top_objections: [\n            \"мы маленький бренд\",\n            \"нет ресурсов на внедрение\",\n            \"достаточно текущих инструментов\"\n        ],\n        proof_ideas: [\n            \"показать рост рейтинга после автоответов\",\n            \"быстрый контент-пакет под акции\"\n        ],\n        antiICP: [\n            \"one-product витрины без движения\",\n            \"пустые каталоги без отзывов\",\n            \"перепродажа без собственного бренда\"\n        ],\n        minimum_viable_signals: [\n            \"видна витрина и ассортимент\",\n            \"есть заметный объём отзывов/вопросов\",\n            \"видны изменения карточек/акций\"\n        ]\n    },\n    {\n        key: \"d2c\",\n        channels: [\n            \"D2C\"\n        ],\n        segment_name: \"D2C-бренды с собственным сайтом и активным контентом\",\n        avg_check_or_margin_estimate: \"Средний чек 2 000-8 000 ₽, маржа 30-50% (estimate)\",\n        LPR: [\n            \"владелец\",\n            \"директор по маркетингу\",\n            \"growth lead\"\n        ],\n        pain_triggers: [\n            \"дорогой лид и низкая конверсия\",\n            \"много входящих без обработки\",\n            \"нужен постоянный контент\"\n        ],\n        why_agentos: [\n            \"лидоген и квалификация\",\n            \"контент-план и FAQ\",\n            \"автоматизация CRM-рутин\"\n        ],\n        recommended_entry_offer: \"3-7 дней: лидоген-бот + автоответы на топ-20 вопросов\",\n        typical_stack: [\n            \"сайт\",\n            \"CRM\",\n            \"мессенджеры\"\n        ],\n        top_objections: [\n            \"у нас уже есть маркетолог\",\n            \"сложно внедрять\",\n            \"не нужен AI\"\n        ],\n        proof_ideas: [\n            \"показать рост скорости ответа\",\n            \"первые квалифицированные лиды за неделю\"\n        ],\n        antiICP: [\n            \"лендинги-визитки без заявок\",\n            \"проекты без входящего канала\",\n            \"компании без команды на обработку лидов\"\n        ],\n        minimum_viable_signals: [\n            \"есть сайт/форма/чат\",\n            \"есть входящие запросы или комментарии\",\n            \"видны повторяющиеся вопросы клиентов\"\n        ]\n    },\n    {\n        key: \"offline-services\",\n        channels: [\n            \"OfflineServices\"\n        ],\n        segment_name: \"Offline services: ремонт, мед, бьюти (3-20 точек)\",\n        avg_check_or_margin_estimate: \"Средний чек 2 500-15 000 ₽, маржа 25-45% (estimate)\",\n        LPR: [\n            \"владелец\",\n            \"управляющий\",\n            \"руководитель колл-центра\"\n        ],\n        pain_triggers: [\n            \"потеря заявок\",\n            \"много звонков и сообщений\",\n            \"репутация и отзывы\"\n        ],\n        why_agentos: [\n            \"запись/расписание\",\n            \"обработка лидов\",\n            \"напоминания и работа с отзывами\"\n        ],\n        recommended_entry_offer: \"3-5 дней: автообработка заявок + напоминания\",\n        typical_stack: [\n            \"мессенджеры\",\n            \"колл-центр\",\n            \"CRM/таблица\"\n        ],\n        top_objections: [\n            \"у нас администратор справляется\",\n            \"не хотим менять процессы\",\n            \"дорого\"\n        ],\n        proof_ideas: [\n            \"снижение пропущенных заявок\",\n            \"скорость записи и ответа\"\n        ],\n        antiICP: [\n            \"одиночные мастера без нагрузки\",\n            \"точки без онлайн-контактов\",\n            \"бизнесы без отзывов и расписания\"\n        ],\n        minimum_viable_signals: [\n            \"есть запись/телефон/мессенджер\",\n            \"видна операционная боль по отзывам\",\n            \"есть регулярный поток обращений\"\n        ]\n    },\n    {\n        key: \"b2b\",\n        channels: [\n            \"B2B\"\n        ],\n        segment_name: \"B2B подрядчики: логистика, производство, IT-аутсорс\",\n        avg_check_or_margin_estimate: \"Средний чек 150 000-2 000 000 ₽, маржа 15-35% (estimate)\",\n        LPR: [\n            \"генеральный директор\",\n            \"директор по развитию\",\n            \"коммерческий директор\"\n        ],\n        pain_triggers: [\n            \"длинный цикл сделки\",\n            \"много типовых запросов\",\n            \"ручная подготовка КП\"\n        ],\n        why_agentos: [\n            \"поиск лидов/тендеров\",\n            \"квалификация и КП\",\n            \"follow-ups и отчеты\"\n        ],\n        recommended_entry_offer: \"5-7 дней: авто-скрининг лидов + шаблоны КП\",\n        typical_stack: [\n            \"CRM\",\n            \"почта\",\n            \"таблицы/BI\"\n        ],\n        top_objections: [\n            \"длинный цикл внедрения\",\n            \"слабый ROI\",\n            \"нет времени\"\n        ],\n        proof_ideas: [\n            \"первые КП за 48 часов\",\n            \"сокращение времени на пресейл\"\n        ],\n        antiICP: [\n            \"компании без B2B-цикла и КП\",\n            \"без явного коммерческого процесса\",\n            \"нет входящего потока запросов\"\n        ],\n        minimum_viable_signals: [\n            \"есть B2B-оффер/услуги\",\n            \"видны типовые запросы/брифы\",\n            \"есть канал для КП/follow-up\"\n        ]\n    },\n    {\n        key: \"local-retail\",\n        channels: [\n            \"OfflineServices\"\n        ],\n        segment_name: \"Локальные сети retail/food 3-15 точек\",\n        avg_check_or_margin_estimate: \"Средний чек 700-2 500 ₽, маржа 15-30% (estimate)\",\n        LPR: [\n            \"собственник\",\n            \"операционный директор\",\n            \"маркетолог\"\n        ],\n        pain_triggers: [\n            \"нет единой CRM\",\n            \"ручные ответы на отзывы\",\n            \"сложно масштабировать контент\"\n        ],\n        why_agentos: [\n            \"единый канал заявок\",\n            \"автоответы на отзывы\",\n            \"контент для локальных акций\"\n        ],\n        recommended_entry_offer: \"3-5 дней: единый канал отзывов + шаблоны ответов\",\n        typical_stack: [\n            \"карты/отзывы\",\n            \"мессенджеры\",\n            \"таблицы\"\n        ],\n        top_objections: [\n            \"мы маленькая сеть\",\n            \"нет времени\",\n            \"нет бюджета\"\n        ],\n        proof_ideas: [\n            \"рост рейтинга на картах\",\n            \"сокращение времени ответа\"\n        ],\n        antiICP: [\n            \"точки без отзывов и карточек\",\n            \"бизнесы без повторного спроса\",\n            \"локальные проекты без контактов\"\n        ],\n        minimum_viable_signals: [\n            \"есть карточки на картах/каталогах\",\n            \"есть отзывы или обращения\",\n            \"есть хотя бы один цифровой канал связи\"\n        ]\n    }\n];\nconst CHANNEL_CATEGORIES = {\n    WB: [\n        \"косметика\",\n        \"товары для дома\",\n        \"детские товары\",\n        \"электроника\",\n        \"одежда\",\n        \"спорт и отдых\"\n    ],\n    Ozon: [\n        \"уход за домом\",\n        \"красота\",\n        \"детские товары\",\n        \"электроника\",\n        \"одежда\",\n        \"аксессуары\"\n    ],\n    D2C: [\n        \"товары для дома\",\n        \"косметика\",\n        \"здоровье\",\n        \"еда и напитки\"\n    ],\n    OfflineServices: [\n        \"ремонт\",\n        \"медицина\",\n        \"бьюти\",\n        \"фитнес\"\n    ],\n    B2B: [\n        \"логистика\",\n        \"контрактное производство\",\n        \"IT-аутсорс\",\n        \"склад\"\n    ],\n    Mixed: [\n        \"косметика\",\n        \"товары для дома\",\n        \"детские товары\",\n        \"логистика\"\n    ]\n};\nconst SIGNAL_PRESETS = {\n    WB: [\n        \"marketplace_storefront\",\n        \"reviews_200\",\n        \"active_sku\",\n        \"competitive_category\",\n        \"ops_pain\"\n    ],\n    Ozon: [\n        \"marketplace_storefront\",\n        \"reviews_200\",\n        \"active_sku\",\n        \"competitive_category\",\n        \"ops_pain\"\n    ],\n    D2C: [\n        \"reviews_200\",\n        \"social_posting\",\n        \"social_engagement\",\n        \"yandex_intent\",\n        \"ops_pain\"\n    ],\n    OfflineServices: [\n        \"reviews_200\",\n        \"yandex_intent\",\n        \"social_posting\",\n        \"social_engagement\",\n        \"ops_pain\"\n    ],\n    B2B: [\n        \"reviews_200\",\n        \"yandex_intent\",\n        \"ops_pain\",\n        \"social_posting\"\n    ],\n    Mixed: [\n        \"yandex_intent\",\n        \"social_posting\",\n        \"ops_pain\"\n    ]\n};\nconst INTENT_KEYWORDS = [\n    \"купить\",\n    \"доставка\",\n    \"оптом\",\n    \"поставщик\",\n    \"цена\"\n];\nconst SERVICE_KEYWORDS = [\n    \"ремонт\",\n    \"клиник\",\n    \"мед\",\n    \"бьюти\",\n    \"салон\",\n    \"фитнес\",\n    \"услуг\",\n    \"запись\",\n    \"стоматолог\",\n    \"ветеринар\"\n];\nconst B2B_KEYWORDS = [\n    \"логист\",\n    \"производ\",\n    \"аутсорс\",\n    \"b2b\",\n    \"тендер\",\n    \"контракт\",\n    \"склад\",\n    \"опт\"\n];\nconst OPS_KEYWORDS = [\n    \"crm\",\n    \"заявк\",\n    \"колл-центр\",\n    \"коллцентр\",\n    \"логист\",\n    \"доставк\",\n    \"контент\",\n    \"поддержк\",\n    \"чат\",\n    \"заказ\",\n    \"обработка\"\n];\nconst buildSegments = (input)=>{\n    const geo = input.geo && input.geo.trim() ? input.geo.trim() : \"Россия\";\n    let segments = segmentTemplates;\n    if (input.channel && input.channel !== \"Mixed\") {\n        const filtered = segmentTemplates.filter((segment)=>segment.channels.includes(input.channel));\n        if (filtered.length > 0) {\n            segments = filtered;\n        }\n    }\n    return segments.slice(0, 6).map((segment)=>({\n            segment_name: segment.segment_name,\n            geo,\n            avg_check_or_margin_estimate: segment.avg_check_or_margin_estimate,\n            LPR: segment.LPR,\n            pain_triggers: segment.pain_triggers,\n            why_agentos: segment.why_agentos,\n            recommended_entry_offer: segment.recommended_entry_offer,\n            typical_stack: segment.typical_stack,\n            top_objections: segment.top_objections,\n            proof_ideas: segment.proof_ideas,\n            antiICP: segment.antiICP,\n            minimum_viable_signals: segment.minimum_viable_signals\n        }));\n};\nconst buildSearchQuery = (channel, category, geo)=>{\n    const geoPart = geo ? ` ${geo}` : \"\";\n    if (channel === \"WB\") {\n        return `site:wildberries.ru ${category}${geoPart} отзывы 200+ бренд`;\n    }\n    if (channel === \"Ozon\") {\n        return `site:ozon.ru ${category}${geoPart} бренд каталог отзывы`;\n    }\n    if (channel === \"D2C\") {\n        return `${category}${geoPart} официальный сайт бренд отзывы`;\n    }\n    if (channel === \"OfflineServices\") {\n        return `${category}${geoPart} услуги отзывы запись`;\n    }\n    if (channel === \"B2B\") {\n        return `${category}${geoPart} поставщик услуги для бизнеса`;\n    }\n    return `${category}${geoPart} бренд отзывы`;\n};\nconst pickTopSignals = (signalKeys)=>{\n    return [\n        ...new Set(signalKeys)\n    ].map((key)=>({\n            key,\n            weight: SIGNAL_LIBRARY[key]?.weight ?? 0\n        })).sort((a, b)=>b.weight - a.weight).map((item)=>item.key).slice(0, 3);\n};\nconst buildSignalNotes = (signalKeys)=>{\n    const signals = signalKeys.map((key)=>SIGNAL_LIBRARY[key]?.label).filter(Boolean);\n    return {\n        why_here: `Критерии: ${signals.slice(0, 3).join(\"; \")}.`,\n        source_notes: `Публичные сигналы для проверки: ${signals.slice(0, 3).join(\"; \")}.`\n    };\n};\nconst buildCandidate = ({ channel, segmentName, category, geo, signalKeys, confidenceWeights, first_offer, expected_outcome, required_access, next_step_message_angle })=>{\n    const signals = pickTopSignals(signalKeys);\n    const fitScore = scoreFit(signals, channel, segmentName);\n    const painScore = scorePain(signals);\n    const signalStrength = scoreSignalStrength(signals);\n    const confidence = scoreConfidence(fitScore, painScore, signalStrength, confidenceWeights);\n    const searchQuery = buildSearchQuery(channel, category, geo);\n    const evidence = signals.map((signal)=>({\n            url: buildSearchUrl(searchQuery, \"yandex\"),\n            title: \"Search template\",\n            evidence_snippet: clipSnippet(`Проверить: ${SIGNAL_LIBRARY[signal]?.label || signal}`, 160),\n            signal_type: signal,\n            signal_value: SIGNAL_LIBRARY[signal]?.label || signal\n        }));\n    const notes = buildWhyHereAndNotes(evidence);\n    const namePlaceholder = `${channel} ${category} бренд`;\n    return {\n        name: \"\",\n        link: \"\",\n        name_placeholder: namePlaceholder,\n        search_query: searchQuery,\n        channel,\n        segment_match: segmentName,\n        why_here: notes.why_here,\n        why_here_proof_refs: notes.why_here_proof_refs,\n        proof_refs: notes.proof_refs,\n        confidence,\n        confidence_estimate: confidence,\n        next_step_message_angle,\n        source_notes: notes.source_notes,\n        first_offer,\n        expected_outcome,\n        required_access,\n        fit_score: fitScore,\n        pain_score: painScore,\n        signal_strength: signalStrength,\n        estimate: true,\n        dedupe_key: normalizeDedupeKey(namePlaceholder, \"\"),\n        source_proof: evidence.slice(0, 3),\n        _dedupe_components: {\n            domain: \"\",\n            inn: \"\",\n            phone: \"\"\n        }\n    };\n};\nconst buildCandidates = (segments, input, limit)=>{\n    const candidates = [];\n    const excludeKeys = new Set((input.exclude_list || []).map((item)=>normalizeDedupeKey(item, item)));\n    const channels = input.channel === \"Mixed\" ? [\n        \"WB\",\n        \"Ozon\",\n        \"D2C\",\n        \"OfflineServices\",\n        \"B2B\"\n    ] : [\n        input.channel\n    ];\n    const geo = input.geo && input.geo.trim() ? input.geo.trim() : \"\";\n    const targetCount = typeof limit === \"number\" ? limit : input.target_count;\n    const nicheOverride = input.industry_or_niche && input.industry_or_niche.trim() ? input.industry_or_niche.trim() : \"\";\n    let index = 0;\n    while(candidates.length < targetCount && index < 80){\n        const channel = channels[index % channels.length];\n        const segment = segments[index % segments.length];\n        const categoryPool = CHANNEL_CATEGORIES[channel] || CHANNEL_CATEGORIES.Mixed;\n        const category = nicheOverride || categoryPool[index % categoryPool.length];\n        const signalPreset = SIGNAL_PRESETS[channel] || SIGNAL_PRESETS.Mixed;\n        const candidate = buildCandidate({\n            channel,\n            segmentName: segment.segment_name,\n            category,\n            geo,\n            signalKeys: signalPreset,\n            confidenceWeights: input.confidence_weights,\n            first_offer: segment.recommended_entry_offer,\n            expected_outcome: \"Сокращение времени ответа и рост конверсии на 10-25% (estimate)\",\n            required_access: channel === \"B2B\" ? \"CRM, почта, шаблоны КП, список услуг\" : channel === \"OfflineServices\" ? \"заявки/расписание, мессенджеры, отзывы\" : channel === \"D2C\" ? \"CRM, сайт, мессенджеры/почта\" : \"кабинет маркетплейса, отзывы, карточки SKU\",\n            next_step_message_angle: \"Предложить быстрый пилот на 3-7 дней и показать измеримый результат.\"\n        });\n        const dedupeKey = candidate.dedupe_key;\n        if (!dedupeKey || excludeKeys.has(dedupeKey) || isAggregator(candidate.name_placeholder)) {\n            index += 1;\n            continue;\n        }\n        excludeKeys.add(dedupeKey);\n        candidates.push(candidate);\n        index += 1;\n    }\n    return candidates;\n};\nconst applyLastRun = (input, lastRun, options)=>{\n    const enriched = {\n        ...input\n    };\n    if (!lastRun || typeof lastRun !== \"object\") return enriched;\n    const lastData = unwrapLegacy(lastRun);\n    const prevCandidates = Array.isArray(lastData.company_candidates) ? lastData.company_candidates : [];\n    const prevKeys = prevCandidates.map((item)=>{\n        if (!item || typeof item !== \"object\") return \"\";\n        const name = item.name || item.name_placeholder || \"\";\n        const link = item.link || \"\";\n        const key = item.dedupe_key || normalizeDedupeKey(name, link);\n        return key;\n    }).filter(Boolean);\n    const prevLinks = prevCandidates.map((item)=>{\n        if (!item || typeof item !== \"object\") return \"\";\n        return typeof item.link === \"string\" ? item.link : \"\";\n    }).filter(Boolean);\n    const shouldRefresh = input.mode === \"refresh\" || input.exclude_list.length === 0;\n    if (shouldRefresh) {\n        enriched.exclude_list = [\n            ...new Set([\n                ...enriched.exclude_list,\n                ...prevKeys,\n                ...prevLinks\n            ])\n        ];\n    }\n    if (options && options.continue) {\n        const prevCount = prevCandidates.length;\n        const desiredTotal = typeof enriched.target_count === \"number\" && enriched.target_count > 0 ? enriched.target_count : prevCount + 20;\n        const additional = Math.max(1, desiredTotal - prevCount);\n        enriched.target_count = additional;\n        enriched.exclude_list = [\n            ...new Set([\n                ...enriched.exclude_list,\n                ...prevKeys,\n                ...prevLinks\n            ])\n        ];\n    }\n    return enriched;\n};\nconst buildSearchTemplates = (input)=>{\n    const niche = input.industry_or_niche || \"товары\";\n    const geo = input.geo || \"Россия\";\n    const marketplaceQueries = [\n        `site:wildberries.ru ${niche} бренд`,\n        `site:wildberries.ru ${niche} отзывы 200+`,\n        `site:ozon.ru ${niche} бренд`,\n        `site:ozon.ru ${niche} отзывы 200+`,\n        `wildberries ${niche} новинки`,\n        `ozon ${niche} популярные`\n    ];\n    const yandexQueries = [\n        `${niche} ${geo} купить`,\n        `${niche} ${geo} доставка`,\n        `${niche} оптом поставщик`,\n        `${niche} цена`,\n        `${niche} официальный сайт`,\n        `${niche} отзывы`,\n        `поставщик ${niche} ${geo}`,\n        `дистрибьютор ${niche}`,\n        `${niche} контрактное производство`,\n        `${niche} b2b услуги`\n    ];\n    const vkTgQueries = [\n        `site:vk.com ${niche} бренд`,\n        `site:vk.com ${niche} услуги`,\n        `site:vk.com ${niche} отзывы`,\n        `site:t.me ${niche} канал`,\n        `site:t.me ${niche} бренд`,\n        `${niche} скидки VK`,\n        `${niche} акции Telegram`,\n        `${niche} оптом VK`\n    ];\n    return {\n        marketplaceQueries,\n        yandexQueries,\n        vkTgQueries\n    };\n};\nconst buildFallbackQueries = (input)=>{\n    const niche = input.industry_or_niche || \"товары\";\n    const geo = input.geo || \"Россия\";\n    return [\n        `site:ozon.ru ${niche} бренд`,\n        `site:wildberries.ru ${niche} бренд`,\n        `site:vk.com ${niche} магазин ${geo}`,\n        `site:t.me ${niche} магазин`,\n        `${niche} ${geo} официальный сайт`,\n        `${niche} ${geo} отзывы`\n    ];\n};\nconst buildSearchUrl = (query, engine)=>engine === \"duck\" ? `https://duckduckgo.com/html/?q=${encodeURIComponent(query)}` : `https://yandex.ru/search/?text=${encodeURIComponent(query)}`;\nconst isIntentQuery = (query)=>{\n    const lower = query.toLowerCase();\n    return INTENT_KEYWORDS.some((keyword)=>lower.includes(keyword));\n};\nconst buildSearchPlan = (input, templates)=>{\n    const plan = [];\n    const limit = input.mode === \"quick\" ? 4 : 7;\n    const preferred = new Set(input.preferred_sources);\n    const pushQueries = (queries, source)=>{\n        queries.slice(0, limit).forEach((query)=>{\n            plan.push({\n                query,\n                source,\n                engine: \"yandex\",\n                intent: isIntentQuery(query)\n            });\n        });\n    };\n    if (preferred.has(\"WB\") || preferred.has(\"Ozon\")) {\n        pushQueries(templates.marketplaceQueries, \"marketplace\");\n    }\n    if (preferred.has(\"Yandex\") || preferred.has(\"OfficialWebsite\") || plan.length === 0) {\n        pushQueries(templates.yandexQueries, \"yandex\");\n    }\n    if (preferred.has(\"VK\") || preferred.has(\"Telegram\")) {\n        pushQueries(templates.vkTgQueries, \"social\");\n    }\n    const deduped = [];\n    const seen = new Set();\n    for (const item of plan){\n        const key = item.query.toLowerCase();\n        if (seen.has(key)) continue;\n        seen.add(key);\n        deduped.push(item);\n    }\n    return deduped;\n};\nconst collectSearchResults = async (webClient, plan, options = {})=>{\n    const results = [];\n    const limitPerQuery = options.limitPerQuery ?? 4;\n    const maxSeeds = options.maxSeeds ?? 80;\n    const stats = options.stats;\n    for (const item of plan){\n        if (results.length >= maxSeeds) break;\n        if (stats) stats.sources_used.yandex += 1;\n        try {\n            const found = await webClient.search(item.query, item.engine, limitPerQuery);\n            found.forEach((result)=>{\n                results.push({\n                    ...result,\n                    query: item.query,\n                    engine: item.engine,\n                    intent: item.intent,\n                    source_url: result.source_url || buildSearchUrl(item.query, item.engine)\n                });\n            });\n        } catch (error) {\n            if (error && error.message === \"WEB_REQUEST_LIMIT\") break;\n        }\n    }\n    return results.slice(0, maxSeeds);\n};\nconst guessChannelFromQuery = (query)=>{\n    const lower = query.toLowerCase();\n    if (B2B_KEYWORDS.some((keyword)=>lower.includes(keyword))) return \"B2B\";\n    if (SERVICE_KEYWORDS.some((keyword)=>lower.includes(keyword))) return \"OfflineServices\";\n    return \"D2C\";\n};\nconst deriveChannelFromUrl = (url, input, query)=>{\n    try {\n        const host = new URL(url).hostname.toLowerCase();\n        if (host.includes(\"wildberries\")) return \"WB\";\n        if (host.includes(\"ozon\")) return \"Ozon\";\n        if (input.channel && input.channel !== \"Mixed\") return input.channel;\n        if (host.includes(\"vk.com\") || host.includes(\"t.me\") || host.includes(\"telegram.me\")) {\n            return guessChannelFromQuery(query);\n        }\n        return guessChannelFromQuery(query);\n    } catch  {\n        return input.channel && input.channel !== \"Mixed\" ? input.channel : \"D2C\";\n    }\n};\nconst classifySource = (url)=>{\n    try {\n        const host = new URL(url).hostname.toLowerCase();\n        if (host.includes(\"yandex\")) return \"yandex\";\n        if (host.includes(\"wildberries\")) return \"wb\";\n        if (host.includes(\"ozon\")) return \"ozon\";\n        if (host.includes(\"vk.com\")) return \"vk\";\n        if (host.includes(\"t.me\") || host.includes(\"telegram.me\")) return \"tg\";\n    } catch  {\n    // ignore\n    }\n    return \"websites\";\n};\nconst pickSegmentMatch = (channel, segments)=>{\n    if (!segments.length) return \"\";\n    const template = segmentTemplates.find((segment)=>segment.channels.includes(channel));\n    if (template) {\n        const match = segments.find((segment)=>segment.segment_name === template.segment_name);\n        if (match) return match.segment_name;\n    }\n    return segments[0].segment_name;\n};\nconst cleanTitle = (title = \"\")=>{\n    let name = title.trim();\n    if (!name) return \"\";\n    name = name.replace(/\\s*[–|-|\\|]\\s*(Wildberries|Ozon|VK|Telegram).*$/i, \"\");\n    name = name.replace(/\\s*[–|-|\\|]\\s*официальный сайт.*$/i, \"\");\n    name = name.replace(/\\s*[–|-|\\|]\\s*каталог.*$/i, \"\");\n    return name.trim();\n};\nconst sanitizeEvidenceSnippet = (text, max = 160)=>sanitizeSnippet(text, max);\nconst clipSnippet = (text, max = 160)=>sanitizeSnippet(text, max);\nconst findSnippet = (text, regex)=>{\n    const match = regex.exec(text);\n    if (!match || match.index === undefined) return \"\";\n    const start = Math.max(0, match.index - 60);\n    const end = Math.min(text.length, match.index + match[0].length + 60);\n    return clipSnippet(text.slice(start, end));\n};\nconst extractNumberSignal = (text, regex, minValue)=>{\n    let match;\n    let best = null;\n    while(match = regex.exec(text)){\n        const value = Number(match[1]);\n        if (!Number.isFinite(value)) continue;\n        if (value >= minValue && (!best || value > best.value)) {\n            best = {\n                value,\n                index: match.index,\n                match: match[0]\n            };\n        }\n    }\n    return best;\n};\nconst extractSignalsFromPage = (page, recencyDays = 365)=>{\n    const signalKeys = new Set();\n    const evidence = [];\n    const title = page.title || page.url;\n    const text = page.text || \"\";\n    const lower = text.toLowerCase();\n    const currentYear = new Date().getFullYear();\n    const minYear = currentYear - Math.max(0, Math.floor(recencyDays / 365));\n    const yearMatches = text.match(/20\\\\d{2}/g) || [];\n    const latestYear = yearMatches.reduce((max, value)=>Math.max(max, Number(value)), 0);\n    const recencyOk = latestYear === 0 || latestYear >= minYear;\n    const addEvidence = (signalType, snippet, signalValue)=>{\n        if (!snippet) return;\n        if (signalKeys.has(signalType)) return;\n        signalKeys.add(signalType);\n        evidence.push({\n            url: page.url,\n            title,\n            evidence_snippet: clipSnippet(snippet),\n            signal_type: signalType,\n            signal_value: signalValue\n        });\n    };\n    try {\n        const host = new URL(page.url).hostname.toLowerCase();\n        if (host.includes(\"wildberries\") || host.includes(\"ozon\")) {\n            addEvidence(\"marketplace_storefront\", title || page.url, title || page.url);\n        }\n    } catch  {\n    // ignore\n    }\n    const reviewMatch = extractNumberSignal(text, /(\\d{2,6})\\s*(отзыв|reviews?)/gi, 200);\n    if (reviewMatch) {\n        const snippet = findSnippet(text, new RegExp(reviewMatch.match, \"i\"));\n        addEvidence(\"reviews_200\", snippet || `reviews: ${reviewMatch.value}`, reviewMatch.value);\n    }\n    const skuMatch = extractNumberSignal(text, /(\\d{2,6})\\s*(товар|sku|items|products)/gi, 50);\n    if (skuMatch) {\n        const snippet = findSnippet(text, new RegExp(skuMatch.match, \"i\"));\n        addEvidence(\"active_sku\", snippet || `products: ${skuMatch.value}`, skuMatch.value);\n    } else if (lower.includes(\"новинк\")) {\n        addEvidence(\"active_sku\", findSnippet(text, /новинк/gi) || \"новинки\", \"новинки\");\n    }\n    if (/(популярн|хит|топ продаж|бестселлер)/i.test(text)) {\n        addEvidence(\"competitive_category\", findSnippet(text, /(популярн|хит|топ продаж|бестселлер)/i), \"competitive\");\n    }\n    if (recencyOk && (/(vk\\\\.com|t\\\\.me|telegram\\\\.me)/i.test(page.url) || lower.includes(\"подписчик\"))) {\n        if (/(пост|публикац)/i.test(text) && /(\\\\d+)\\\\s*(час|дн|нед)/i.test(text)) {\n            addEvidence(\"social_posting\", findSnippet(text, /(пост|публикац).{0,40}(\\\\d+\\\\s*(час|дн|нед))/i), \"posts_recent\");\n        }\n        if (/(коммент|реакц|лайк|просмотр|подписчик)/i.test(text)) {\n            addEvidence(\"social_engagement\", findSnippet(text, /(коммент|реакц|лайк|просмотр|подписчик)/i), \"engagement\");\n        }\n    }\n    const opsKeyword = OPS_KEYWORDS.find((keyword)=>lower.includes(keyword));\n    if (opsKeyword) {\n        addEvidence(\"ops_pain\", findSnippet(text, new RegExp(opsKeyword, \"i\")), opsKeyword);\n    }\n    return {\n        signalKeys: [\n            ...signalKeys\n        ],\n        evidence\n    };\n};\nconst scoreFit = (signalKeys, channel, segmentMatch)=>{\n    let score = 40;\n    if (segmentMatch) score += 10;\n    if (signalKeys.includes(\"ops_pain\")) score += 20;\n    if (signalKeys.includes(\"marketplace_storefront\") && (channel === \"WB\" || channel === \"Ozon\")) {\n        score += 10;\n    }\n    if (signalKeys.includes(\"social_engagement\")) score += 10;\n    if (signalKeys.includes(\"yandex_intent\")) score += 5;\n    if (signalKeys.includes(\"social_posting\")) score += 5;\n    if (signalKeys.includes(\"reviews_200\")) score += 5;\n    return Math.min(100, score);\n};\nconst buildWhyHereAndNotes = (evidence)=>{\n    const indexed = evidence.map((item, index)=>({\n            index,\n            snippet: sanitizeEvidenceSnippet(item.evidence_snippet || \"\", 160)\n        })).filter((item)=>isNonEmptyString(item.snippet));\n    const whyItems = indexed.slice(0, 2);\n    const sourceItems = indexed.slice(0, 3);\n    return {\n        why_here: whyItems.map((item)=>item.snippet).join(\" | \"),\n        source_notes: sourceItems.map((item)=>item.snippet).join(\" | \"),\n        why_here_proof_refs: whyItems.map((item)=>item.index),\n        proof_refs: sourceItems.map((item)=>item.index)\n    };\n};\nconst buildExpectedOutcome = (channel)=>{\n    if (channel === \"WB\" || channel === \"Ozon\") {\n        return \"Рост рейтинга карточек и скорости ответа на отзывы на 10-20% (estimate)\";\n    }\n    if (channel === \"OfflineServices\") {\n        return \"Сокращение пропущенных заявок и времени ответа на 20-30% (estimate)\";\n    }\n    if (channel === \"B2B\") {\n        return \"Сокращение времени пресейла и подготовки КП на 20-35% (estimate)\";\n    }\n    return \"Рост конверсии лидов и скорости ответа на 10-25% (estimate)\";\n};\nconst buildRequiredAccess = (channel)=>{\n    if (channel === \"B2B\") return \"CRM, почта, шаблоны КП, список услуг\";\n    if (channel === \"OfflineServices\") return \"заявки/расписание, мессенджеры, отзывы\";\n    if (channel === \"D2C\") return \"CRM, сайт, мессенджеры/почта\";\n    return \"кабинет маркетплейса, отзывы, карточки SKU\";\n};\nconst buildNextStepAngle = ()=>\"Предложить быстрый пилот на 3-7 дней и показать измеримый результат.\";\nconst buildIntentEvidence = (query, sourceUrl)=>({\n        url: sourceUrl,\n        title: \"Поисковый запрос\",\n        evidence_snippet: clipSnippet(`intent_query: ${query}`, 160),\n        signal_type: \"yandex_intent\",\n        signal_value: query\n    });\nconst countSignals = (candidate)=>{\n    if (candidate && Array.isArray(candidate.source_proof)) {\n        return candidate.source_proof.length;\n    }\n    const collect = (text)=>text.split(/;|\\n|•/).map((item)=>item.trim()).filter(Boolean);\n    return collect(candidate?.why_here || \"\").length + collect(candidate?.source_notes || \"\").length;\n};\nconst rankEvidence = (evidence)=>{\n    return [\n        ...evidence\n    ].sort((a, b)=>{\n        const weightA = SIGNAL_LIBRARY[a.signal_type]?.weight ?? 0;\n        const weightB = SIGNAL_LIBRARY[b.signal_type]?.weight ?? 0;\n        return weightB - weightA;\n    });\n};\nconst extractSocialLinks = (html)=>{\n    if (!html) return [];\n    const pattern = \"https?:\\\\\\\\/\\\\\\\\/(?:vk\\\\\\\\.com|t\\\\\\\\.me|telegram\\\\\\\\.me)\\\\\\\\/[^\\\\\\\\s\\\"']+\";\n    const regex = new RegExp(pattern, \"gi\");\n    const matches = html.match(regex);\n    return matches ? [\n        ...new Set(matches)\n    ] : [];\n};\nconst extractMarketplaceBrandUrl = (page)=>{\n    const url = page.url || \"\";\n    let host = \"\";\n    try {\n        host = new URL(url).hostname.toLowerCase();\n    } catch  {\n        return \"\";\n    }\n    if (!host.includes(\"wildberries\") && !host.includes(\"ozon\")) return \"\";\n    const html = page.html || \"\";\n    const candidates = [];\n    const patterns = [\n        new RegExp(\"href=[\\\"'](https?:\\\\\\\\/\\\\\\\\/[^\\\"']+\\\\\\\\/seller\\\\\\\\/[^\\\"']+)[\\\"']\", \"gi\"),\n        new RegExp(\"href=[\\\"'](https?:\\\\\\\\/\\\\\\\\/[^\\\"']+\\\\\\\\/brand\\\\\\\\/[^\\\"']+)[\\\"']\", \"gi\"),\n        new RegExp(\"href=[\\\"'](https?:\\\\\\\\/\\\\\\\\/[^\\\"']+\\\\\\\\/brands?\\\\\\\\/[^\\\"']+)[\\\"']\", \"gi\")\n    ];\n    patterns.forEach((pattern)=>{\n        let match;\n        while(match = pattern.exec(html)){\n            if (match[1]) candidates.push(match[1]);\n        }\n    });\n    const unique = [\n        ...new Set(candidates.map((item)=>canonicalizeUrl(item)))\n    ];\n    return unique[0] || \"\";\n};\nconst buildCandidateFromSeed = async ({ seed, segmentPool, input, webClient, stats })=>{\n    if (stats) {\n        const sourceType = classifySource(seed.url);\n        stats.sources_used[sourceType] += 1;\n    }\n    const page = await webClient.fetchPage(seed.url);\n    if (\"blocked\" in page) {\n        if (stats) {\n            const sourceType = classifySource(seed.url);\n            stats.blocked_by_source[sourceType] += 1;\n        }\n        return {\n            rejected: {\n                link: seed.url,\n                reason: \"blocked_or_unreachable\"\n            }\n        };\n    }\n    const canonicalMarketplace = extractMarketplaceBrandUrl(page);\n    const pageUrl = canonicalMarketplace ? canonicalMarketplace : page.url;\n    const extracted = extractSignalsFromPage(page, input.recency_days);\n    const evidence = [\n        ...extracted.evidence\n    ];\n    const genericExtract = extractFromHtml(page.html || \"\", page.url);\n    if (genericExtract && Array.isArray(genericExtract.proof_items)) {\n        genericExtract.proof_items.forEach((item)=>{\n            evidence.push({\n                url: item.url,\n                title: item.signal_value || item.url,\n                evidence_snippet: clipSnippet(item.evidence_snippet || \"\", 160),\n                signal_type: item.signal_type || \"snippet\",\n                signal_value: item.signal_value || \"\"\n            });\n        });\n    }\n    const signalKeys = new Set(extracted.signalKeys);\n    if (seed.intent) {\n        evidence.push(buildIntentEvidence(seed.query, seed.source_url));\n        signalKeys.add(\"yandex_intent\");\n    }\n    if (evidence.length < 2) {\n        const socialLinks = extractSocialLinks(page.html);\n        if (socialLinks.length > 0) {\n            const socialUrl = canonicalizeUrl(socialLinks[0]);\n            if (stats) {\n                const sourceType = classifySource(socialUrl);\n                stats.sources_used[sourceType] += 1;\n            }\n            const socialPage = await webClient.fetchPage(socialUrl);\n            if (!(\"blocked\" in socialPage)) {\n                const socialSignals = extractSignalsFromPage(socialPage, input.recency_days);\n                socialSignals.evidence.forEach((item)=>evidence.push(item));\n                socialSignals.signalKeys.forEach((key)=>signalKeys.add(key));\n            } else if (stats) {\n                const sourceType = classifySource(socialUrl);\n                stats.blocked_by_source[sourceType] += 1;\n                if (!signalKeys.has(\"social_posting\")) {\n                    signalKeys.add(\"social_posting\");\n                    evidence.push({\n                        url: socialUrl,\n                        title: \"Social link\",\n                        evidence_snippet: clipSnippet(`social_link: ${socialUrl}`, 160),\n                        signal_type: \"social_posting\",\n                        signal_value: socialUrl\n                    });\n                }\n            }\n        }\n    }\n    const uniqueEvidence = [];\n    const seenEvidence = new Set();\n    evidence.forEach((item)=>{\n        const key = `${item.signal_type}:${item.url}`;\n        if (seenEvidence.has(key)) return;\n        seenEvidence.add(key);\n        uniqueEvidence.push(item);\n    });\n    const rankedEvidence = rankEvidence(uniqueEvidence).slice(0, 4);\n    const signalList = rankedEvidence.map((item)=>item.signal_type);\n    const segmentMatch = seed.segment_match;\n    const fitScore = scoreFit(signalList, seed.channel, segmentMatch);\n    const painScore = scorePain(signalList);\n    const signalStrength = scoreSignalStrength(signalList);\n    const confidence = scoreConfidence(fitScore, painScore, signalStrength, input.confidence_weights);\n    const notes = buildWhyHereAndNotes(rankedEvidence);\n    let name = cleanTitle(page.title);\n    if (!name) {\n        try {\n            const host = new URL(pageUrl).hostname.replace(/^www\\\\./, \"\");\n            name = host;\n        } catch  {\n            name = pageUrl;\n        }\n    }\n    if (isAggregator(name)) {\n        return {\n            rejected: {\n                name,\n                link: seed.url,\n                reason: \"aggregator\"\n            }\n        };\n    }\n    const segmentData = segmentPool.find((segment)=>segment.segment_name === segmentMatch);\n    const dedupeDomain = extractDomainFromUrl(canonicalizeUrl(pageUrl)) || \"\";\n    const dedupeInn = extractInnFromText(page.text || \"\");\n    const dedupePhone = extractPhoneFromText(page.text || \"\");\n    const candidate = {\n        name,\n        link: pageUrl,\n        channel: seed.channel,\n        segment_match: segmentMatch,\n        why_here: notes.why_here,\n        why_here_proof_refs: notes.why_here_proof_refs,\n        proof_refs: notes.proof_refs,\n        confidence,\n        next_step_message_angle: buildNextStepAngle(),\n        source_notes: notes.source_notes,\n        first_offer: segmentData?.recommended_entry_offer || \"3-7 дней: быстрый пилот\",\n        expected_outcome: buildExpectedOutcome(seed.channel),\n        required_access: buildRequiredAccess(seed.channel),\n        dedupe_key: normalizeDedupeKey(name, pageUrl),\n        fit_score: fitScore,\n        pain_score: painScore,\n        signal_strength: signalStrength,\n        source_proof: rankedEvidence,\n        _signal_keys: signalList,\n        _dedupe_components: {\n            domain: dedupeDomain,\n            inn: dedupeInn,\n            phone: dedupePhone\n        }\n    };\n    return {\n        candidate\n    };\n};\nconst generateOutput = async (input, options = {})=>{\n    const normalized = applyLastRun(normalizeInput(input), options.last_run, options);\n    const segmentPool = buildSegments(normalized);\n    const segments = normalized.mode === \"targets_only\" ? [] : segmentPool;\n    const lastData = unwrapLegacy(options.last_run);\n    const previousTemplates = lastData && lastData.meta ? lastData.meta.search_templates : null;\n    const templates = normalized.mode === \"continue\" && previousTemplates ? {\n        marketplaceQueries: previousTemplates.marketplace_queries || buildSearchTemplates(normalized).marketplaceQueries,\n        yandexQueries: previousTemplates.yandex_queries || buildSearchTemplates(normalized).yandexQueries,\n        vkTgQueries: previousTemplates.vk_tg_queries || buildSearchTemplates(normalized).vkTgQueries\n    } : buildSearchTemplates(normalized);\n    const searchPlan = buildSearchPlan(normalized, templates);\n    const searchQueriesBySegment = new Map();\n    const addSegmentQuery = (segmentName, query)=>{\n        if (!segmentName || !query) return;\n        if (!searchQueriesBySegment.has(segmentName)) {\n            searchQueriesBySegment.set(segmentName, new Set());\n        }\n        searchQueriesBySegment.get(segmentName).add(query);\n    };\n    const dedupeReport = {\n        scanned_total: 0,\n        kept_total: 0,\n        removed_total: 0,\n        removed_by_domain: 0,\n        removed_by_inn: 0,\n        removed_by_phone: 0\n    };\n    const dedupeSeen = {\n        domain: new Set(),\n        inn: new Set(),\n        phone: new Set()\n    };\n    searchPlan.forEach((item)=>{\n        const lower = String(item.query || \"\").toLowerCase();\n        let channel = \"D2C\";\n        if (lower.includes(\"wildberries\")) channel = \"WB\";\n        else if (lower.includes(\"ozon\")) channel = \"Ozon\";\n        else channel = guessChannelFromQuery(lower);\n        const segmentMatch = pickSegmentMatch(channel, segmentPool);\n        addSegmentQuery(segmentMatch, item.query);\n    });\n    const rejectedCandidates = [];\n    const assumptions = [];\n    const limitations = [];\n    let placeholdersUsed = false;\n    const fallbackStrategies = new Set();\n    let candidates = [];\n    let webStats = {\n        requests_made: 0,\n        blocked_count: 0,\n        errors_count: 0,\n        duration_ms: 0,\n        sources_used: {\n            yandex: 0,\n            wb: 0,\n            ozon: 0,\n            vk: 0,\n            tg: 0,\n            websites: 0\n        },\n        blocked_by_source: {\n            yandex: 0,\n            wb: 0,\n            ozon: 0,\n            vk: 0,\n            tg: 0,\n            websites: 0\n        },\n        fallback_used: false,\n        fallback_strategies_used: [],\n        top_errors: [],\n        warnings: []\n    };\n    const excludeKeys = new Set((normalized.exclude_list || []).map((item)=>normalizeDedupeKey(item, item)));\n    const getDedupeComponents = (candidate)=>{\n        const domain = candidate?._dedupe_components?.domain || extractDomainFromUrl(canonicalizeUrl(candidate.link || \"\")) || \"\";\n        const inn = candidate?._dedupe_components?.inn || \"\";\n        const phone = candidate?._dedupe_components?.phone || \"\";\n        return {\n            domain,\n            inn,\n            phone\n        };\n    };\n    const findDedupeConflict = (components)=>{\n        if (components.inn && dedupeSeen.inn.has(components.inn)) return \"inn\";\n        if (components.phone && dedupeSeen.phone.has(components.phone)) return \"phone\";\n        if (components.domain && dedupeSeen.domain.has(components.domain)) return \"domain\";\n        return \"\";\n    };\n    const markKeptCandidate = (components)=>{\n        if (components.domain) dedupeSeen.domain.add(components.domain);\n        if (components.inn) dedupeSeen.inn.add(components.inn);\n        if (components.phone) dedupeSeen.phone.add(components.phone);\n        dedupeReport.kept_total += 1;\n    };\n    const markRemovedDuplicate = (reason)=>{\n        dedupeReport.removed_total += 1;\n        if (reason === \"domain\") dedupeReport.removed_by_domain += 1;\n        if (reason === \"inn\") dedupeReport.removed_by_inn += 1;\n        if (reason === \"phone\") dedupeReport.removed_by_phone += 1;\n    };\n    if (normalized.mode !== \"segments_only\" && normalized.mode !== \"seed_only\" && normalized.has_web_access && options.webClient) {\n        const webClient = options.webClient;\n        let searchResults = await collectSearchResults(webClient, searchPlan, {\n            limitPerQuery: normalized.mode === \"quick\" ? 3 : 5,\n            maxSeeds: normalized.target_count * 4,\n            stats: webStats\n        });\n        const seeds = [];\n        const seedSeen = new Set();\n        for (const result of searchResults){\n            if (!result.url || seedSeen.has(result.url)) continue;\n            if (/\\.(pdf|doc|docx)$/i.test(result.url)) continue;\n            const canonical = canonicalizeUrl(result.url);\n            const seedKey = normalizeDedupeKey(canonical, canonical);\n            if (!seedKey || seedSeen.has(seedKey) || excludeKeys.has(seedKey)) continue;\n            seedSeen.add(seedKey);\n            const channel = deriveChannelFromUrl(canonical, normalized, result.query || \"\");\n            const segmentMatch = pickSegmentMatch(channel, segmentPool);\n            addSegmentQuery(segmentMatch, result.query || \"\");\n            seeds.push({\n                url: canonical,\n                query: result.query || \"\",\n                intent: Boolean(result.intent),\n                source_url: result.source_url || buildSearchUrl(result.query || \"\", result.engine || \"yandex\"),\n                channel,\n                segment_match: segmentMatch\n            });\n        }\n        if (seeds.length < normalized.target_count) {\n            const fallbackQueries = buildFallbackQueries(normalized);\n            fallbackStrategies.add(\"site_queries\");\n            webStats.fallback_used = true;\n            webStats.fallback_strategies_used = [\n                ...fallbackStrategies\n            ];\n            const fallbackPlan = fallbackQueries.map((query)=>({\n                    query,\n                    source: \"fallback\",\n                    engine: \"yandex\",\n                    intent: isIntentQuery(query)\n                }));\n            const fallbackResults = await collectSearchResults(webClient, fallbackPlan, {\n                limitPerQuery: 3,\n                maxSeeds: normalized.target_count * 2,\n                stats: webStats\n            });\n            searchResults = [\n                ...searchResults,\n                ...fallbackResults\n            ];\n            for (const result of fallbackResults){\n                if (!result.url) continue;\n                const canonical = canonicalizeUrl(result.url);\n                const seedKey = normalizeDedupeKey(canonical, canonical);\n                if (!seedKey || seedSeen.has(seedKey) || excludeKeys.has(seedKey)) continue;\n                seedSeen.add(seedKey);\n                const channel = deriveChannelFromUrl(canonical, normalized, result.query || \"\");\n                const segmentMatch = pickSegmentMatch(channel, segmentPool);\n                addSegmentQuery(segmentMatch, result.query || \"\");\n                seeds.push({\n                    url: canonical,\n                    query: result.query || \"\",\n                    intent: Boolean(result.intent),\n                    source_url: result.source_url || buildSearchUrl(result.query || \"\", result.engine || \"yandex\"),\n                    channel,\n                    segment_match: segmentMatch\n                });\n            }\n        }\n        const good = [];\n        const lowQuality = [];\n        for (const seed of seeds){\n            if (good.length >= normalized.target_count * 2) break;\n            const key = normalizeDedupeKey(seed.url, seed.url);\n            if (!key || excludeKeys.has(key)) continue;\n            const result = await buildCandidateFromSeed({\n                seed,\n                segmentPool,\n                input: normalized,\n                webClient,\n                stats: webStats\n            });\n            if (result.rejected) {\n                if (rejectedCandidates.length < 10) rejectedCandidates.push(result.rejected);\n                continue;\n            }\n            const candidate = result.candidate;\n            dedupeReport.scanned_total += 1;\n            const dedupeComponents = getDedupeComponents(candidate);\n            const dedupeConflict = findDedupeConflict(dedupeComponents);\n            if (!candidate.dedupe_key || excludeKeys.has(candidate.dedupe_key)) {\n                markRemovedDuplicate(dedupeConflict || (dedupeComponents.domain ? \"domain\" : \"\"));\n                if (rejectedCandidates.length < 10) {\n                    rejectedCandidates.push({\n                        name: candidate.name,\n                        link: candidate.link,\n                        reason: \"duplicate_dedupe_key\"\n                    });\n                }\n                continue;\n            }\n            if (dedupeConflict) {\n                markRemovedDuplicate(dedupeConflict);\n                if (rejectedCandidates.length < 10) {\n                    rejectedCandidates.push({\n                        name: candidate.name,\n                        link: candidate.link,\n                        reason: `duplicate_${dedupeConflict}`\n                    });\n                }\n                continue;\n            }\n            if (normalized.require_signals && candidate.source_proof.length < 2) {\n                if (rejectedCandidates.length < 10) {\n                    rejectedCandidates.push({\n                        name: candidate.name,\n                        link: candidate.link,\n                        reason: \"insufficient_signals\"\n                    });\n                }\n                continue;\n            }\n            if (candidate.confidence < normalized.min_confidence) {\n                candidate.low_quality = true;\n                if (normalized.mode === \"deep\") {\n                    lowQuality.push(candidate);\n                    markKeptCandidate(dedupeComponents);\n                    excludeKeys.add(candidate.dedupe_key);\n                } else if (rejectedCandidates.length < 10) {\n                    rejectedCandidates.push({\n                        name: candidate.name,\n                        link: candidate.link,\n                        reason: \"below_min_confidence\"\n                    });\n                }\n            } else {\n                good.push(candidate);\n                markKeptCandidate(dedupeComponents);\n                excludeKeys.add(candidate.dedupe_key);\n            }\n        }\n        const pool = good.length < normalized.target_count && normalized.mode === \"deep\" ? [\n            ...good,\n            ...lowQuality\n        ] : good;\n        candidates = pool.map((candidate)=>({\n                ...candidate,\n                _pain: painStrength(candidate._signal_keys || [])\n            })).sort((a, b)=>{\n            if (b.confidence !== a.confidence) return b.confidence - a.confidence;\n            return b._pain - a._pain;\n        }).slice(0, normalized.target_count).map(({ _pain, _signal_keys, _dedupe_components, ...candidate })=>candidate);\n        const clientStats = webClient.getStats();\n        webStats = {\n            ...webStats,\n            requests_made: clientStats.requests_made,\n            blocked_count: clientStats.blocked_count,\n            errors_count: clientStats.errors_count,\n            duration_ms: clientStats.duration_ms,\n            top_errors: clientStats.top_errors || [],\n            warnings: clientStats.warnings || []\n        };\n    } else if (normalized.mode !== \"segments_only\" && normalized.mode !== \"seed_only\") {\n        assumptions.push(\"Веб-доступ отключен или клиент не настроен.\");\n    }\n    const allowPlaceholders = normalized.mode !== \"segments_only\" && normalized.mode !== \"seed_only\" && (normalized.has_web_access && normalized.allow_placeholders_if_blocked || !normalized.has_web_access && normalized.allow_placeholders_if_no_web);\n    if (normalized.mode !== \"segments_only\" && normalized.mode !== \"seed_only\" && candidates.length < normalized.target_count && allowPlaceholders) {\n        const missing = normalized.target_count - candidates.length;\n        if (missing > 0) {\n            const placeholderInput = {\n                ...normalized,\n                exclude_list: [\n                    ...normalized.exclude_list,\n                    ...candidates.map((candidate)=>candidate.dedupe_key)\n                ]\n            };\n            const placeholderRaw = buildCandidates(segmentPool, placeholderInput, missing).map((item)=>({\n                    ...item,\n                    estimate: true,\n                    confidence_estimate: item.confidence,\n                    confidence: item.confidence\n                }));\n            const placeholders = [];\n            for (const item of placeholderRaw){\n                dedupeReport.scanned_total += 1;\n                addSegmentQuery(item.segment_match, item.search_query);\n                const dedupeComponents = getDedupeComponents(item);\n                const dedupeConflict = findDedupeConflict(dedupeComponents);\n                if (!item.dedupe_key || excludeKeys.has(item.dedupe_key) || dedupeConflict) {\n                    markRemovedDuplicate(dedupeConflict || (dedupeComponents.domain ? \"domain\" : \"\"));\n                    continue;\n                }\n                markKeptCandidate(dedupeComponents);\n                excludeKeys.add(item.dedupe_key);\n                placeholders.push(item);\n            }\n            candidates = [\n                ...candidates,\n                ...placeholders\n            ];\n            placeholdersUsed = true;\n        }\n    }\n    if (placeholdersUsed) {\n        limitations.push(\"Часть кандидатов — placeholders из-за ограничений веб-доступа.\");\n    }\n    if (webStats.blocked_count > 0) {\n        limitations.push(\"Некоторые источники заблокировали доступ (robots.txt/ограничения).\");\n    }\n    if (webStats.errors_count > 0) {\n        limitations.push(\"Часть запросов завершилась ошибкой сети.\");\n    }\n    if (normalized.mode === \"segments_only\" || normalized.mode === \"seed_only\") {\n        candidates = [];\n    }\n    if (normalized.mode === \"targets_only\") {\n        segments.length = 0;\n    }\n    if (assumptions.length === 0) {\n        assumptions.push(\"Использованы только публичные источники и проверяемые сигналы.\");\n    }\n    if (limitations.length === 0) {\n        limitations.push(\"Выдача зависит от доступности публичных источников.\");\n    }\n    const searchQueriesUsedBySegment = segments.map((segment)=>({\n            segment_name: segment.segment_name,\n            queries: [\n                ...searchQueriesBySegment.get(segment.segment_name) || new Set()\n            ].slice(0, 8)\n        }));\n    const normalizedCandidates = candidates.map(({ _dedupe_components, _signal_keys, ...candidate })=>candidate);\n    dedupeReport.kept_total = normalizedCandidates.length;\n    dedupeReport.removed_total = Math.max(dedupeReport.removed_total, dedupeReport.scanned_total - dedupeReport.kept_total);\n    const legacyOutput = {\n        segments,\n        company_candidates: normalizedCandidates,\n        meta: {\n            generated_at: new Date().toISOString(),\n            assumptions,\n            limitations,\n            marketplace_queries: templates.marketplaceQueries,\n            yandex_queries: templates.yandexQueries,\n            vk_tg_queries: templates.vkTgQueries,\n            rejected_candidates: rejectedCandidates.slice(0, 10),\n            web_stats: webStats,\n            search_templates: {\n                marketplace_queries: templates.marketplaceQueries,\n                yandex_queries: templates.yandexQueries,\n                vk_tg_queries: templates.vkTgQueries\n            },\n            search_plan: {\n                queries_used: searchPlan.map((item)=>item.query)\n            },\n            search_queries_used_by_segment: searchQueriesUsedBySegment,\n            dedupe_report: dedupeReport,\n            confidence_weights: normalized.confidence_weights,\n            next_manual_actions: [\n                \"Отобрать top-20 кандидатов по confidence и запустить персонализированный outreach.\",\n                \"Проверить вручную кандидатов с low_quality=true и подтвердить сигналы.\"\n            ]\n        }\n    };\n    applyBudgetMeta(legacyOutput.meta, normalized);\n    const envelope = wrapAgentOutput({\n        agentId: platonAgent.id,\n        inputEcho: normalized,\n        mode: normalized.mode,\n        legacyOutput\n    });\n    if (normalized.mode === \"refresh\" && options.last_run) {\n        const prevData = unwrapLegacy(options.last_run);\n        const prevCandidates = Array.isArray(prevData.company_candidates) ? prevData.company_candidates : [];\n        const prevKeys = new Set(prevCandidates.map((item)=>{\n            if (!item || typeof item !== \"object\") return \"\";\n            const name = item.name || item.name_placeholder || \"\";\n            const link = item.link || \"\";\n            return item.dedupe_key || normalizeDedupeKey(name, link);\n        }).filter(Boolean));\n        const newKeys = new Set(candidates.map((item)=>item.dedupe_key || normalizeDedupeKey(item.name || \"\", item.link || \"\")).filter(Boolean));\n        const diff = {\n            added: [\n                ...newKeys\n            ].filter((key)=>!prevKeys.has(key)),\n            removed: [\n                ...prevKeys\n            ].filter((key)=>!newKeys.has(key))\n        };\n        if (envelope.meta && envelope.meta.handoff && envelope.meta.handoff.entities) {\n            envelope.meta.handoff.entities.diff = diff;\n        }\n    }\n    return {\n        output: envelope,\n        effectiveInput: normalized\n    };\n};\nconst generatePlatonOutput = async (rawInput = {}, options = {})=>{\n    const result = await generateOutput(rawInput, options);\n    return result.output;\n};\nconst isNonEmptyString = (value)=>typeof value === \"string\" && value.trim().length > 0;\nconst isStringArray = (value)=>Array.isArray(value) && value.every((item)=>isNonEmptyString(item));\nconst validatePlatonOutput = (payload, options = {})=>{\n    const errors = [];\n    const legacy = unwrapLegacy(payload);\n    if (!legacy || typeof legacy !== \"object\") {\n        return {\n            valid: false,\n            errors: [\n                \"Output must be an object.\"\n            ]\n        };\n    }\n    payload = legacy;\n    const allowEmptySegments = options.mode === \"targets_only\";\n    const allowEmptyCandidates = options.mode === \"segments_only\" || options.mode === \"seed_only\";\n    if (!Array.isArray(payload.segments)) {\n        errors.push(\"segments must be an array.\");\n    } else {\n        if (!allowEmptySegments) {\n            if (payload.segments.length < 5 || payload.segments.length > 8) {\n                errors.push(\"segments length must be between 5 and 8.\");\n            }\n        } else if (payload.segments.length !== 0 && payload.segments.length < 5) {\n            errors.push(\"segments length must be 0 or 5-8.\");\n        }\n        const segmentNames = new Set();\n        payload.segments.forEach((segment, index)=>{\n            if (!segment || typeof segment !== \"object\") {\n                errors.push(`segments[${index}] must be an object.`);\n                return;\n            }\n            if (!isNonEmptyString(segment.segment_name)) {\n                errors.push(`segments[${index}].segment_name is required.`);\n            } else if (segmentNames.has(segment.segment_name)) {\n                errors.push(`segments[${index}].segment_name must be unique.`);\n            } else {\n                segmentNames.add(segment.segment_name);\n            }\n            if (!isNonEmptyString(segment.geo)) {\n                errors.push(`segments[${index}].geo is required.`);\n            }\n            if (!isNonEmptyString(segment.avg_check_or_margin_estimate)) {\n                errors.push(`segments[${index}].avg_check_or_margin_estimate is required.`);\n            } else if (!segment.avg_check_or_margin_estimate.includes(\"estimate\")) {\n                errors.push(`segments[${index}].avg_check_or_margin_estimate must include \"estimate\".`);\n            }\n            if (!isStringArray(segment.LPR) || segment.LPR.length < 1) {\n                errors.push(`segments[${index}].LPR must be a non-empty array.`);\n            }\n            if (!isStringArray(segment.pain_triggers)) {\n                errors.push(`segments[${index}].pain_triggers must be an array.`);\n            } else if (segment.pain_triggers.length < 3 || segment.pain_triggers.length > 6) {\n                errors.push(`segments[${index}].pain_triggers length must be 3-6.`);\n            }\n            if (!isStringArray(segment.why_agentos)) {\n                errors.push(`segments[${index}].why_agentos must be an array.`);\n            } else if (segment.why_agentos.length < 2 || segment.why_agentos.length > 4) {\n                errors.push(`segments[${index}].why_agentos length must be 2-4.`);\n            }\n            if (!isNonEmptyString(segment.recommended_entry_offer)) {\n                errors.push(`segments[${index}].recommended_entry_offer is required.`);\n            }\n            if (!isStringArray(segment.typical_stack) || segment.typical_stack.length < 1) {\n                errors.push(`segments[${index}].typical_stack is required.`);\n            }\n            if (!isStringArray(segment.top_objections) || segment.top_objections.length < 3) {\n                errors.push(`segments[${index}].top_objections is required.`);\n            }\n            if (!isStringArray(segment.proof_ideas) || segment.proof_ideas.length < 1) {\n                errors.push(`segments[${index}].proof_ideas is required.`);\n            }\n            if (!isStringArray(segment.antiICP) || segment.antiICP.length < 1) {\n                errors.push(`segments[${index}].antiICP is required.`);\n            }\n            if (!isStringArray(segment.minimum_viable_signals)) {\n                errors.push(`segments[${index}].minimum_viable_signals must be an array.`);\n            } else if (segment.minimum_viable_signals.length < 2 || segment.minimum_viable_signals.length > 3) {\n                errors.push(`segments[${index}].minimum_viable_signals length must be 2-3.`);\n            }\n        });\n    }\n    if (!Array.isArray(payload.company_candidates)) {\n        errors.push(\"company_candidates must be an array.\");\n    } else {\n        if (!allowEmptyCandidates) {\n            if (payload.company_candidates.length < 15 || payload.company_candidates.length > 40) {\n                errors.push(\"company_candidates length must be between 15 and 40.\");\n            }\n        } else if (payload.company_candidates.length !== 0 && payload.company_candidates.length < 15) {\n            errors.push(\"company_candidates length must be 0 or >= 15.\");\n        }\n        const candidateNames = new Set();\n        payload.company_candidates.forEach((candidate, index)=>{\n            if (!candidate || typeof candidate !== \"object\") {\n                errors.push(`company_candidates[${index}] must be an object.`);\n                return;\n            }\n            const hasName = isNonEmptyString(candidate.name) || isNonEmptyString(candidate.link);\n            const hasPlaceholder = isNonEmptyString(candidate.name_placeholder) && isNonEmptyString(candidate.search_query);\n            if (!hasName && !hasPlaceholder) {\n                errors.push(`company_candidates[${index}] must include name/link or placeholder fields.`);\n            }\n            if (!isNonEmptyString(candidate.channel)) {\n                errors.push(`company_candidates[${index}].channel is required.`);\n            }\n            if (!isNonEmptyString(candidate.segment_match)) {\n                errors.push(`company_candidates[${index}].segment_match is required.`);\n            }\n            if (!isNonEmptyString(candidate.why_here)) {\n                errors.push(`company_candidates[${index}].why_here is required.`);\n            }\n            if (typeof candidate.confidence !== \"number\" || candidate.confidence < 0 || candidate.confidence > 100) {\n                errors.push(`company_candidates[${index}].confidence must be 0-100.`);\n            }\n            if (!isNonEmptyString(candidate.next_step_message_angle)) {\n                errors.push(`company_candidates[${index}].next_step_message_angle is required.`);\n            }\n            if (!isNonEmptyString(candidate.source_notes)) {\n                errors.push(`company_candidates[${index}].source_notes is required.`);\n            }\n            if (!isNonEmptyString(candidate.first_offer)) {\n                errors.push(`company_candidates[${index}].first_offer is required.`);\n            }\n            if (!isNonEmptyString(candidate.expected_outcome)) {\n                errors.push(`company_candidates[${index}].expected_outcome is required.`);\n            } else if (!candidate.expected_outcome.includes(\"estimate\")) {\n                errors.push(`company_candidates[${index}].expected_outcome must include estimate.`);\n            }\n            if (!isNonEmptyString(candidate.required_access)) {\n                errors.push(`company_candidates[${index}].required_access is required.`);\n            }\n            if (!isNonEmptyString(candidate.dedupe_key)) {\n                errors.push(`company_candidates[${index}].dedupe_key is required.`);\n            }\n            if (typeof candidate.fit_score !== \"number\" || candidate.fit_score < 0 || candidate.fit_score > 100) {\n                errors.push(`company_candidates[${index}].fit_score must be 0-100.`);\n            }\n            if (typeof candidate.pain_score !== \"number\" || candidate.pain_score < 0 || candidate.pain_score > 100) {\n                errors.push(`company_candidates[${index}].pain_score must be 0-100.`);\n            }\n            if (typeof candidate.signal_strength !== \"number\" || candidate.signal_strength < 0 || candidate.signal_strength > 100) {\n                errors.push(`company_candidates[${index}].signal_strength must be 0-100.`);\n            }\n            if (!Array.isArray(candidate.source_proof) || candidate.source_proof.length === 0) {\n                errors.push(`company_candidates[${index}].source_proof is required.`);\n            } else {\n                if (candidate.source_proof.length > 4) {\n                    errors.push(`company_candidates[${index}].source_proof max length is 4.`);\n                }\n                candidate.source_proof.forEach((proof, proofIndex)=>{\n                    if (!proof || typeof proof !== \"object\") {\n                        errors.push(`company_candidates[${index}].source_proof[${proofIndex}] invalid.`);\n                        return;\n                    }\n                    if (!isNonEmptyString(proof.url)) {\n                        errors.push(`company_candidates[${index}].source_proof[${proofIndex}].url required.`);\n                    }\n                    if (!isNonEmptyString(proof.title)) {\n                        errors.push(`company_candidates[${index}].source_proof[${proofIndex}].title required.`);\n                    }\n                    if (!isNonEmptyString(proof.evidence_snippet)) {\n                        errors.push(`company_candidates[${index}].source_proof[${proofIndex}].evidence_snippet required.`);\n                    }\n                    if (!isNonEmptyString(proof.signal_type)) {\n                        errors.push(`company_candidates[${index}].source_proof[${proofIndex}].signal_type required.`);\n                    }\n                    if (proof.signal_value !== undefined && typeof proof.signal_value !== \"string\" && typeof proof.signal_value !== \"number\") {\n                        errors.push(`company_candidates[${index}].source_proof[${proofIndex}].signal_value must be string or number.`);\n                    }\n                });\n            }\n            if (!Array.isArray(candidate.proof_refs) || candidate.proof_refs.length === 0) {\n                errors.push(`company_candidates[${index}].proof_refs is required.`);\n            }\n            if (!Array.isArray(candidate.why_here_proof_refs) || candidate.why_here_proof_refs.length === 0) {\n                errors.push(`company_candidates[${index}].why_here_proof_refs is required.`);\n            } else if (candidate.why_here_proof_refs.length > 2) {\n                errors.push(`company_candidates[${index}].why_here_proof_refs max length is 2.`);\n            }\n            if (Array.isArray(candidate.why_here_proof_refs) && Array.isArray(candidate.source_proof)) {\n                candidate.why_here_proof_refs.forEach((ref, refIndex)=>{\n                    if (typeof ref !== \"number\" || ref < 0 || ref >= candidate.source_proof.length) {\n                        errors.push(`company_candidates[${index}].why_here_proof_refs[${refIndex}] invalid index.`);\n                    }\n                });\n            }\n            if (Array.isArray(candidate.proof_refs) && Array.isArray(candidate.source_proof)) {\n                candidate.proof_refs.forEach((ref, refIndex)=>{\n                    if (typeof ref !== \"number\" || ref < 0 || ref >= candidate.source_proof.length) {\n                        errors.push(`company_candidates[${index}].proof_refs[${refIndex}] invalid index.`);\n                    }\n                });\n            }\n            if (isNonEmptyString(candidate.why_here) && (!Array.isArray(candidate.why_here_proof_refs) || candidate.why_here_proof_refs.length === 0)) {\n                errors.push(`company_candidates[${index}] why_here must reference proof refs.`);\n            }\n            if (options.require_signals) {\n                if (countSignals(candidate) < 2) {\n                    errors.push(`company_candidates[${index}] must include 2+ signals.`);\n                }\n            }\n            if (options.min_confidence && !candidate.low_quality) {\n                if (candidate.confidence < options.min_confidence) {\n                    errors.push(`company_candidates[${index}] below min_confidence.`);\n                }\n            }\n            const key = candidate.dedupe_key || (hasPlaceholder ? `placeholder:${candidate.name_placeholder}` : `name:${candidate.name}`);\n            if (candidateNames.has(key)) {\n                errors.push(`company_candidates[${index}] duplicate candidate detected.`);\n            } else {\n                candidateNames.add(key);\n            }\n        });\n    }\n    if (!payload.meta || typeof payload.meta !== \"object\") {\n        errors.push(\"meta must be an object.\");\n    } else {\n        if (!isNonEmptyString(payload.meta.generated_at)) {\n            errors.push(\"meta.generated_at is required.\");\n        }\n        if (!isStringArray(payload.meta.assumptions)) {\n            errors.push(\"meta.assumptions must be a string array.\");\n        }\n        if (!isStringArray(payload.meta.limitations)) {\n            errors.push(\"meta.limitations must be a string array.\");\n        }\n        if (!isStringArray(payload.meta.marketplace_queries)) {\n            errors.push(\"meta.marketplace_queries must be a string array.\");\n        }\n        if (!isStringArray(payload.meta.yandex_queries)) {\n            errors.push(\"meta.yandex_queries must be a string array.\");\n        }\n        if (!isStringArray(payload.meta.vk_tg_queries)) {\n            errors.push(\"meta.vk_tg_queries must be a string array.\");\n        }\n        if (!Array.isArray(payload.meta.rejected_candidates)) {\n            errors.push(\"meta.rejected_candidates must be an array.\");\n        } else {\n            payload.meta.rejected_candidates.forEach((item, index)=>{\n                if (!item || typeof item !== \"object\") {\n                    errors.push(`meta.rejected_candidates[${index}] must be an object.`);\n                    return;\n                }\n                if (!isNonEmptyString(item.reason)) {\n                    errors.push(`meta.rejected_candidates[${index}].reason is required.`);\n                }\n            });\n        }\n        if (!payload.meta.web_stats || typeof payload.meta.web_stats !== \"object\") {\n            errors.push(\"meta.web_stats must be an object.\");\n        } else {\n            const stats = payload.meta.web_stats;\n            if (typeof stats.requests_made !== \"number\") {\n                errors.push(\"meta.web_stats.requests_made must be a number.\");\n            }\n            if (typeof stats.blocked_count !== \"number\") {\n                errors.push(\"meta.web_stats.blocked_count must be a number.\");\n            }\n            if (typeof stats.errors_count !== \"number\") {\n                errors.push(\"meta.web_stats.errors_count must be a number.\");\n            }\n            if (typeof stats.duration_ms !== \"number\") {\n                errors.push(\"meta.web_stats.duration_ms must be a number.\");\n            }\n            const sources = stats.sources_used;\n            if (!sources || typeof sources !== \"object\") {\n                errors.push(\"meta.web_stats.sources_used must be an object.\");\n            }\n            const blocked = stats.blocked_by_source;\n            if (!blocked || typeof blocked !== \"object\") {\n                errors.push(\"meta.web_stats.blocked_by_source must be an object.\");\n            }\n            if (typeof stats.fallback_used !== \"boolean\") {\n                errors.push(\"meta.web_stats.fallback_used must be boolean.\");\n            }\n            if (!Array.isArray(stats.fallback_strategies_used)) {\n                errors.push(\"meta.web_stats.fallback_strategies_used must be array.\");\n            }\n            if (!Array.isArray(stats.top_errors)) {\n                errors.push(\"meta.web_stats.top_errors must be array.\");\n            }\n            if (!Array.isArray(stats.warnings)) {\n                errors.push(\"meta.web_stats.warnings must be array.\");\n            }\n        }\n        if (!payload.meta.search_templates || typeof payload.meta.search_templates !== \"object\") {\n            errors.push(\"meta.search_templates must be an object.\");\n        } else {\n            const templates = payload.meta.search_templates;\n            if (!isStringArray(templates.marketplace_queries)) {\n                errors.push(\"meta.search_templates.marketplace_queries must be a string array.\");\n            }\n            if (!isStringArray(templates.yandex_queries)) {\n                errors.push(\"meta.search_templates.yandex_queries must be a string array.\");\n            }\n            if (!isStringArray(templates.vk_tg_queries)) {\n                errors.push(\"meta.search_templates.vk_tg_queries must be a string array.\");\n            }\n        }\n        if (!payload.meta.search_plan || typeof payload.meta.search_plan !== \"object\") {\n            errors.push(\"meta.search_plan must be an object.\");\n        } else if (!isStringArray(payload.meta.search_plan.queries_used)) {\n            errors.push(\"meta.search_plan.queries_used must be a string array.\");\n        }\n        if (!Array.isArray(payload.meta.search_queries_used_by_segment)) {\n            errors.push(\"meta.search_queries_used_by_segment must be an array.\");\n        } else {\n            payload.meta.search_queries_used_by_segment.forEach((item, index)=>{\n                if (!item || typeof item !== \"object\") {\n                    errors.push(`meta.search_queries_used_by_segment[${index}] must be an object.`);\n                    return;\n                }\n                if (!isNonEmptyString(item.segment_name)) {\n                    errors.push(`meta.search_queries_used_by_segment[${index}].segment_name is required.`);\n                }\n                if (!isStringArray(item.queries)) {\n                    errors.push(`meta.search_queries_used_by_segment[${index}].queries must be an array.`);\n                }\n            });\n        }\n        if (!payload.meta.dedupe_report || typeof payload.meta.dedupe_report !== \"object\") {\n            errors.push(\"meta.dedupe_report must be an object.\");\n        } else {\n            const report = payload.meta.dedupe_report;\n            const requiredNumberFields = [\n                \"scanned_total\",\n                \"kept_total\",\n                \"removed_total\",\n                \"removed_by_domain\",\n                \"removed_by_inn\",\n                \"removed_by_phone\"\n            ];\n            requiredNumberFields.forEach((field)=>{\n                if (typeof report[field] !== \"number\") {\n                    errors.push(`meta.dedupe_report.${field} must be a number.`);\n                }\n            });\n        }\n        if (payload.meta.confidence_weights !== undefined) {\n            const weights = payload.meta.confidence_weights;\n            if (!weights || typeof weights !== \"object\") {\n                errors.push(\"meta.confidence_weights must be an object.\");\n            } else {\n                [\n                    \"fit_score\",\n                    \"pain_score\",\n                    \"signal_strength\"\n                ].forEach((field)=>{\n                    if (typeof weights[field] !== \"number\") {\n                        errors.push(`meta.confidence_weights.${field} must be a number.`);\n                    }\n                });\n            }\n        }\n        if (!isStringArray(payload.meta.next_manual_actions)) {\n            errors.push(\"meta.next_manual_actions must be a string array.\");\n        }\n    }\n    return {\n        valid: errors.length === 0,\n        errors\n    };\n};\nmodule.exports = {\n    DEFAULT_WHAT_WE_SELL,\n    inputDefaults,\n    inputSchema,\n    outputSchema,\n    systemPrompt,\n    platonAgent,\n    normalizeInput,\n    generatePlatonOutput,\n    validatePlatonOutput,\n    generateOutput\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDQTtnQkFDQTthQUNEO1lBQ0RBLHFCQUFxQnpMLE9BQU8sQ0FBQyxDQUFDMEw7Z0JBQzVCLElBQUksT0FBT0YsTUFBTSxDQUFDRSxNQUFNLEtBQUssVUFBVTtvQkFDckNqQixPQUFPdk0sSUFBSSxDQUFDLENBQUMsbUJBQW1CLEVBQUV3TixNQUFNLGtCQUFrQixDQUFDO2dCQUM3RDtZQUNGO1FBQ0Y7UUFDQSxJQUFJbEIsUUFBUTlYLElBQUksQ0FBQ2xELGtCQUFrQixLQUFLdVMsV0FBVztZQUNqRCxNQUFNdkksVUFBVWdSLFFBQVE5WCxJQUFJLENBQUNsRCxrQkFBa0I7WUFDL0MsSUFBSSxDQUFDZ0ssV0FBVyxPQUFPQSxZQUFZLFVBQVU7Z0JBQzNDaVIsT0FBT3ZNLElBQUksQ0FBQztZQUNkLE9BQU87Z0JBQ0w7b0JBQUM7b0JBQWE7b0JBQWM7aUJBQWtCLENBQUM4QixPQUFPLENBQUMsQ0FBQzBMO29CQUN0RCxJQUFJLE9BQU9sUyxPQUFPLENBQUNrUyxNQUFNLEtBQUssVUFBVTt3QkFDdENqQixPQUFPdk0sSUFBSSxDQUFDLENBQUMsd0JBQXdCLEVBQUV3TixNQUFNLGtCQUFrQixDQUFDO29CQUNsRTtnQkFDRjtZQUNGO1FBQ0Y7UUFDQSxJQUFJLENBQUNyQixjQUFjRyxRQUFROVgsSUFBSSxDQUFDeUMsbUJBQW1CLEdBQUc7WUFDcERzVixPQUFPdk0sSUFBSSxDQUFDO1FBQ2Q7SUFDRjtJQUVBLE9BQU87UUFBRXlNLE9BQU9GLE9BQU83TyxNQUFNLEtBQUs7UUFBRzZPO0lBQU87QUFDOUM7QUFFQWtCLE9BQU9DLE9BQU8sR0FBRztJQUNmamU7SUFDQVk7SUFDQXFCO0lBQ0FRO0lBQ0FnRjtJQUNBQztJQUNBaUI7SUFDQTZUO0lBQ0FJO0lBQ0E5RDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvbGliL2FnZW50cy9wbGF0b24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgREVGQVVMVF9XSEFUX1dFX1NFTEwgPVxuICBcItCf0LvQsNGC0YTQvtGA0LzQsCDQsNCy0YLQvtC80LDRgtC40LfQsNGG0LjQuCDRgSDQmNCYLdCw0LPQtdC90YLQsNC80Lgg0LTQu9GPINCx0LjQt9C90LXRgdCwICjQu9C40LTQvtCz0LXQvSwg0L/QvtC00LTQtdGA0LbQutCwLCDQutC+0L3RgtC10L3Rgiwg0LDQvdCw0LvQuNGC0LjQutCwLCDQsNCy0YLQvtC80LDRgtC40LfQsNGG0LjRjyDQv9GA0L7RhtC10YHRgdC+0LIpXCI7XG5cbmNvbnN0IHsgY2Fub25pY2FsaXplVXJsIH0gPSByZXF1aXJlKFwiLi93ZWJDbGllbnQuanNcIik7XG5jb25zdCB7IHdyYXBBZ2VudE91dHB1dCwgdW53cmFwTGVnYWN5IH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYWdlbnRFbnZlbG9wZS5qc1wiKTtcbmNvbnN0IHsgc2FuaXRpemVTbmlwcGV0IH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvc2FuaXRpemVTbmlwcGV0LmpzXCIpO1xuY29uc3QgeyBhcHBseUJ1ZGdldCwgYXBwbHlCdWRnZXRNZXRhIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvYnVkZ2V0LmpzXCIpO1xuY29uc3Qge1xuICBleHRyYWN0RG9tYWluRnJvbVVybCxcbiAgbWFrZURlZHVwZUtleSxcbiAgbm9ybWFsaXplUGhvbmVcbn0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbm9ybWFsaXplLmpzXCIpO1xuY29uc3QgeyBleHRyYWN0RnJvbUh0bWwgfSA9IHJlcXVpcmUoXCIuLi8uLi9leHRyYWN0b3JzXCIpO1xuXG5jb25zdCBpbnB1dERlZmF1bHRzID0ge1xuICBtb2RlOiBcImRlZXBcIixcbiAgaW5kdXN0cnlfb3JfbmljaGU6IFwiXCIsXG4gIGdlbzogXCJcIixcbiAgY2hhbm5lbDogXCJNaXhlZFwiLFxuICBzaXplOiBcIlwiLFxuICB3aGF0X3dlX3NlbGw6IERFRkFVTFRfV0hBVF9XRV9TRUxMLFxuICBleGNsdWRlX2xpc3Q6IFtdLFxuICBtaW5fY29uZmlkZW5jZTogNDAsXG4gIHRhcmdldF9jb3VudDogbnVsbCxcbiAgcmVxdWlyZV9zaWduYWxzOiB0cnVlLFxuICBhbGxvd19wbGFjZWhvbGRlcnNfaWZfbm9fd2ViOiB0cnVlLFxuICBoYXNfd2ViX2FjY2VzczogdHJ1ZSxcbiAgbWF4X3dlYl9yZXF1ZXN0czogbnVsbCxcbiAgcHJlZmVycmVkX3NvdXJjZXM6IFtcIldCXCIsIFwiT3pvblwiLCBcIllhbmRleFwiLCBcIlZLXCIsIFwiVGVsZWdyYW1cIiwgXCJPZmZpY2lhbFdlYnNpdGVcIl0sXG4gIHJlY2VuY3lfZGF5czogMzY1LFxuICBhbGxvd19wbGFjZWhvbGRlcnNfaWZfYmxvY2tlZDogdHJ1ZSxcbiAgY29uZmlkZW5jZV93ZWlnaHRzOiB7XG4gICAgZml0X3Njb3JlOiAwLjQ1LFxuICAgIHBhaW5fc2NvcmU6IDAuMyxcbiAgICBzaWduYWxfc3RyZW5ndGg6IDAuMjVcbiAgfVxufTtcblxuY29uc3QgaW5wdXRTY2hlbWEgPSB7XG4gIHR5cGU6IFwib2JqZWN0XCIsXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgcHJvcGVydGllczoge1xuICAgIG1vZGU6IHtcbiAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICBlbnVtOiBbXG4gICAgICAgIFwicXVpY2tcIixcbiAgICAgICAgXCJkZWVwXCIsXG4gICAgICAgIFwiY29udGludWVcIixcbiAgICAgICAgXCJ0YXJnZXRzX29ubHlcIixcbiAgICAgICAgXCJzZWdtZW50c19vbmx5XCIsXG4gICAgICAgIFwic2VlZF9vbmx5XCIsXG4gICAgICAgIFwicmVmcmVzaFwiXG4gICAgICBdLFxuICAgICAgZGVmYXVsdDogXCJkZWVwXCJcbiAgICB9LFxuICAgIGluZHVzdHJ5X29yX25pY2hlOiB7IHR5cGU6IFwic3RyaW5nXCIsIGRlZmF1bHQ6IFwiXCIgfSxcbiAgICBnZW86IHsgdHlwZTogXCJzdHJpbmdcIiwgZGVmYXVsdDogXCJcIiB9LFxuICAgIGNoYW5uZWw6IHtcbiAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICBlbnVtOiBbXCJXQlwiLCBcIk96b25cIiwgXCJEMkNcIiwgXCJPZmZsaW5lU2VydmljZXNcIiwgXCJCMkJcIiwgXCJNaXhlZFwiXSxcbiAgICAgIGRlZmF1bHQ6IFwiTWl4ZWRcIlxuICAgIH0sXG4gICAgc2l6ZTogeyB0eXBlOiBcInN0cmluZ1wiLCBlbnVtOiBbXCJtaWNyb1wiLCBcInNtYlwiLCBcIm1pZFwiLCBcIlwiXSwgZGVmYXVsdDogXCJcIiB9LFxuICAgIHdoYXRfd2Vfc2VsbDogeyB0eXBlOiBcInN0cmluZ1wiLCBkZWZhdWx0OiBERUZBVUxUX1dIQVRfV0VfU0VMTCB9LFxuICAgIGV4Y2x1ZGVfbGlzdDogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSwgZGVmYXVsdDogW10gfSxcbiAgICBtaW5fY29uZmlkZW5jZTogeyB0eXBlOiBcIm51bWJlclwiLCBkZWZhdWx0OiA0MCB9LFxuICAgIHRhcmdldF9jb3VudDogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgcmVxdWlyZV9zaWduYWxzOiB7IHR5cGU6IFwiYm9vbGVhblwiLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgYWxsb3dfcGxhY2Vob2xkZXJzX2lmX25vX3dlYjogeyB0eXBlOiBcImJvb2xlYW5cIiwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIGhhc193ZWJfYWNjZXNzOiB7IHR5cGU6IFwiYm9vbGVhblwiLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgbWF4X3dlYl9yZXF1ZXN0czogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgcHJlZmVycmVkX3NvdXJjZXM6IHtcbiAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgIGRlZmF1bHQ6IFtcIldCXCIsIFwiT3pvblwiLCBcIllhbmRleFwiLCBcIlZLXCIsIFwiVGVsZWdyYW1cIiwgXCJPZmZpY2lhbFdlYnNpdGVcIl1cbiAgICB9LFxuICAgIHJlY2VuY3lfZGF5czogeyB0eXBlOiBcIm51bWJlclwiLCBkZWZhdWx0OiAzNjUgfSxcbiAgICBhbGxvd19wbGFjZWhvbGRlcnNfaWZfYmxvY2tlZDogeyB0eXBlOiBcImJvb2xlYW5cIiwgZGVmYXVsdDogdHJ1ZSB9LFxuICAgIGNvbmZpZGVuY2Vfd2VpZ2h0czoge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgZml0X3Njb3JlOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgcGFpbl9zY29yZTogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgIHNpZ25hbF9zdHJlbmd0aDogeyB0eXBlOiBcIm51bWJlclwiIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHJlcXVpcmVkOiBbXCJtb2RlXCIsIFwid2hhdF93ZV9zZWxsXCJdLFxuICBkZWZhdWx0OiBpbnB1dERlZmF1bHRzXG59O1xuXG5jb25zdCBvdXRwdXRTY2hlbWEgPSB7XG4gIHR5cGU6IFwib2JqZWN0XCIsXG4gIHJlcXVpcmVkOiBbXCJzZWdtZW50c1wiLCBcImNvbXBhbnlfY2FuZGlkYXRlc1wiLCBcIm1ldGFcIl0sXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgcHJvcGVydGllczoge1xuICAgIHNlZ21lbnRzOiB7XG4gICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICBpdGVtczoge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICByZXF1aXJlZDogW1xuICAgICAgICAgIFwic2VnbWVudF9uYW1lXCIsXG4gICAgICAgICAgXCJnZW9cIixcbiAgICAgICAgICBcImF2Z19jaGVja19vcl9tYXJnaW5fZXN0aW1hdGVcIixcbiAgICAgICAgICBcIkxQUlwiLFxuICAgICAgICAgIFwicGFpbl90cmlnZ2Vyc1wiLFxuICAgICAgICAgIFwid2h5X2FnZW50b3NcIixcbiAgICAgICAgICBcInJlY29tbWVuZGVkX2VudHJ5X29mZmVyXCIsXG4gICAgICAgICAgXCJ0eXBpY2FsX3N0YWNrXCIsXG4gICAgICAgICAgXCJ0b3Bfb2JqZWN0aW9uc1wiLFxuICAgICAgICAgIFwicHJvb2ZfaWRlYXNcIixcbiAgICAgICAgICBcImFudGlJQ1BcIixcbiAgICAgICAgICBcIm1pbmltdW1fdmlhYmxlX3NpZ25hbHNcIlxuICAgICAgICBdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBzZWdtZW50X25hbWU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIGdlbzogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgYXZnX2NoZWNrX29yX21hcmdpbl9lc3RpbWF0ZTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgTFBSOiB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0sXG4gICAgICAgICAgcGFpbl90cmlnZ2VyczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgIHdoeV9hZ2VudG9zOiB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0sXG4gICAgICAgICAgcmVjb21tZW5kZWRfZW50cnlfb2ZmZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIHR5cGljYWxfc3RhY2s6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgICB0b3Bfb2JqZWN0aW9uczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgIHByb29mX2lkZWFzOiB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0sXG4gICAgICAgICAgYW50aUlDUDogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgIG1pbmltdW1fdmlhYmxlX3NpZ25hbHM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb21wYW55X2NhbmRpZGF0ZXM6IHtcbiAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgIGl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHJlcXVpcmVkOiBbXG4gICAgICAgICAgXCJjaGFubmVsXCIsXG4gICAgICAgICAgXCJzZWdtZW50X21hdGNoXCIsXG4gICAgICAgICAgXCJ3aHlfaGVyZVwiLFxuICAgICAgICAgIFwibmV4dF9zdGVwX21lc3NhZ2VfYW5nbGVcIixcbiAgICAgICAgICBcInNvdXJjZV9ub3Rlc1wiLFxuICAgICAgICAgIFwiZmlyc3Rfb2ZmZXJcIixcbiAgICAgICAgICBcImV4cGVjdGVkX291dGNvbWVcIixcbiAgICAgICAgICBcInJlcXVpcmVkX2FjY2Vzc1wiLFxuICAgICAgICAgIFwiZGVkdXBlX2tleVwiLFxuICAgICAgICAgIFwic291cmNlX3Byb29mXCIsXG4gICAgICAgICAgXCJmaXRfc2NvcmVcIlxuICAgICAgICBdLFxuICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgIG5hbWU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIGxpbms6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIG5hbWVfcGxhY2Vob2xkZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIHNlYXJjaF9xdWVyeTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgY2hhbm5lbDogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgc2VnbWVudF9tYXRjaDogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgd2h5X2hlcmU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIGNvbmZpZGVuY2U6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgIGNvbmZpZGVuY2VfZXN0aW1hdGU6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgIG5leHRfc3RlcF9tZXNzYWdlX2FuZ2xlOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICBzb3VyY2Vfbm90ZXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIGZpcnN0X29mZmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICBleHBlY3RlZF9vdXRjb21lOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICByZXF1aXJlZF9hY2Nlc3M6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIGxvd19xdWFsaXR5OiB7IHR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgICAgICAgZXN0aW1hdGU6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICBkZWR1cGVfa2V5OiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICBmaXRfc2NvcmU6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgIHBhaW5fc2NvcmU6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgIHNpZ25hbF9zdHJlbmd0aDogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgcHJvb2ZfcmVmczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwibnVtYmVyXCIgfSB9LFxuICAgICAgICAgIHdoeV9oZXJlX3Byb29mX3JlZnM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcIm51bWJlclwiIH0gfSxcbiAgICAgICAgICBzb3VyY2VfcHJvb2Y6IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJ1cmxcIiwgXCJ0aXRsZVwiLCBcImV2aWRlbmNlX3NuaXBwZXRcIiwgXCJzaWduYWxfdHlwZVwiXSxcbiAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgdXJsOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgICB0aXRsZTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgICAgZXZpZGVuY2Vfc25pcHBldDogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgICAgc2lnbmFsX3R5cGU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgIHNpZ25hbF92YWx1ZTogeyB0eXBlOiBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIl0gfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBtZXRhOiB7XG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgcmVxdWlyZWQ6IFtcbiAgICAgICAgXCJnZW5lcmF0ZWRfYXRcIixcbiAgICAgICAgXCJhc3N1bXB0aW9uc1wiLFxuICAgICAgICBcImxpbWl0YXRpb25zXCIsXG4gICAgICAgIFwibWFya2V0cGxhY2VfcXVlcmllc1wiLFxuICAgICAgICBcInlhbmRleF9xdWVyaWVzXCIsXG4gICAgICAgIFwidmtfdGdfcXVlcmllc1wiLFxuICAgICAgICBcInJlamVjdGVkX2NhbmRpZGF0ZXNcIixcbiAgICAgICAgXCJ3ZWJfc3RhdHNcIixcbiAgICAgICAgXCJzZWFyY2hfdGVtcGxhdGVzXCIsXG4gICAgICAgIFwic2VhcmNoX3BsYW5cIixcbiAgICAgICAgXCJzZWFyY2hfcXVlcmllc191c2VkX2J5X3NlZ21lbnRcIixcbiAgICAgICAgXCJkZWR1cGVfcmVwb3J0XCIsXG4gICAgICAgIFwibmV4dF9tYW51YWxfYWN0aW9uc1wiXG4gICAgICBdLFxuICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBnZW5lcmF0ZWRfYXQ6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICBhc3N1bXB0aW9uczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICBsaW1pdGF0aW9uczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICBtYXJrZXRwbGFjZV9xdWVyaWVzOiB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0sXG4gICAgICAgIHlhbmRleF9xdWVyaWVzOiB7IHR5cGU6IFwiYXJyYXlcIiwgaXRlbXM6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0sXG4gICAgICAgIHZrX3RnX3F1ZXJpZXM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgcmVqZWN0ZWRfY2FuZGlkYXRlczoge1xuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJyZWFzb25cIl0sXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICBsaW5rOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgcmVhc29uOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgd2ViX3N0YXRzOiB7XG4gICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgcmVxdWlyZWQ6IFtcbiAgICAgICAgICAgIFwicmVxdWVzdHNfbWFkZVwiLFxuICAgICAgICAgICAgXCJibG9ja2VkX2NvdW50XCIsXG4gICAgICAgICAgICBcImVycm9yc19jb3VudFwiLFxuICAgICAgICAgICAgXCJkdXJhdGlvbl9tc1wiLFxuICAgICAgICAgICAgXCJzb3VyY2VzX3VzZWRcIixcbiAgICAgICAgICAgIFwiYmxvY2tlZF9ieV9zb3VyY2VcIixcbiAgICAgICAgICAgIFwiZmFsbGJhY2tfdXNlZFwiLFxuICAgICAgICAgICAgXCJmYWxsYmFja19zdHJhdGVnaWVzX3VzZWRcIixcbiAgICAgICAgICAgIFwidG9wX2Vycm9yc1wiLFxuICAgICAgICAgICAgXCJ3YXJuaW5nc1wiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICByZXF1ZXN0c19tYWRlOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgIGJsb2NrZWRfY291bnQ6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgICAgZXJyb3JzX2NvdW50OiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgIGR1cmF0aW9uX21zOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgIHNvdXJjZXNfdXNlZDoge1xuICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJ5YW5kZXhcIiwgXCJ3YlwiLCBcIm96b25cIiwgXCJ2a1wiLCBcInRnXCIsIFwid2Vic2l0ZXNcIl0sXG4gICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICB5YW5kZXg6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgICAgICAgIHdiOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgICAgICBvem9uOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgICAgICB2azogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgICAgICAgdGc6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgICAgICAgIHdlYnNpdGVzOiB7IHR5cGU6IFwibnVtYmVyXCIgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmxvY2tlZF9ieV9zb3VyY2U6IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IGZhbHNlLFxuICAgICAgICAgICAgICByZXF1aXJlZDogW1wieWFuZGV4XCIsIFwid2JcIiwgXCJvem9uXCIsIFwidmtcIiwgXCJ0Z1wiLCBcIndlYnNpdGVzXCJdLFxuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgeWFuZGV4OiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgICAgICB3YjogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgICAgICAgb3pvbjogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgICAgICAgdms6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgICAgICAgIHRnOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgICAgICB3ZWJzaXRlczogeyB0eXBlOiBcIm51bWJlclwiIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhbGxiYWNrX3VzZWQ6IHsgdHlwZTogXCJib29sZWFuXCIgfSxcbiAgICAgICAgICAgIGZhbGxiYWNrX3N0cmF0ZWdpZXNfdXNlZDogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgICAgdG9wX2Vycm9yczoge1xuICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFtcImRvbWFpblwiLCBcImNvZGVcIiwgXCJjb3VudFwiXSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICBkb21haW46IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgICAgY29kZTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgICAgICBjb3VudDogeyB0eXBlOiBcIm51bWJlclwiIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3YXJuaW5nczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZWFyY2hfdGVtcGxhdGVzOiB7XG4gICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgcmVxdWlyZWQ6IFtcIm1hcmtldHBsYWNlX3F1ZXJpZXNcIiwgXCJ5YW5kZXhfcXVlcmllc1wiLCBcInZrX3RnX3F1ZXJpZXNcIl0sXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgbWFya2V0cGxhY2VfcXVlcmllczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9LFxuICAgICAgICAgICAgeWFuZGV4X3F1ZXJpZXM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSxcbiAgICAgICAgICAgIHZrX3RnX3F1ZXJpZXM6IHsgdHlwZTogXCJhcnJheVwiLCBpdGVtczogeyB0eXBlOiBcInN0cmluZ1wiIH0gfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VhcmNoX3BsYW46IHtcbiAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZSxcbiAgICAgICAgICByZXF1aXJlZDogW1wicXVlcmllc191c2VkXCJdLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHF1ZXJpZXNfdXNlZDogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZWFyY2hfcXVlcmllc191c2VkX2J5X3NlZ21lbnQ6IHtcbiAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgICByZXF1aXJlZDogW1wic2VnbWVudF9uYW1lXCIsIFwicXVlcmllc1wiXSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgc2VnbWVudF9uYW1lOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgcXVlcmllczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWR1cGVfcmVwb3J0OiB7XG4gICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgICAgICAgcmVxdWlyZWQ6IFtcbiAgICAgICAgICAgIFwic2Nhbm5lZF90b3RhbFwiLFxuICAgICAgICAgICAgXCJrZXB0X3RvdGFsXCIsXG4gICAgICAgICAgICBcInJlbW92ZWRfdG90YWxcIixcbiAgICAgICAgICAgIFwicmVtb3ZlZF9ieV9kb21haW5cIixcbiAgICAgICAgICAgIFwicmVtb3ZlZF9ieV9pbm5cIixcbiAgICAgICAgICAgIFwicmVtb3ZlZF9ieV9waG9uZVwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBzY2FubmVkX3RvdGFsOiB7IHR5cGU6IFwibnVtYmVyXCIgfSxcbiAgICAgICAgICAgIGtlcHRfdG90YWw6IHsgdHlwZTogXCJudW1iZXJcIiB9LFxuICAgICAgICAgICAgcmVtb3ZlZF90b3RhbDogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgICByZW1vdmVkX2J5X2RvbWFpbjogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgICByZW1vdmVkX2J5X2lubjogeyB0eXBlOiBcIm51bWJlclwiIH0sXG4gICAgICAgICAgICByZW1vdmVkX2J5X3Bob25lOiB7IHR5cGU6IFwibnVtYmVyXCIgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbmV4dF9tYW51YWxfYWN0aW9uczogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBzeXN0ZW1Qcm9tcHQgPSBg0KLRiyDigJQg0JjQmC3QsNCz0LXQvdGCOiBcItCf0LvQsNGC0L7QvSDigJQg0L3QsNGF0L7QtNC40YIg0L/QvtC00YXQvtC00Y/RidC40LUg0LrQvtC80L/QsNC90LjQuCDQtNC70Y8g0L/RgNC+0LTQsNC2LlwiLlxu0KDQvtC70Yw6IHByb2R1Y3Rpb24t0YDQtdGB0ZHRgNGH0LXRgCDQv9C+INCg0L7RgdGB0LjQuC/QodCd0JMuINCe0L/RgNC10LTQtdC70Y/QuSBJQ1At0YHQtdCz0LzQtdC90YLRiyDQuCDRhNC+0YDQvNC40YDRg9C5INGB0L/QuNGB0L7QuiDQutC+0LzQv9Cw0L3QuNC5LdC60LDQvdC00LjQtNCw0YLQvtCyINC00LvRjyDQv9GA0L7QtNCw0LYg0L3QsCDQvtGB0L3QvtCy0LUg0YLQvtC70YzQutC+INC/0YPQsdC70LjRh9C90YvRhSDRgdC40LPQvdCw0LvQvtCyLlxuXG7QntCz0YDQsNC90LjRh9C10L3QuNGPOlxuLSDQoNCw0LHQvtGC0LDQuSDRgtC+0LvRjNC60L4g0YEg0LHQtdC30L7Qv9Cw0YHQvdGL0LzQuCDQv9GD0LHQu9C40YfQvdGL0LzQuCDRgdC40LPQvdCw0LvQsNC80LguXG4tINCd0LUg0LfQsNC/0YDQsNGI0LjQstCw0Lkg0Lgg0L3QtSDRhdGA0LDQvdC4INC/0LXRgNGB0L7QvdCw0LvRjNC90YvQtSDQtNCw0L3QvdGL0LUuXG4tINCb0J/QoCDRg9C60LDQt9GL0LLQsNC5INGA0L7Qu9GP0LzQuCAo0LLQu9Cw0LTQtdC70LXRhiwg0LTQuNGA0LXQutGC0L7RgCDQv9C+INC80LDRgNC60LXRgtC40L3Qs9GDLCDRgNGD0LrQvtCy0L7QtNC40YLQtdC70YwgZWNvbSkuXG4tINCd0LUg0LLRi9C00YPQvNGL0LLQsNC5INGE0LDQutGC0YssINC60L7QvNC/0LDQvdC40Lgg0Lgg0YHRgdGL0LvQutC4LlxuLSDQodC+0LHQu9GO0LTQsNC5IHJvYm90cy50eHQ7INC10YHQu9C4INC00L7RgdGC0YPQvyDQt9Cw0L/RgNC10YnQtdC9IOKAlCDQvdC1INC/0LDRgNGB0LgsINC/0L7QvNC10YfQsNC5INC60LDQuiBibG9ja2VkLlxuXG7Qn9Cw0LnQv9C70LDQudC9ICjQtNC10YLQtdGA0LzQuNC90LjRgNC+0LLQsNC90L3Ri9C5KTpcbkEpINCh0LXQs9C80LXQvdGC0Ys6INGB0YTQvtGA0LzQuNGA0YPQuSA1LTggc2VnbWVudHNbXS5cbkIpINCf0LvQsNC9INC/0L7QuNGB0LrQsDogWWFuZGV4IHF1ZXJpZXMsIFdCL096b24gZGlzY292ZXJ5IHBsYW4sIFZLL1RHIHBsYW4uXG5DKSBTZWVkIHJlc3VsdHM6INCy0LfRj9GC0Ywg0YLQvtC/IE4g0YDQtdC30YPQu9GM0YLQsNGC0L7QsiDQvdCwINC60LDQttC00YvQuSDQt9Cw0L/RgNC+0YEuXG5EKSBFbnJpY2htZW50OiDQvtGC0LrRgNGL0YLRjCAxLTMg0YHRgtGA0LDQvdC40YbRiyDQutCw0L3QtNC40LTQsNGC0LAsINC40LfQstC70LXRh9GMINGB0LjQs9C90LDQu9GLLlxuRSkgU2NvcmluZyAmIGZpbHRlcmluZzogY29uZmlkZW5jZSDQv9C+INGE0L7RgNC80YPQu9C1LCBmaXRfc2NvcmUg0L7RgtC00LXQu9GM0L3Qvi5cbkYpIERlZHVwZSAmIGV4Y2x1ZGU6INC40YHQutC70Y7Rh9C40YLRjCBleGNsdWRlX2xpc3QvbGFzdF9ydW4uXG5HKSDQpNC40L3QsNC70YzQvdGL0LkgSlNPTi5cblxu0JDQvdGC0Lgt0LPQsNC70LvRjtGG0LjQvdCw0YbQuNC4OlxuLSDQmtCw0LbQtNGL0Lkg0LrQsNC90LTQuNC00LDRgiDQvtCx0Y/Qt9Cw0L0g0LjQvNC10YLRjCBzb3VyY2VfcHJvb2YgKDItNCDQtNC+0LrQsNC30LDRgtC10LvRjNGB0YLQstCwKTogeyB1cmwsIHRpdGxlLCBldmlkZW5jZV9zbmlwcGV0LCBzaWduYWxfdHlwZSB9LlxuLSB3aHlfaGVyZSDQuCBzb3VyY2Vfbm90ZXMg0YHRgtGA0L7Rj9GC0YHRjyDRgtC+0LvRjNC60L4g0LjQtyBzb3VyY2VfcHJvb2YuXG4tINCV0YHQu9C4IHJlcXVpcmVfc2lnbmFscz10cnVlINC4INC80LXQvdGM0YjQtSAyINGB0LjQs9C90LDQu9C+0LIg4oCUINC60LDQvdC00LjQtNCw0YIg0LIgcmVqZWN0ZWRfY2FuZGlkYXRlcy5cblxu0KDQtdC20LjQvNGLIChpbnB1dC5tb2RlKTogcXVpY2sgfCBkZWVwIHwgdGFyZ2V0c19vbmx5IHwgc2VnbWVudHNfb25seSB8IHJlZnJlc2guXG5cbtCh0LrQvtGA0LjQvdCzIGNvbmZpZGVuY2UgKGNhcCAxMDApOlxuLSDQtdGB0YLRjCDQstC40YLRgNC40L3QsCBXQi9Pem9uIC8g0LrQsNGA0YLQvtGH0LrQuCDRgtC+0LLQsNGA0L7QsjogKzEwXG4tINC80L3QvtCz0L4g0L7RgtC30YvQstC+0LIgKDIwMCspOiArMTVcbi0g0L7QsdC90L7QstC70LXQvdC40Y8v0L3QvtCy0YvQtSBTS1Uv0LDQutGC0LjQstC90YvQuSDQsNGB0YHQvtGA0YLQuNC80LXQvdGCOiArMTBcbi0g0LrQvtC90LrRg9GA0LXQvdGC0L3QsNGPINC60LDRgtC10LPQvtGA0LjRjy/QvNC90L7Qs9C+INC/0YDQvtC00LDQstGG0L7QsjogKzEwXG4tIFZLL1RHINC/0L7RgdGC0LjQvdCzID49IDIg0YDQsNC3INCyINC90LXQtNC10LvRjjogKzEwXG4tINCy0L7QstC70LXRh9C10L3QvdC+0YHRgtGMICjQutC+0LzQvNC10L3RgtGLL9GA0LXQsNC60YbQuNC4KTogKzEwXG4tINCv0L3QtNC10LrRgSDQuNC90YLQtdC90YLRiyBcItC60YPQv9C40YLRjC/QtNC+0YHRgtCw0LLQutCwL9C+0L/RgtC+0Lwv0L/QvtGB0YLQsNCy0YnQuNC6L9GG0LXQvdCwXCI6ICsxMFxuLSBvcHMgcGFpbiAo0LfQsNGP0LLQutC4L0NSTS/QutC+0LvQuy3RhtC10L3RgtGAL9C70L7Qs9C40YHRgtC40LrQsC/QvtGC0LfRi9Cy0Ysv0LrQvtC90YLQtdC90YIpOiArMTVcblxuUGxheWJvb2sg0L/RgNC+0LTRg9C60YLQsDpcbi0gV0IvT3pvbjog0LDQstGC0L7QvtGC0LLQtdGC0Ysg0L3QsCDQvtGC0LfRi9Cy0YssINC+0L/RgtC40LzQuNC30LDRhtC40Y8g0LrQsNGA0YLQvtGH0LXQuiwg0LzQvtC90LjRgtC+0YDQuNC90LMg0LrQvtC90LrRg9GA0LXQvdGC0L7Qsi/RhtC10L0sINC60L7QvdGC0YDQvtC70Ywg0L7RgdGC0LDRgtC60L7Qsi/Qu9C+0LPQuNGB0YLQuNC60LgsINC/0L7QtNC00LXRgNC20LrQsCDQsiDRgdC+0L7QsdGJ0LXQvdC40Y/RhSwg0L7QsdGA0LDQsdC+0YLQutCwINC+0L/RgtC+0LLRi9GFINC30LDRj9Cy0L7Qui5cbi0gRDJDOiDQu9C40LTQvtCz0LXQvSDQuCDQutCy0LDQu9C40YTQuNC60LDRhtC40Y8sINC60L7QvdGC0LXQvdGCLdC/0LvQsNC9LCDQv9C+0LTQtNC10YDQttC60LAvRkFRLCDQstC+0LfQstGA0LDRgtGLL9C00L7RgdGC0LDQstC60LAsIENSTS3RgNGD0YLQuNC90YsuXG4tIE9mZmxpbmUgc2VydmljZXM6INC30LDQv9C40YHRjC/RgNCw0YHQv9C40YHQsNC90LjQtSwg0L7QsdGA0LDQsdC+0YLQutCwINC70LjQtNC+0LIsINC80LXRgdGB0LXQvdC00LbQtdGA0YsgKyDQutC+0LvQuy3RhtC10L3RgtGALCDQvdCw0L/QvtC80LjQvdCw0L3QuNGPLCDRgNC10L/Rg9GC0LDRhtC40Y8v0L7RgtC30YvQstGLLlxuLSBCMkI6INC/0L7QuNGB0Log0LvQuNC00L7Qsi/RgtC10L3QtNC10YDQvtCyLCDQutCy0LDQu9C40YTQuNC60LDRhtC40Y8sINCa0J8sIGZvbGxvdy11cHMsINC+0LHQvdC+0LLQu9C10L3QuNC1IENSTSwg0L7RgtGH0LXRgtGLLlxuXG7QpNC+0YDQvNCw0YI6XG4tIHNlZ21lbnRzW106IHNlZ21lbnRfbmFtZSwgZ2VvLCBhdmdfY2hlY2tfb3JfbWFyZ2luX2VzdGltYXRlIChlc3RpbWF0ZSksIExQUiwgcGFpbl90cmlnZ2VycyAoMy02KSwgd2h5X2FnZW50b3MgKDItNCksIHJlY29tbWVuZGVkX2VudHJ5X29mZmVyICgzLTcg0LTQvdC10LkpLCB0eXBpY2FsX3N0YWNrLCB0b3Bfb2JqZWN0aW9ucyAoMyksIHByb29mX2lkZWFzLlxuLSBjb21wYW55X2NhbmRpZGF0ZXNbXTogbmFtZS9saW5rINC40LvQuCBwbGFjZWhvbGRlcnMgKG5hbWVfcGxhY2Vob2xkZXIvc2VhcmNoX3F1ZXJ5KSwgY2hhbm5lbCwgc2VnbWVudF9tYXRjaCwgd2h5X2hlcmUsIGNvbmZpZGVuY2UsIGZpdF9zY29yZSwgbmV4dF9zdGVwX21lc3NhZ2VfYW5nbGUsIHNvdXJjZV9ub3RlcywgZmlyc3Rfb2ZmZXIsIGV4cGVjdGVkX291dGNvbWUgKGVzdGltYXRlKSwgcmVxdWlyZWRfYWNjZXNzLCBsb3dfcXVhbGl0eT8sIGVzdGltYXRlPywgZGVkdXBlX2tleSwgc291cmNlX3Byb29mW10uXG4tIG1ldGE6IGdlbmVyYXRlZF9hdCwgYXNzdW1wdGlvbnMsIGxpbWl0YXRpb25zLCBtYXJrZXRwbGFjZV9xdWVyaWVzLCB5YW5kZXhfcXVlcmllcywgdmtfdGdfcXVlcmllcywgcmVqZWN0ZWRfY2FuZGlkYXRlcywgd2ViX3N0YXRzLCBzZWFyY2hfdGVtcGxhdGVzLCBuZXh0X21hbnVhbF9hY3Rpb25zLlxuXG7QldGB0LvQuCDQvdC10YIg0LLQtdCxLdC00L7RgdGC0YPQv9CwINC40LvQuCDQuNGB0YLQvtGH0L3QuNC60Lgg0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC90Ysg4oCUIHBsYWNlaG9sZGVycyDQtNC+0L/Rg9GB0LrQsNGO0YLRgdGPINGC0L7Qu9GM0LrQviDQv9GA0LggYWxsb3dfcGxhY2Vob2xkZXJzX2lmX2Jsb2NrZWQ9dHJ1ZSDQuCDRgSDRj9Cy0L3QvtC5INC/0L7QvNC10YLQutC+0LkgZXN0aW1hdGUuYDtcblxuY29uc3QgcGxhdG9uQWdlbnQgPSB7XG4gIGlkOiBcInBsYXRvbi1wcm9zcGVjdC1yZXNlYXJjaC1ydVwiLFxuICBkaXNwbGF5TmFtZTogXCLQn9C70LDRgtC+0L0g4oCUINC90LDRhdC+0LTQuNGCINC/0L7QtNGF0L7QtNGP0YnQuNC1INC60L7QvNC/0LDQvdC40Lgg0LTQu9GPINC/0YDQvtC00LDQti5cIixcbiAgZGVzY3JpcHRpb246XG4gICAgXCLQntC/0YDQtdC00LXQu9GP0LXRgiBJQ1At0YHQtdCz0LzQtdC90YLRiyDQuCDRhNC+0YDQvNC40YDRg9C10YIg0YHQv9C40YHQvtC6INC60L7QvNC/0LDQvdC40Lkt0LrQsNC90LTQuNC00LDRgtC+0LIg0LTQu9GPINC/0YDQvtC00LDQtiDQvdCwINC+0YHQvdC+0LLQtSDQsdC10LfQvtC/0LDRgdC90YvRhSDQv9GD0LHQu9C40YfQvdGL0YUg0YHQuNCz0L3QsNC70L7Qsi5cIixcbiAgaW5wdXRTY2hlbWEsXG4gIG91dHB1dFNjaGVtYSxcbiAgc3lzdGVtUHJvbXB0XG59O1xuXG5jb25zdCBNT0RFUyA9IG5ldyBTZXQoW1xuICBcInF1aWNrXCIsXG4gIFwiZGVlcFwiLFxuICBcImNvbnRpbnVlXCIsXG4gIFwidGFyZ2V0c19vbmx5XCIsXG4gIFwic2VnbWVudHNfb25seVwiLFxuICBcInNlZWRfb25seVwiLFxuICBcInJlZnJlc2hcIlxuXSk7XG5jb25zdCBDSEFOTkVMUyA9IG5ldyBTZXQoW1wiV0JcIiwgXCJPem9uXCIsIFwiRDJDXCIsIFwiT2ZmbGluZVNlcnZpY2VzXCIsIFwiQjJCXCIsIFwiTWl4ZWRcIl0pO1xuY29uc3QgU0laRVMgPSBuZXcgU2V0KFtcIm1pY3JvXCIsIFwic21iXCIsIFwibWlkXCIsIFwiXCJdKTtcbmNvbnN0IFNPVVJDRVMgPSBuZXcgU2V0KFtcbiAgXCJXQlwiLFxuICBcIk96b25cIixcbiAgXCJZYW5kZXhcIixcbiAgXCJWS1wiLFxuICBcIlRlbGVncmFtXCIsXG4gIFwiT2ZmaWNpYWxXZWJzaXRlXCJcbl0pO1xuXG5jb25zdCByZXNvbHZlVGFyZ2V0Q291bnQgPSAobW9kZSwgdGFyZ2V0Q291bnQpID0+IHtcbiAgaWYgKHR5cGVvZiB0YXJnZXRDb3VudCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodGFyZ2V0Q291bnQpICYmIHRhcmdldENvdW50ID4gMCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHRhcmdldENvdW50KTtcbiAgfVxuICByZXR1cm4gbW9kZSA9PT0gXCJxdWlja1wiID8gMTUgOiAzMDtcbn07XG5cbmNvbnN0IHJlc29sdmVNYXhSZXF1ZXN0cyA9IChtb2RlLCBtYXhSZXF1ZXN0cykgPT4ge1xuICBpZiAodHlwZW9mIG1heFJlcXVlc3RzID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZShtYXhSZXF1ZXN0cykgJiYgbWF4UmVxdWVzdHMgPiAwKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobWF4UmVxdWVzdHMpO1xuICB9XG4gIHJldHVybiBtb2RlID09PSBcInF1aWNrXCIgPyAyNSA6IDYwO1xufTtcblxuY29uc3Qgbm9ybWFsaXplSW5wdXQgPSAoaW5wdXQpID0+IHtcbiAgY29uc3Qgc2FmZSA9IHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIiAmJiBpbnB1dCAhPT0gbnVsbCA/IGlucHV0IDoge307XG4gIGNvbnN0IGJ1ZGdldCA9IHNhZmUuYnVkZ2V0ICYmIHR5cGVvZiBzYWZlLmJ1ZGdldCA9PT0gXCJvYmplY3RcIiA/IHNhZmUuYnVkZ2V0IDogbnVsbDtcbiAgY29uc3QgbW9kZSA9IE1PREVTLmhhcyhzYWZlLm1vZGUpID8gc2FmZS5tb2RlIDogXCJkZWVwXCI7XG4gIGNvbnN0IGNoYW5uZWwgPSBDSEFOTkVMUy5oYXMoc2FmZS5jaGFubmVsKSA/IHNhZmUuY2hhbm5lbCA6IFwiTWl4ZWRcIjtcbiAgY29uc3Qgc2l6ZSA9IFNJWkVTLmhhcyhzYWZlLnNpemUpID8gc2FmZS5zaXplIDogXCJcIjtcbiAgY29uc3QgcHJlZmVycmVkU291cmNlcyA9IEFycmF5LmlzQXJyYXkoc2FmZS5wcmVmZXJyZWRfc291cmNlcylcbiAgICA/IHNhZmUucHJlZmVycmVkX3NvdXJjZXMuZmlsdGVyKChpdGVtKSA9PiBTT1VSQ0VTLmhhcyhpdGVtKSlcbiAgICA6IFtcIldCXCIsIFwiT3pvblwiLCBcIllhbmRleFwiLCBcIlZLXCIsIFwiVGVsZWdyYW1cIiwgXCJPZmZpY2lhbFdlYnNpdGVcIl07XG4gIGNvbnN0IGV4Y2x1ZGVMaXN0ID0gQXJyYXkuaXNBcnJheShzYWZlLmV4Y2x1ZGVfbGlzdClcbiAgICA/IHNhZmUuZXhjbHVkZV9saXN0LmZpbHRlcigoaXRlbSkgPT4gdHlwZW9mIGl0ZW0gPT09IFwic3RyaW5nXCIgJiYgaXRlbS50cmltKCkpXG4gICAgOiBbXTtcbiAgY29uc3QgbWluQ29uZmlkZW5jZSA9XG4gICAgdHlwZW9mIHNhZmUubWluX2NvbmZpZGVuY2UgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHNhZmUubWluX2NvbmZpZGVuY2UpXG4gICAgICA/IE1hdGgubWluKDEwMCwgTWF0aC5tYXgoMCwgc2FmZS5taW5fY29uZmlkZW5jZSkpXG4gICAgICA6IDQwO1xuICBjb25zdCByYXdXZWlnaHRzID1cbiAgICBzYWZlLmNvbmZpZGVuY2Vfd2VpZ2h0cyAmJiB0eXBlb2Ygc2FmZS5jb25maWRlbmNlX3dlaWdodHMgPT09IFwib2JqZWN0XCJcbiAgICAgID8gc2FmZS5jb25maWRlbmNlX3dlaWdodHNcbiAgICAgIDoge307XG4gIGNvbnN0IHBhcnNlZFdlaWdodHMgPSB7XG4gICAgZml0X3Njb3JlOlxuICAgICAgdHlwZW9mIHJhd1dlaWdodHMuZml0X3Njb3JlID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZShyYXdXZWlnaHRzLmZpdF9zY29yZSlcbiAgICAgICAgPyBNYXRoLm1heCgwLCByYXdXZWlnaHRzLmZpdF9zY29yZSlcbiAgICAgICAgOiAwLjQ1LFxuICAgIHBhaW5fc2NvcmU6XG4gICAgICB0eXBlb2YgcmF3V2VpZ2h0cy5wYWluX3Njb3JlID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZShyYXdXZWlnaHRzLnBhaW5fc2NvcmUpXG4gICAgICAgID8gTWF0aC5tYXgoMCwgcmF3V2VpZ2h0cy5wYWluX3Njb3JlKVxuICAgICAgICA6IDAuMyxcbiAgICBzaWduYWxfc3RyZW5ndGg6XG4gICAgICB0eXBlb2YgcmF3V2VpZ2h0cy5zaWduYWxfc3RyZW5ndGggPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHJhd1dlaWdodHMuc2lnbmFsX3N0cmVuZ3RoKVxuICAgICAgICA/IE1hdGgubWF4KDAsIHJhd1dlaWdodHMuc2lnbmFsX3N0cmVuZ3RoKVxuICAgICAgICA6IDAuMjVcbiAgfTtcbiAgY29uc3QgdG90YWxXZWlnaHQgPSBwYXJzZWRXZWlnaHRzLmZpdF9zY29yZSArIHBhcnNlZFdlaWdodHMucGFpbl9zY29yZSArIHBhcnNlZFdlaWdodHMuc2lnbmFsX3N0cmVuZ3RoO1xuICBjb25zdCBjb25maWRlbmNlV2VpZ2h0cyA9XG4gICAgdG90YWxXZWlnaHQgPiAwXG4gICAgICA/IHtcbiAgICAgICAgICBmaXRfc2NvcmU6IE51bWJlcigocGFyc2VkV2VpZ2h0cy5maXRfc2NvcmUgLyB0b3RhbFdlaWdodCkudG9GaXhlZCg0KSksXG4gICAgICAgICAgcGFpbl9zY29yZTogTnVtYmVyKChwYXJzZWRXZWlnaHRzLnBhaW5fc2NvcmUgLyB0b3RhbFdlaWdodCkudG9GaXhlZCg0KSksXG4gICAgICAgICAgc2lnbmFsX3N0cmVuZ3RoOiBOdW1iZXIoKHBhcnNlZFdlaWdodHMuc2lnbmFsX3N0cmVuZ3RoIC8gdG90YWxXZWlnaHQpLnRvRml4ZWQoNCkpXG4gICAgICAgIH1cbiAgICAgIDogeyBmaXRfc2NvcmU6IDAuNDUsIHBhaW5fc2NvcmU6IDAuMywgc2lnbmFsX3N0cmVuZ3RoOiAwLjI1IH07XG4gIGNvbnN0IHRhcmdldENvdW50ID0gcmVzb2x2ZVRhcmdldENvdW50KG1vZGUsIHNhZmUudGFyZ2V0X2NvdW50KTtcbiAgY29uc3QgbWF4UmVxdWVzdHMgPSByZXNvbHZlTWF4UmVxdWVzdHMobW9kZSwgc2FmZS5tYXhfd2ViX3JlcXVlc3RzKTtcblxuICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgIG1vZGUsXG4gICAgaW5kdXN0cnlfb3JfbmljaGU6XG4gICAgICB0eXBlb2Ygc2FmZS5pbmR1c3RyeV9vcl9uaWNoZSA9PT0gXCJzdHJpbmdcIiA/IHNhZmUuaW5kdXN0cnlfb3JfbmljaGUgOiBcIlwiLFxuICAgIGdlbzogdHlwZW9mIHNhZmUuZ2VvID09PSBcInN0cmluZ1wiID8gc2FmZS5nZW8gOiBcIlwiLFxuICAgIGNoYW5uZWwsXG4gICAgc2l6ZSxcbiAgICB3aGF0X3dlX3NlbGw6XG4gICAgICB0eXBlb2Ygc2FmZS53aGF0X3dlX3NlbGwgPT09IFwic3RyaW5nXCIgJiYgc2FmZS53aGF0X3dlX3NlbGwudHJpbSgpXG4gICAgICAgID8gc2FmZS53aGF0X3dlX3NlbGwudHJpbSgpXG4gICAgICAgIDogREVGQVVMVF9XSEFUX1dFX1NFTEwsXG4gICAgZXhjbHVkZV9saXN0OiBleGNsdWRlTGlzdCxcbiAgICBtaW5fY29uZmlkZW5jZTogbWluQ29uZmlkZW5jZSxcbiAgICB0YXJnZXRfY291bnQ6IHRhcmdldENvdW50LFxuICAgIHJlcXVpcmVfc2lnbmFsczpcbiAgICAgIHR5cGVvZiBzYWZlLnJlcXVpcmVfc2lnbmFscyA9PT0gXCJib29sZWFuXCIgPyBzYWZlLnJlcXVpcmVfc2lnbmFscyA6IHRydWUsXG4gICAgYWxsb3dfcGxhY2Vob2xkZXJzX2lmX25vX3dlYjpcbiAgICAgIHR5cGVvZiBzYWZlLmFsbG93X3BsYWNlaG9sZGVyc19pZl9ub193ZWIgPT09IFwiYm9vbGVhblwiXG4gICAgICAgID8gc2FmZS5hbGxvd19wbGFjZWhvbGRlcnNfaWZfbm9fd2ViXG4gICAgICAgIDogdHJ1ZSxcbiAgICBoYXNfd2ViX2FjY2VzczpcbiAgICAgIHR5cGVvZiBzYWZlLmhhc193ZWJfYWNjZXNzID09PSBcImJvb2xlYW5cIiA/IHNhZmUuaGFzX3dlYl9hY2Nlc3MgOiB0cnVlLFxuICAgIG1heF93ZWJfcmVxdWVzdHM6IG1heFJlcXVlc3RzLFxuICAgIHByZWZlcnJlZF9zb3VyY2VzOiBwcmVmZXJyZWRTb3VyY2VzLFxuICAgIHJlY2VuY3lfZGF5czpcbiAgICAgIHR5cGVvZiBzYWZlLnJlY2VuY3lfZGF5cyA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUoc2FmZS5yZWNlbmN5X2RheXMpXG4gICAgICAgID8gTWF0aC5tYXgoMSwgTWF0aC5yb3VuZChzYWZlLnJlY2VuY3lfZGF5cykpXG4gICAgICAgIDogMzY1LFxuICAgIGFsbG93X3BsYWNlaG9sZGVyc19pZl9ibG9ja2VkOlxuICAgICAgdHlwZW9mIHNhZmUuYWxsb3dfcGxhY2Vob2xkZXJzX2lmX2Jsb2NrZWQgPT09IFwiYm9vbGVhblwiXG4gICAgICAgID8gc2FmZS5hbGxvd19wbGFjZWhvbGRlcnNfaWZfYmxvY2tlZFxuICAgICAgICA6IHRydWUsXG4gICAgY29uZmlkZW5jZV93ZWlnaHRzOiBjb25maWRlbmNlV2VpZ2h0c1xuICB9O1xuXG4gIGNvbnN0IGJ1ZGdldFJlc3VsdCA9IGFwcGx5QnVkZ2V0KG5vcm1hbGl6ZWQsIGJ1ZGdldCwge1xuICAgIG1heFdlYlJlcXVlc3RzUGF0aDogW1wibWF4X3dlYl9yZXF1ZXN0c1wiXSxcbiAgICBtYXhJdGVtc1BhdGhzOiBbW1widGFyZ2V0X2NvdW50XCJdXVxuICB9KTtcbiAgbm9ybWFsaXplZC5idWRnZXQgPSBidWRnZXQ7XG4gIG5vcm1hbGl6ZWQuYnVkZ2V0X2FwcGxpZWQgPSBidWRnZXRSZXN1bHQuYnVkZ2V0X2FwcGxpZWQ7XG4gIG5vcm1hbGl6ZWQuYnVkZ2V0X3dhcm5pbmdzID0gYnVkZ2V0UmVzdWx0Lndhcm5pbmdzO1xuICByZXR1cm4gbm9ybWFsaXplZDtcbn07XG5cbmNvbnN0IFNJR05BTF9MSUJSQVJZID0ge1xuICBtYXJrZXRwbGFjZV9zdG9yZWZyb250OiB7IGxhYmVsOiBcItC10YHRgtGMINCy0LjRgtGA0LjQvdCwIFdCL096b25cIiwgd2VpZ2h0OiAxMCwgdHlwZTogXCJtYXJrZXRwbGFjZVwiIH0sXG4gIHJldmlld3NfMjAwOiB7IGxhYmVsOiBcIjIwMCsg0L7RgtC30YvQstC+0LJcIiwgd2VpZ2h0OiAxNSwgdHlwZTogXCJtYXJrZXRwbGFjZVwiIH0sXG4gIGFjdGl2ZV9za3U6IHsgbGFiZWw6IFwi0LDQutGC0LjQstC90YvQtSDQvtCx0L3QvtCy0LvQtdC90LjRjyBTS1VcIiwgd2VpZ2h0OiAxMCwgdHlwZTogXCJtYXJrZXRwbGFjZVwiIH0sXG4gIGNvbXBldGl0aXZlX2NhdGVnb3J5OiB7IGxhYmVsOiBcItC60L7QvdC60YPRgNC10L3RgtC90LDRjyDQutCw0YLQtdCz0L7RgNC40Y9cIiwgd2VpZ2h0OiAxMCwgdHlwZTogXCJtYXJrZXRwbGFjZVwiIH0sXG4gIHNvY2lhbF9wb3N0aW5nOiB7IGxhYmVsOiBcIlZLL1RHINC/0L7RgdGC0LjQvdCzIDIrINCyINC90LXQtNC10LvRjlwiLCB3ZWlnaHQ6IDEwLCB0eXBlOiBcInNvY2lhbFwiIH0sXG4gIHNvY2lhbF9lbmdhZ2VtZW50OiB7IGxhYmVsOiBcItCy0L7QstC70LXRh9C10L3QvdC+0YHRgtGMINCyINC60L7QvNC80LXQvdGC0LDRgNC40Y/RhVwiLCB3ZWlnaHQ6IDEwLCB0eXBlOiBcInNvY2lhbFwiIH0sXG4gIHlhbmRleF9pbnRlbnQ6IHsgbGFiZWw6IFwi0K/QvdC00LXQutGBINC40L3RgtC10L3RgtGLINC60YPQv9C40YLRjC/QtNC+0YHRgtCw0LLQutCwL9C+0L/RgtC+0Lwv0L/QvtGB0YLQsNCy0YnQuNC6XCIsIHdlaWdodDogMTAsIHR5cGU6IFwiaW50ZW50XCIgfSxcbiAgb3BzX3BhaW46IHsgbGFiZWw6IFwi0LzQvdC+0LPQviDQvtC/0LXRgNCw0YbQuNC+0L3QvdGL0YUg0L/RgNC+0YbQtdGB0YHQvtCyIChDUk0v0LrQvtC70Lst0YbQtdC90YLRgC/Qu9C+0LPQuNGB0YLQuNC60LAv0LrQvtC90YLQtdC90YIpXCIsIHdlaWdodDogMTUsIHR5cGU6IFwib3BzXCIgfVxufTtcblxuY29uc3Qgc2NvcmVTaWduYWxTdHJlbmd0aCA9IChzaWduYWxLZXlzKSA9PiB7XG4gIGNvbnN0IHNjb3JlID0gc2lnbmFsS2V5cy5yZWR1Y2UoKHRvdGFsLCBrZXkpID0+IHtcbiAgICBjb25zdCBzaWduYWwgPSBTSUdOQUxfTElCUkFSWVtrZXldO1xuICAgIHJldHVybiB0b3RhbCArIChzaWduYWwgPyBzaWduYWwud2VpZ2h0IDogMCk7XG4gIH0sIDApO1xuICByZXR1cm4gTWF0aC5taW4oMTAwLCBzY29yZSk7XG59O1xuXG5jb25zdCBzY29yZVBhaW4gPSAoc2lnbmFsS2V5cykgPT4ge1xuICBsZXQgc2NvcmUgPSAyMDtcbiAgaWYgKHNpZ25hbEtleXMuaW5jbHVkZXMoXCJvcHNfcGFpblwiKSkgc2NvcmUgKz0gNDU7XG4gIGlmIChzaWduYWxLZXlzLmluY2x1ZGVzKFwicmV2aWV3c18yMDBcIikpIHNjb3JlICs9IDEwO1xuICBpZiAoc2lnbmFsS2V5cy5pbmNsdWRlcyhcInNvY2lhbF9lbmdhZ2VtZW50XCIpKSBzY29yZSArPSAxNTtcbiAgaWYgKHNpZ25hbEtleXMuaW5jbHVkZXMoXCJ5YW5kZXhfaW50ZW50XCIpKSBzY29yZSArPSAxMDtcbiAgcmV0dXJuIE1hdGgubWluKDEwMCwgc2NvcmUpO1xufTtcblxuY29uc3Qgc2NvcmVDb25maWRlbmNlID0gKGZpdFNjb3JlLCBwYWluU2NvcmUsIHNpZ25hbFN0cmVuZ3RoLCB3ZWlnaHRzKSA9PiB7XG4gIGNvbnN0IHNhZmUgPSB3ZWlnaHRzICYmIHR5cGVvZiB3ZWlnaHRzID09PSBcIm9iamVjdFwiID8gd2VpZ2h0cyA6IHt9O1xuICBjb25zdCBmaXRXZWlnaHQgPSBOdW1iZXIuaXNGaW5pdGUoc2FmZS5maXRfc2NvcmUpID8gc2FmZS5maXRfc2NvcmUgOiAwLjQ1O1xuICBjb25zdCBwYWluV2VpZ2h0ID0gTnVtYmVyLmlzRmluaXRlKHNhZmUucGFpbl9zY29yZSkgPyBzYWZlLnBhaW5fc2NvcmUgOiAwLjM7XG4gIGNvbnN0IHNpZ25hbFdlaWdodCA9IE51bWJlci5pc0Zpbml0ZShzYWZlLnNpZ25hbF9zdHJlbmd0aCkgPyBzYWZlLnNpZ25hbF9zdHJlbmd0aCA6IDAuMjU7XG4gIGNvbnN0IHRvdGFsID1cbiAgICBmaXRTY29yZSAqIGZpdFdlaWdodCArIHBhaW5TY29yZSAqIHBhaW5XZWlnaHQgKyBzaWduYWxTdHJlbmd0aCAqIHNpZ25hbFdlaWdodDtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgTWF0aC5yb3VuZCh0b3RhbCkpKTtcbn07XG5cbmNvbnN0IHBhaW5TdHJlbmd0aCA9IChzaWduYWxLZXlzKSA9PiB7XG4gIHJldHVybiBzY29yZVBhaW4oc2lnbmFsS2V5cyk7XG59O1xuXG5jb25zdCBub3JtYWxpemVEZWR1cGVLZXkgPSAobmFtZSA9IFwiXCIsIGxpbmsgPSBcIlwiKSA9PiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWROYW1lID0gdHlwZW9mIG5hbWUgPT09IFwic3RyaW5nXCIgPyBuYW1lLnRyaW0oKSA6IFwiXCI7XG4gIGNvbnN0IG5vcm1hbGl6ZWRMaW5rID0gdHlwZW9mIGxpbmsgPT09IFwic3RyaW5nXCIgPyBsaW5rLnRyaW0oKSA6IFwiXCI7XG4gIGNvbnN0IGRvbWFpbiA9XG4gICAgZXh0cmFjdERvbWFpbkZyb21VcmwoY2Fub25pY2FsaXplVXJsKG5vcm1hbGl6ZWRMaW5rIHx8IFwiXCIpKSB8fFxuICAgIGV4dHJhY3REb21haW5Gcm9tVXJsKG5vcm1hbGl6ZWROYW1lKTtcbiAgcmV0dXJuIG1ha2VEZWR1cGVLZXkoeyBkb21haW4sIG5hbWU6IG5vcm1hbGl6ZWROYW1lIH0sIHsgcHJlZml4OiBmYWxzZSB9KTtcbn07XG5cbmNvbnN0IGV4dHJhY3RJbm5Gcm9tVGV4dCA9ICh0ZXh0ID0gXCJcIikgPT4ge1xuICBjb25zdCBtYXRjaCA9IHRleHQubWF0Y2goL9CY0J3QnVxccyooXFxkezEwLDEyfSkvaSk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSA/IG1hdGNoWzFdIDogXCJcIjtcbn07XG5cbmNvbnN0IGV4dHJhY3RQaG9uZUZyb21UZXh0ID0gKHRleHQgPSBcIlwiKSA9PiB7XG4gIGNvbnN0IG1hdGNoID0gdGV4dC5tYXRjaCgvKFxcKzd8OClcXHM/XFwoP1xcZHszfVxcKT9bXFxzLV0/XFxkezN9W1xccy1dP1xcZHsyfVtcXHMtXT9cXGR7Mn0vKTtcbiAgaWYgKCFtYXRjaCB8fCAhbWF0Y2hbMF0pIHJldHVybiBcIlwiO1xuICByZXR1cm4gbm9ybWFsaXplUGhvbmUobWF0Y2hbMF0pO1xufTtcblxuY29uc3QgaXNBZ2dyZWdhdG9yID0gKG5hbWUgPSBcIlwiKSA9PiB7XG4gIGNvbnN0IGxvd2VyID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXl3b3JkcyA9IFtcbiAgICBcItC60LDRgtCw0LvQvtCzXCIsXG4gICAgXCLQsNCz0YDQtdCz0LDRgtC+0YBcIixcbiAgICBcItGB0L/QuNGB0L7QulwiLFxuICAgIFwi0YLQvtC/XCIsXG4gICAgXCLRgNC10LnRgtC40L3Qs1wiLFxuICAgIFwi0YHQv9GA0LDQstC+0YfQvdC40LpcIixcbiAgICBcItGE0YDQsNC90YjQuNC3XCIsXG4gICAgXCLQutCw0YLQsNC70L7Qs9C4XCJcbiAgXTtcbiAgcmV0dXJuIGtleXdvcmRzLnNvbWUoKGtleXdvcmQpID0+IGxvd2VyLmluY2x1ZGVzKGtleXdvcmQpKTtcbn07XG5cbmNvbnN0IHNlZ21lbnRUZW1wbGF0ZXMgPSBbXG4gIHtcbiAgICBrZXk6IFwibXAtYnJhbmRzXCIsXG4gICAgY2hhbm5lbHM6IFtcIldCXCIsIFwiT3pvblwiXSxcbiAgICBzZWdtZW50X25hbWU6IFwiV0IvT3pvbiDQsdGA0LXQvdC0LdGB0LXQu9C70LXRgNGLINGBINCw0LrRgtC40LLQvdGL0Lwg0LDRgdGB0L7RgNGC0LjQvNC10L3RgtC+0LxcIixcbiAgICBhdmdfY2hlY2tfb3JfbWFyZ2luX2VzdGltYXRlOlxuICAgICAgXCLQodGA0LXQtNC90LjQuSDRh9C10LogMSAyMDAtMyA1MDAg4oK9LCDQvNCw0YDQttCwIDIwLTM1JSAoZXN0aW1hdGUpXCIsXG4gICAgTFBSOiBbXCLQstC70LDQtNC10LvQtdGGXCIsIFwi0YDRg9C60L7QstC+0LTQuNGC0LXQu9GMIGVjb21cIiwgXCLQtNC40YDQtdC60YLQvtGAINC/0L4g0LzQsNGA0LrQtdGC0LjQvdCz0YNcIl0sXG4gICAgcGFpbl90cmlnZ2VyczogW1xuICAgICAgXCLQvNC90L7Qs9C+INC+0YLQt9GL0LLQvtCyINC4INCy0L7Qv9GA0L7RgdC+0LJcIixcbiAgICAgIFwi0LrQvtC90YLQtdC90YIg0L3QtSDRg9GB0L/QtdCy0LDQtdGCINC30LAgU0tVXCIsXG4gICAgICBcItC60L7QvdC60YPRgNC10L3RgtC90LDRjyDQutCw0YLQtdCz0L7RgNC40Y9cIixcbiAgICAgIFwi0YHQvdC40LbQtdC90LjQtSDQutC+0L3QstC10YDRgdC40Lgg0LrQsNGA0YLQvtGH0LXQulwiXG4gICAgXSxcbiAgICB3aHlfYWdlbnRvczogW1xuICAgICAgXCLQsNCy0YLQvtC+0YLQstC10YLRiyDQvdCwINC+0YLQt9GL0LLRiyDQuCDRgdC+0L7QsdGJ0LXQvdC40Y9cIixcbiAgICAgIFwi0LPQtdC90LXRgNCw0YbQuNGPL9C+0L/RgtC40LzQuNC30LDRhtC40Y8g0LrQsNGA0YLQvtGH0LXQulwiLFxuICAgICAgXCLQvNC+0L3QuNGC0L7RgNC40L3QsyDQutC+0L3QutGD0YDQtdC90YLQvtCyINC4INGG0LXQvVwiXG4gICAgXSxcbiAgICByZWNvbW1lbmRlZF9lbnRyeV9vZmZlcjpcbiAgICAgIFwiMy03INC00L3QtdC5OiDQsNGD0LTQuNGCIDEwINC60LDRgNGC0L7Rh9C10LogKyDQsNCy0YLQvtC+0YLQstC10YLRiyDQvdCwINC+0YLQt9GL0LLRi1wiLFxuICAgIHR5cGljYWxfc3RhY2s6IFtcIldCL096b24g0LrQsNCx0LjQvdC10YJcIiwgXCLRgtCw0LHQu9C40YbRiyBTS1VcIiwgXCLQvNC10YHRgdC10L3QtNC20LXRgNGLXCJdLFxuICAgIHRvcF9vYmplY3Rpb25zOiBbXCLRgyDQvdCw0YEg0YPQttC1INC10YHRgtGMINC60L7QvdGC0LXQvdGCLdC80LXQvdC10LTQttC10YBcIiwgXCLQtNC+0YDQvtCz0L5cIiwgXCLQvdC10L/QvtC90Y/RgtC90L4g0LrQsNC6INCy0L3QtdC00YDRj9GC0YxcIl0sXG4gICAgcHJvb2ZfaWRlYXM6IFtcbiAgICAgIFwi0L/QvtC60LDQt9Cw0YLRjCDRgNC+0YHRgiDRgNC10LnRgtC40L3Qs9CwL9C60L7QvdCy0LXRgNGB0LjQuCDQvdCwIDUtMTAg0LrQsNGA0YLQvtGH0LrQsNGFXCIsXG4gICAgICBcItGB0YDQsNCy0L3QuNGC0Ywg0L7RgtCy0LXRgtGLINC90LAg0L7RgtC30YvQstGLINC00L4v0L/QvtGB0LvQtVwiXG4gICAgXSxcbiAgICBhbnRpSUNQOiBbXG4gICAgICBcItCw0LPRgNC10LPQsNGC0L7RgNGLINC4INGA0LXQudGC0LjQvdCz0Lgg0LHQtdC3INGB0L7QsdGB0YLQstC10L3QvdC+0LPQviDQsdGA0LXQvdC00LBcIixcbiAgICAgIFwi0YHQtdC70LvQtdGA0Ysg0LHQtdC3INCw0YHRgdC+0YDRgtC40LzQtdC90YLQsCDQuCDQsdC10Lcg0L7RgtC30YvQstC+0LJcIixcbiAgICAgIFwi0L/RgNC+0LXQutGC0Ysg0LHQtdC3INC/0YPQsdC70LjRh9C90YvRhSDRgdC70LXQtNC+0LIg0L/RgNC+0LTQsNC2XCJcbiAgICBdLFxuICAgIG1pbmltdW1fdmlhYmxlX3NpZ25hbHM6IFtcbiAgICAgIFwi0LXRgdGC0Ywg0LLQuNGC0YDQuNC90LAgV0IvT3pvblwiLFxuICAgICAgXCIyMDArINC+0YLQt9GL0LLQvtCyINC40LvQuCDQsNC60YLQuNCy0L3Ri9C5INC/0L7RgtC+0Log0LLQvtC/0YDQvtGB0L7QslwiLFxuICAgICAgXCLQv9GA0LjQt9C90LDQutC4INC+0L/QtdGA0LDRhtC40L7QvdC90L7QuSDQvdCw0LPRgNGD0LfQutC4ICjQu9C+0LPQuNGB0YLQuNC60LAv0LrQvtC90YLQtdC90YIv0L7RgtCy0LXRgtGLKVwiXG4gICAgXVxuICB9LFxuICB7XG4gICAga2V5OiBcIm1wLW5pY2hlXCIsXG4gICAgY2hhbm5lbHM6IFtcIldCXCIsIFwiT3pvblwiXSxcbiAgICBzZWdtZW50X25hbWU6IFwi0J3QuNGI0LXQstGL0LUg0LHRgNC10L3QtNGLINC90LAgV0IvT3pvbiDRgSDRgdC40LvRjNC90YvQvNC4INC+0YLQt9GL0LLQsNC80LhcIixcbiAgICBhdmdfY2hlY2tfb3JfbWFyZ2luX2VzdGltYXRlOlxuICAgICAgXCLQodGA0LXQtNC90LjQuSDRh9C10LogMSA1MDAtNSAwMDAg4oK9LCDQvNCw0YDQttCwIDI1LTQwJSAoZXN0aW1hdGUpXCIsXG4gICAgTFBSOiBbXCLQstC70LDQtNC10LvQtdGGXCIsIFwi0LHRgNC10L3QtC3QvNC10L3QtdC00LbQtdGAXCIsIFwi0YDRg9C60L7QstC+0LTQuNGC0LXQu9GMIGVjb21cIl0sXG4gICAgcGFpbl90cmlnZ2VyczogW1xuICAgICAgXCLQt9Cw0LLQuNGB0LjQvNC+0YHRgtGMINC+0YIg0YDQtdC50YLQuNC90LPQsFwiLFxuICAgICAgXCLQvNC90L7Qs9C+IFNLVSDQsdC10Lcg0L/QvtC00LTQtdGA0LbQutC4XCIsXG4gICAgICBcItGA0YPRh9C90LDRjyDRgNCw0LHQvtGC0LAg0YEg0LDQutGG0LjRj9C80LhcIlxuICAgIF0sXG4gICAgd2h5X2FnZW50b3M6IFtcbiAgICAgIFwi0LzQvtC90LjRgtC+0YDQuNC90LMg0L7RgtC30YvQstC+0LIg0Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7QslwiLFxuICAgICAgXCLQutC+0L3RgtC10L3RgiDQtNC70Y8g0LDQutGG0LjQuVwiLFxuICAgICAgXCLQutC+0L3RgtGA0L7Qu9GMINC70L7Qs9C40YHRgtC40LrQuCDQuCDQvtGB0YLQsNGC0LrQvtCyXCJcbiAgICBdLFxuICAgIHJlY29tbWVuZGVkX2VudHJ5X29mZmVyOlxuICAgICAgXCIzLTUg0LTQvdC10Lk6INC80L7QvdC40YLQvtGA0LjQvdCzINC+0YLQt9GL0LLQvtCyICsg0L/Qu9Cw0L0g0YPQu9GD0YfRiNC10L3QuNC5INC/0L4gMSDQutCw0YLQtdCz0L7RgNC40LhcIixcbiAgICB0eXBpY2FsX3N0YWNrOiBbXCJXQi9Pem9uXCIsIFwi0YLQsNCx0LvQuNGG0YtcIiwgXCLRh9Cw0YIg0L/QvtC00LTQtdGA0LbQutC4XCJdLFxuICAgIHRvcF9vYmplY3Rpb25zOiBbXCLQvNGLINC80LDQu9C10L3RjNC60LjQuSDQsdGA0LXQvdC0XCIsIFwi0L3QtdGCINGA0LXRgdGD0YDRgdC+0LIg0L3QsCDQstC90LXQtNGA0LXQvdC40LVcIiwgXCLQtNC+0YHRgtCw0YLQvtGH0L3QviDRgtC10LrRg9GJ0LjRhSDQuNC90YHRgtGA0YPQvNC10L3RgtC+0LJcIl0sXG4gICAgcHJvb2ZfaWRlYXM6IFtcbiAgICAgIFwi0L/QvtC60LDQt9Cw0YLRjCDRgNC+0YHRgiDRgNC10LnRgtC40L3Qs9CwINC/0L7RgdC70LUg0LDQstGC0L7QvtGC0LLQtdGC0L7QslwiLFxuICAgICAgXCLQsdGL0YHRgtGA0YvQuSDQutC+0L3RgtC10L3Rgi3Qv9Cw0LrQtdGCINC/0L7QtCDQsNC60YbQuNC4XCJcbiAgICBdLFxuICAgIGFudGlJQ1A6IFtcbiAgICAgIFwib25lLXByb2R1Y3Qg0LLQuNGC0YDQuNC90Ysg0LHQtdC3INC00LLQuNC20LXQvdC40Y9cIixcbiAgICAgIFwi0L/Rg9GB0YLRi9C1INC60LDRgtCw0LvQvtCz0Lgg0LHQtdC3INC+0YLQt9GL0LLQvtCyXCIsXG4gICAgICBcItC/0LXRgNC10L/RgNC+0LTQsNC20LAg0LHQtdC3INGB0L7QsdGB0YLQstC10L3QvdC+0LPQviDQsdGA0LXQvdC00LBcIlxuICAgIF0sXG4gICAgbWluaW11bV92aWFibGVfc2lnbmFsczogW1xuICAgICAgXCLQstC40LTQvdCwINCy0LjRgtGA0LjQvdCwINC4INCw0YHRgdC+0YDRgtC40LzQtdC90YJcIixcbiAgICAgIFwi0LXRgdGC0Ywg0LfQsNC80LXRgtC90YvQuSDQvtCx0YrRkdC8INC+0YLQt9GL0LLQvtCyL9Cy0L7Qv9GA0L7RgdC+0LJcIixcbiAgICAgIFwi0LLQuNC00L3RiyDQuNC30LzQtdC90LXQvdC40Y8g0LrQsNGA0YLQvtGH0LXQui/QsNC60YbQuNC5XCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBrZXk6IFwiZDJjXCIsXG4gICAgY2hhbm5lbHM6IFtcIkQyQ1wiXSxcbiAgICBzZWdtZW50X25hbWU6IFwiRDJDLdCx0YDQtdC90LTRiyDRgSDRgdC+0LHRgdGC0LLQtdC90L3Ri9C8INGB0LDQudGC0L7QvCDQuCDQsNC60YLQuNCy0L3Ri9C8INC60L7QvdGC0LXQvdGC0L7QvFwiLFxuICAgIGF2Z19jaGVja19vcl9tYXJnaW5fZXN0aW1hdGU6XG4gICAgICBcItCh0YDQtdC00L3QuNC5INGH0LXQuiAyIDAwMC04IDAwMCDigr0sINC80LDRgNC20LAgMzAtNTAlIChlc3RpbWF0ZSlcIixcbiAgICBMUFI6IFtcItCy0LvQsNC00LXQu9C10YZcIiwgXCLQtNC40YDQtdC60YLQvtGAINC/0L4g0LzQsNGA0LrQtdGC0LjQvdCz0YNcIiwgXCJncm93dGggbGVhZFwiXSxcbiAgICBwYWluX3RyaWdnZXJzOiBbXG4gICAgICBcItC00L7RgNC+0LPQvtC5INC70LjQtCDQuCDQvdC40LfQutCw0Y8g0LrQvtC90LLQtdGA0YHQuNGPXCIsXG4gICAgICBcItC80L3QvtCz0L4g0LLRhdC+0LTRj9GJ0LjRhSDQsdC10Lcg0L7QsdGA0LDQsdC+0YLQutC4XCIsXG4gICAgICBcItC90YPQttC10L0g0L/QvtGB0YLQvtGP0L3QvdGL0Lkg0LrQvtC90YLQtdC90YJcIlxuICAgIF0sXG4gICAgd2h5X2FnZW50b3M6IFtcbiAgICAgIFwi0LvQuNC00L7Qs9C10L0g0Lgg0LrQstCw0LvQuNGE0LjQutCw0YbQuNGPXCIsXG4gICAgICBcItC60L7QvdGC0LXQvdGCLdC/0LvQsNC9INC4IEZBUVwiLFxuICAgICAgXCLQsNCy0YLQvtC80LDRgtC40LfQsNGG0LjRjyBDUk0t0YDRg9GC0LjQvVwiXG4gICAgXSxcbiAgICByZWNvbW1lbmRlZF9lbnRyeV9vZmZlcjpcbiAgICAgIFwiMy03INC00L3QtdC5OiDQu9C40LTQvtCz0LXQvS3QsdC+0YIgKyDQsNCy0YLQvtC+0YLQstC10YLRiyDQvdCwINGC0L7Qvy0yMCDQstC+0L/RgNC+0YHQvtCyXCIsXG4gICAgdHlwaWNhbF9zdGFjazogW1wi0YHQsNC50YJcIiwgXCJDUk1cIiwgXCLQvNC10YHRgdC10L3QtNC20LXRgNGLXCJdLFxuICAgIHRvcF9vYmplY3Rpb25zOiBbXCLRgyDQvdCw0YEg0YPQttC1INC10YHRgtGMINC80LDRgNC60LXRgtC+0LvQvtCzXCIsIFwi0YHQu9C+0LbQvdC+INCy0L3QtdC00YDRj9GC0YxcIiwgXCLQvdC1INC90YPQttC10L0gQUlcIl0sXG4gICAgcHJvb2ZfaWRlYXM6IFtcbiAgICAgIFwi0L/QvtC60LDQt9Cw0YLRjCDRgNC+0YHRgiDRgdC60L7RgNC+0YHRgtC4INC+0YLQstC10YLQsFwiLFxuICAgICAgXCLQv9C10YDQstGL0LUg0LrQstCw0LvQuNGE0LjRhtC40YDQvtCy0LDQvdC90YvQtSDQu9C40LTRiyDQt9CwINC90LXQtNC10LvRjlwiXG4gICAgXSxcbiAgICBhbnRpSUNQOiBbXG4gICAgICBcItC70LXQvdC00LjQvdCz0Lgt0LLQuNC30LjRgtC60Lgg0LHQtdC3INC30LDRj9Cy0L7QulwiLFxuICAgICAgXCLQv9GA0L7QtdC60YLRiyDQsdC10Lcg0LLRhdC+0LTRj9GJ0LXQs9C+INC60LDQvdCw0LvQsFwiLFxuICAgICAgXCLQutC+0LzQv9Cw0L3QuNC4INCx0LXQtyDQutC+0LzQsNC90LTRiyDQvdCwINC+0LHRgNCw0LHQvtGC0LrRgyDQu9C40LTQvtCyXCJcbiAgICBdLFxuICAgIG1pbmltdW1fdmlhYmxlX3NpZ25hbHM6IFtcbiAgICAgIFwi0LXRgdGC0Ywg0YHQsNC50YIv0YTQvtGA0LzQsC/Rh9Cw0YJcIixcbiAgICAgIFwi0LXRgdGC0Ywg0LLRhdC+0LTRj9GJ0LjQtSDQt9Cw0L/RgNC+0YHRiyDQuNC70Lgg0LrQvtC80LzQtdC90YLQsNGA0LjQuFwiLFxuICAgICAgXCLQstC40LTQvdGLINC/0L7QstGC0L7RgNGP0Y7RidC40LXRgdGPINCy0L7Qv9GA0L7RgdGLINC60LvQuNC10L3RgtC+0LJcIlxuICAgIF1cbiAgfSxcbiAge1xuICAgIGtleTogXCJvZmZsaW5lLXNlcnZpY2VzXCIsXG4gICAgY2hhbm5lbHM6IFtcIk9mZmxpbmVTZXJ2aWNlc1wiXSxcbiAgICBzZWdtZW50X25hbWU6IFwiT2ZmbGluZSBzZXJ2aWNlczog0YDQtdC80L7QvdGCLCDQvNC10LQsINCx0YzRjtGC0LggKDMtMjAg0YLQvtGH0LXQuilcIixcbiAgICBhdmdfY2hlY2tfb3JfbWFyZ2luX2VzdGltYXRlOlxuICAgICAgXCLQodGA0LXQtNC90LjQuSDRh9C10LogMiA1MDAtMTUgMDAwIOKCvSwg0LzQsNGA0LbQsCAyNS00NSUgKGVzdGltYXRlKVwiLFxuICAgIExQUjogW1wi0LLQu9Cw0LTQtdC70LXRhlwiLCBcItGD0L/RgNCw0LLQu9GP0Y7RidC40LlcIiwgXCLRgNGD0LrQvtCy0L7QtNC40YLQtdC70Ywg0LrQvtC70Lst0YbQtdC90YLRgNCwXCJdLFxuICAgIHBhaW5fdHJpZ2dlcnM6IFtcbiAgICAgIFwi0L/QvtGC0LXRgNGPINC30LDRj9Cy0L7QulwiLFxuICAgICAgXCLQvNC90L7Qs9C+INC30LLQvtC90LrQvtCyINC4INGB0L7QvtCx0YnQtdC90LjQuVwiLFxuICAgICAgXCLRgNC10L/Rg9GC0LDRhtC40Y8g0Lgg0L7RgtC30YvQstGLXCJcbiAgICBdLFxuICAgIHdoeV9hZ2VudG9zOiBbXG4gICAgICBcItC30LDQv9C40YHRjC/RgNCw0YHQv9C40YHQsNC90LjQtVwiLFxuICAgICAgXCLQvtCx0YDQsNCx0L7RgtC60LAg0LvQuNC00L7QslwiLFxuICAgICAgXCLQvdCw0L/QvtC80LjQvdCw0L3QuNGPINC4INGA0LDQsdC+0YLQsCDRgSDQvtGC0LfRi9Cy0LDQvNC4XCJcbiAgICBdLFxuICAgIHJlY29tbWVuZGVkX2VudHJ5X29mZmVyOlxuICAgICAgXCIzLTUg0LTQvdC10Lk6INCw0LLRgtC+0L7QsdGA0LDQsdC+0YLQutCwINC30LDRj9Cy0L7QuiArINC90LDQv9C+0LzQuNC90LDQvdC40Y9cIixcbiAgICB0eXBpY2FsX3N0YWNrOiBbXCLQvNC10YHRgdC10L3QtNC20LXRgNGLXCIsIFwi0LrQvtC70Lst0YbQtdC90YLRgFwiLCBcIkNSTS/RgtCw0LHQu9C40YbQsFwiXSxcbiAgICB0b3Bfb2JqZWN0aW9uczogW1wi0YMg0L3QsNGBINCw0LTQvNC40L3QuNGB0YLRgNCw0YLQvtGAINGB0L/RgNCw0LLQu9GP0LXRgtGB0Y9cIiwgXCLQvdC1INGF0L7RgtC40Lwg0LzQtdC90Y/RgtGMINC/0YDQvtGG0LXRgdGB0YtcIiwgXCLQtNC+0YDQvtCz0L5cIl0sXG4gICAgcHJvb2ZfaWRlYXM6IFtcbiAgICAgIFwi0YHQvdC40LbQtdC90LjQtSDQv9GA0L7Qv9GD0YnQtdC90L3Ri9GFINC30LDRj9Cy0L7QulwiLFxuICAgICAgXCLRgdC60L7RgNC+0YHRgtGMINC30LDQv9C40YHQuCDQuCDQvtGC0LLQtdGC0LBcIlxuICAgIF0sXG4gICAgYW50aUlDUDogW1xuICAgICAgXCLQvtC00LjQvdC+0YfQvdGL0LUg0LzQsNGB0YLQtdGA0LAg0LHQtdC3INC90LDQs9GA0YPQt9C60LhcIixcbiAgICAgIFwi0YLQvtGH0LrQuCDQsdC10Lcg0L7QvdC70LDQudC9LdC60L7QvdGC0LDQutGC0L7QslwiLFxuICAgICAgXCLQsdC40LfQvdC10YHRiyDQsdC10Lcg0L7RgtC30YvQstC+0LIg0Lgg0YDQsNGB0L/QuNGB0LDQvdC40Y9cIlxuICAgIF0sXG4gICAgbWluaW11bV92aWFibGVfc2lnbmFsczogW1xuICAgICAgXCLQtdGB0YLRjCDQt9Cw0L/QuNGB0Ywv0YLQtdC70LXRhNC+0L0v0LzQtdGB0YHQtdC90LTQttC10YBcIixcbiAgICAgIFwi0LLQuNC00L3QsCDQvtC/0LXRgNCw0YbQuNC+0L3QvdCw0Y8g0LHQvtC70Ywg0L/QviDQvtGC0LfRi9Cy0LDQvFwiLFxuICAgICAgXCLQtdGB0YLRjCDRgNC10LPRg9C70Y/RgNC90YvQuSDQv9C+0YLQvtC6INC+0LHRgNCw0YnQtdC90LjQuVwiXG4gICAgXVxuICB9LFxuICB7XG4gICAga2V5OiBcImIyYlwiLFxuICAgIGNoYW5uZWxzOiBbXCJCMkJcIl0sXG4gICAgc2VnbWVudF9uYW1lOiBcIkIyQiDQv9C+0LTRgNGP0LTRh9C40LrQuDog0LvQvtCz0LjRgdGC0LjQutCwLCDQv9GA0L7QuNC30LLQvtC00YHRgtCy0L4sIElULdCw0YPRgtGB0L7RgNGBXCIsXG4gICAgYXZnX2NoZWNrX29yX21hcmdpbl9lc3RpbWF0ZTpcbiAgICAgIFwi0KHRgNC10LTQvdC40Lkg0YfQtdC6IDE1MCAwMDAtMiAwMDAgMDAwIOKCvSwg0LzQsNGA0LbQsCAxNS0zNSUgKGVzdGltYXRlKVwiLFxuICAgIExQUjogW1wi0LPQtdC90LXRgNCw0LvRjNC90YvQuSDQtNC40YDQtdC60YLQvtGAXCIsIFwi0LTQuNGA0LXQutGC0L7RgCDQv9C+INGA0LDQt9Cy0LjRgtC40Y5cIiwgXCLQutC+0LzQvNC10YDRh9C10YHQutC40Lkg0LTQuNGA0LXQutGC0L7RgFwiXSxcbiAgICBwYWluX3RyaWdnZXJzOiBbXG4gICAgICBcItC00LvQuNC90L3Ri9C5INGG0LjQutC7INGB0LTQtdC70LrQuFwiLFxuICAgICAgXCLQvNC90L7Qs9C+INGC0LjQv9C+0LLRi9GFINC30LDQv9GA0L7RgdC+0LJcIixcbiAgICAgIFwi0YDRg9GH0L3QsNGPINC/0L7QtNCz0L7RgtC+0LLQutCwINCa0J9cIlxuICAgIF0sXG4gICAgd2h5X2FnZW50b3M6IFtcbiAgICAgIFwi0L/QvtC40YHQuiDQu9C40LTQvtCyL9GC0LXQvdC00LXRgNC+0LJcIixcbiAgICAgIFwi0LrQstCw0LvQuNGE0LjQutCw0YbQuNGPINC4INCa0J9cIixcbiAgICAgIFwiZm9sbG93LXVwcyDQuCDQvtGC0YfQtdGC0YtcIlxuICAgIF0sXG4gICAgcmVjb21tZW5kZWRfZW50cnlfb2ZmZXI6XG4gICAgICBcIjUtNyDQtNC90LXQuTog0LDQstGC0L4t0YHQutGA0LjQvdC40L3QsyDQu9C40LTQvtCyICsg0YjQsNCx0LvQvtC90Ysg0JrQn1wiLFxuICAgIHR5cGljYWxfc3RhY2s6IFtcIkNSTVwiLCBcItC/0L7Rh9GC0LBcIiwgXCLRgtCw0LHQu9C40YbRiy9CSVwiXSxcbiAgICB0b3Bfb2JqZWN0aW9uczogW1wi0LTQu9C40L3QvdGL0Lkg0YbQuNC60Lsg0LLQvdC10LTRgNC10L3QuNGPXCIsIFwi0YHQu9Cw0LHRi9C5IFJPSVwiLCBcItC90LXRgiDQstGA0LXQvNC10L3QuFwiXSxcbiAgICBwcm9vZl9pZGVhczogW1xuICAgICAgXCLQv9C10YDQstGL0LUg0JrQnyDQt9CwIDQ4INGH0LDRgdC+0LJcIixcbiAgICAgIFwi0YHQvtC60YDQsNGJ0LXQvdC40LUg0LLRgNC10LzQtdC90Lgg0L3QsCDQv9GA0LXRgdC10LnQu1wiXG4gICAgXSxcbiAgICBhbnRpSUNQOiBbXG4gICAgICBcItC60L7QvNC/0LDQvdC40Lgg0LHQtdC3IEIyQi3RhtC40LrQu9CwINC4INCa0J9cIixcbiAgICAgIFwi0LHQtdC3INGP0LLQvdC+0LPQviDQutC+0LzQvNC10YDRh9C10YHQutC+0LPQviDQv9GA0L7RhtC10YHRgdCwXCIsXG4gICAgICBcItC90LXRgiDQstGF0L7QtNGP0YnQtdCz0L4g0L/QvtGC0L7QutCwINC30LDQv9GA0L7RgdC+0LJcIlxuICAgIF0sXG4gICAgbWluaW11bV92aWFibGVfc2lnbmFsczogW1xuICAgICAgXCLQtdGB0YLRjCBCMkIt0L7RhNGE0LXRgC/Rg9GB0LvRg9Cz0LhcIixcbiAgICAgIFwi0LLQuNC00L3RiyDRgtC40L/QvtCy0YvQtSDQt9Cw0L/RgNC+0YHRiy/QsdGA0LjRhNGLXCIsXG4gICAgICBcItC10YHRgtGMINC60LDQvdCw0Lsg0LTQu9GPINCa0J8vZm9sbG93LXVwXCJcbiAgICBdXG4gIH0sXG4gIHtcbiAgICBrZXk6IFwibG9jYWwtcmV0YWlsXCIsXG4gICAgY2hhbm5lbHM6IFtcIk9mZmxpbmVTZXJ2aWNlc1wiXSxcbiAgICBzZWdtZW50X25hbWU6IFwi0JvQvtC60LDQu9GM0L3Ri9C1INGB0LXRgtC4IHJldGFpbC9mb29kIDMtMTUg0YLQvtGH0LXQulwiLFxuICAgIGF2Z19jaGVja19vcl9tYXJnaW5fZXN0aW1hdGU6XG4gICAgICBcItCh0YDQtdC00L3QuNC5INGH0LXQuiA3MDAtMiA1MDAg4oK9LCDQvNCw0YDQttCwIDE1LTMwJSAoZXN0aW1hdGUpXCIsXG4gICAgTFBSOiBbXCLRgdC+0LHRgdGC0LLQtdC90L3QuNC6XCIsIFwi0L7Qv9C10YDQsNGG0LjQvtC90L3Ri9C5INC00LjRgNC10LrRgtC+0YBcIiwgXCLQvNCw0YDQutC10YLQvtC70L7Qs1wiXSxcbiAgICBwYWluX3RyaWdnZXJzOiBbXG4gICAgICBcItC90LXRgiDQtdC00LjQvdC+0LkgQ1JNXCIsXG4gICAgICBcItGA0YPRh9C90YvQtSDQvtGC0LLQtdGC0Ysg0L3QsCDQvtGC0LfRi9Cy0YtcIixcbiAgICAgIFwi0YHQu9C+0LbQvdC+INC80LDRgdGI0YLQsNCx0LjRgNC+0LLQsNGC0Ywg0LrQvtC90YLQtdC90YJcIlxuICAgIF0sXG4gICAgd2h5X2FnZW50b3M6IFtcbiAgICAgIFwi0LXQtNC40L3Ri9C5INC60LDQvdCw0Lsg0LfQsNGP0LLQvtC6XCIsXG4gICAgICBcItCw0LLRgtC+0L7RgtCy0LXRgtGLINC90LAg0L7RgtC30YvQstGLXCIsXG4gICAgICBcItC60L7QvdGC0LXQvdGCINC00LvRjyDQu9C+0LrQsNC70YzQvdGL0YUg0LDQutGG0LjQuVwiXG4gICAgXSxcbiAgICByZWNvbW1lbmRlZF9lbnRyeV9vZmZlcjpcbiAgICAgIFwiMy01INC00L3QtdC5OiDQtdC00LjQvdGL0Lkg0LrQsNC90LDQuyDQvtGC0LfRi9Cy0L7QsiArINGI0LDQsdC70L7QvdGLINC+0YLQstC10YLQvtCyXCIsXG4gICAgdHlwaWNhbF9zdGFjazogW1wi0LrQsNGA0YLRiy/QvtGC0LfRi9Cy0YtcIiwgXCLQvNC10YHRgdC10L3QtNC20LXRgNGLXCIsIFwi0YLQsNCx0LvQuNGG0YtcIl0sXG4gICAgdG9wX29iamVjdGlvbnM6IFtcItC80Ysg0LzQsNC70LXQvdGM0LrQsNGPINGB0LXRgtGMXCIsIFwi0L3QtdGCINCy0YDQtdC80LXQvdC4XCIsIFwi0L3QtdGCINCx0Y7QtNC20LXRgtCwXCJdLFxuICAgIHByb29mX2lkZWFzOiBbXG4gICAgICBcItGA0L7RgdGCINGA0LXQudGC0LjQvdCz0LAg0L3QsCDQutCw0YDRgtCw0YVcIixcbiAgICAgIFwi0YHQvtC60YDQsNGJ0LXQvdC40LUg0LLRgNC10LzQtdC90Lgg0L7RgtCy0LXRgtCwXCJcbiAgICBdLFxuICAgIGFudGlJQ1A6IFtcbiAgICAgIFwi0YLQvtGH0LrQuCDQsdC10Lcg0L7RgtC30YvQstC+0LIg0Lgg0LrQsNGA0YLQvtGH0LXQulwiLFxuICAgICAgXCLQsdC40LfQvdC10YHRiyDQsdC10Lcg0L/QvtCy0YLQvtGA0L3QvtCz0L4g0YHQv9GA0L7RgdCwXCIsXG4gICAgICBcItC70L7QutCw0LvRjNC90YvQtSDQv9GA0L7QtdC60YLRiyDQsdC10Lcg0LrQvtC90YLQsNC60YLQvtCyXCJcbiAgICBdLFxuICAgIG1pbmltdW1fdmlhYmxlX3NpZ25hbHM6IFtcbiAgICAgIFwi0LXRgdGC0Ywg0LrQsNGA0YLQvtGH0LrQuCDQvdCwINC60LDRgNGC0LDRhS/QutCw0YLQsNC70L7Qs9Cw0YVcIixcbiAgICAgIFwi0LXRgdGC0Ywg0L7RgtC30YvQstGLINC40LvQuCDQvtCx0YDQsNGJ0LXQvdC40Y9cIixcbiAgICAgIFwi0LXRgdGC0Ywg0YXQvtGC0Y8g0LHRiyDQvtC00LjQvSDRhtC40YTRgNC+0LLQvtC5INC60LDQvdCw0Lsg0YHQstGP0LfQuFwiXG4gICAgXVxuICB9XG5dO1xuXG5jb25zdCBDSEFOTkVMX0NBVEVHT1JJRVMgPSB7XG4gIFdCOiBbXG4gICAgXCLQutC+0YHQvNC10YLQuNC60LBcIixcbiAgICBcItGC0L7QstCw0YDRiyDQtNC70Y8g0LTQvtC80LBcIixcbiAgICBcItC00LXRgtGB0LrQuNC1INGC0L7QstCw0YDRi1wiLFxuICAgIFwi0Y3Qu9C10LrRgtGA0L7QvdC40LrQsFwiLFxuICAgIFwi0L7QtNC10LbQtNCwXCIsXG4gICAgXCLRgdC/0L7RgNGCINC4INC+0YLQtNGL0YVcIlxuICBdLFxuICBPem9uOiBbXG4gICAgXCLRg9GF0L7QtCDQt9CwINC00L7QvNC+0LxcIixcbiAgICBcItC60YDQsNGB0L7RgtCwXCIsXG4gICAgXCLQtNC10YLRgdC60LjQtSDRgtC+0LLQsNGA0YtcIixcbiAgICBcItGN0LvQtdC60YLRgNC+0L3QuNC60LBcIixcbiAgICBcItC+0LTQtdC20LTQsFwiLFxuICAgIFwi0LDQutGB0LXRgdGB0YPQsNGA0YtcIlxuICBdLFxuICBEMkM6IFtcItGC0L7QstCw0YDRiyDQtNC70Y8g0LTQvtC80LBcIiwgXCLQutC+0YHQvNC10YLQuNC60LBcIiwgXCLQt9C00L7RgNC+0LLRjNC1XCIsIFwi0LXQtNCwINC4INC90LDQv9C40YLQutC4XCJdLFxuICBPZmZsaW5lU2VydmljZXM6IFtcItGA0LXQvNC+0L3RglwiLCBcItC80LXQtNC40YbQuNC90LBcIiwgXCLQsdGM0Y7RgtC4XCIsIFwi0YTQuNGC0L3QtdGBXCJdLFxuICBCMkI6IFtcItC70L7Qs9C40YHRgtC40LrQsFwiLCBcItC60L7QvdGC0YDQsNC60YLQvdC+0LUg0L/RgNC+0LjQt9Cy0L7QtNGB0YLQstC+XCIsIFwiSVQt0LDRg9GC0YHQvtGA0YFcIiwgXCLRgdC60LvQsNC0XCJdLFxuICBNaXhlZDogW1wi0LrQvtGB0LzQtdGC0LjQutCwXCIsIFwi0YLQvtCy0LDRgNGLINC00LvRjyDQtNC+0LzQsFwiLCBcItC00LXRgtGB0LrQuNC1INGC0L7QstCw0YDRi1wiLCBcItC70L7Qs9C40YHRgtC40LrQsFwiXVxufTtcblxuY29uc3QgU0lHTkFMX1BSRVNFVFMgPSB7XG4gIFdCOiBbXG4gICAgXCJtYXJrZXRwbGFjZV9zdG9yZWZyb250XCIsXG4gICAgXCJyZXZpZXdzXzIwMFwiLFxuICAgIFwiYWN0aXZlX3NrdVwiLFxuICAgIFwiY29tcGV0aXRpdmVfY2F0ZWdvcnlcIixcbiAgICBcIm9wc19wYWluXCJcbiAgXSxcbiAgT3pvbjogW1xuICAgIFwibWFya2V0cGxhY2Vfc3RvcmVmcm9udFwiLFxuICAgIFwicmV2aWV3c18yMDBcIixcbiAgICBcImFjdGl2ZV9za3VcIixcbiAgICBcImNvbXBldGl0aXZlX2NhdGVnb3J5XCIsXG4gICAgXCJvcHNfcGFpblwiXG4gIF0sXG4gIEQyQzogW1xuICAgIFwicmV2aWV3c18yMDBcIixcbiAgICBcInNvY2lhbF9wb3N0aW5nXCIsXG4gICAgXCJzb2NpYWxfZW5nYWdlbWVudFwiLFxuICAgIFwieWFuZGV4X2ludGVudFwiLFxuICAgIFwib3BzX3BhaW5cIlxuICBdLFxuICBPZmZsaW5lU2VydmljZXM6IFtcbiAgICBcInJldmlld3NfMjAwXCIsXG4gICAgXCJ5YW5kZXhfaW50ZW50XCIsXG4gICAgXCJzb2NpYWxfcG9zdGluZ1wiLFxuICAgIFwic29jaWFsX2VuZ2FnZW1lbnRcIixcbiAgICBcIm9wc19wYWluXCJcbiAgXSxcbiAgQjJCOiBbXCJyZXZpZXdzXzIwMFwiLCBcInlhbmRleF9pbnRlbnRcIiwgXCJvcHNfcGFpblwiLCBcInNvY2lhbF9wb3N0aW5nXCJdLFxuICBNaXhlZDogW1wieWFuZGV4X2ludGVudFwiLCBcInNvY2lhbF9wb3N0aW5nXCIsIFwib3BzX3BhaW5cIl1cbn07XG5cbmNvbnN0IElOVEVOVF9LRVlXT1JEUyA9IFtcItC60YPQv9C40YLRjFwiLCBcItC00L7RgdGC0LDQstC60LBcIiwgXCLQvtC/0YLQvtC8XCIsIFwi0L/QvtGB0YLQsNCy0YnQuNC6XCIsIFwi0YbQtdC90LBcIl07XG5jb25zdCBTRVJWSUNFX0tFWVdPUkRTID0gW1xuICBcItGA0LXQvNC+0L3RglwiLFxuICBcItC60LvQuNC90LjQulwiLFxuICBcItC80LXQtFwiLFxuICBcItCx0YzRjtGC0LhcIixcbiAgXCLRgdCw0LvQvtC9XCIsXG4gIFwi0YTQuNGC0L3QtdGBXCIsXG4gIFwi0YPRgdC70YPQs1wiLFxuICBcItC30LDQv9C40YHRjFwiLFxuICBcItGB0YLQvtC80LDRgtC+0LvQvtCzXCIsXG4gIFwi0LLQtdGC0LXRgNC40L3QsNGAXCJcbl07XG5jb25zdCBCMkJfS0VZV09SRFMgPSBbXG4gIFwi0LvQvtCz0LjRgdGCXCIsXG4gIFwi0L/RgNC+0LjQt9Cy0L7QtFwiLFxuICBcItCw0YPRgtGB0L7RgNGBXCIsXG4gIFwiYjJiXCIsXG4gIFwi0YLQtdC90LTQtdGAXCIsXG4gIFwi0LrQvtC90YLRgNCw0LrRglwiLFxuICBcItGB0LrQu9Cw0LRcIixcbiAgXCLQvtC/0YJcIlxuXTtcbmNvbnN0IE9QU19LRVlXT1JEUyA9IFtcbiAgXCJjcm1cIixcbiAgXCLQt9Cw0Y/QstC6XCIsXG4gIFwi0LrQvtC70Lst0YbQtdC90YLRgFwiLFxuICBcItC60L7Qu9C70YbQtdC90YLRgFwiLFxuICBcItC70L7Qs9C40YHRglwiLFxuICBcItC00L7RgdGC0LDQstC6XCIsXG4gIFwi0LrQvtC90YLQtdC90YJcIixcbiAgXCLQv9C+0LTQtNC10YDQttC6XCIsXG4gIFwi0YfQsNGCXCIsXG4gIFwi0LfQsNC60LDQt1wiLFxuICBcItC+0LHRgNCw0LHQvtGC0LrQsFwiXG5dO1xuXG5jb25zdCBidWlsZFNlZ21lbnRzID0gKGlucHV0KSA9PiB7XG4gIGNvbnN0IGdlbyA9IGlucHV0LmdlbyAmJiBpbnB1dC5nZW8udHJpbSgpID8gaW5wdXQuZ2VvLnRyaW0oKSA6IFwi0KDQvtGB0YHQuNGPXCI7XG4gIGxldCBzZWdtZW50cyA9IHNlZ21lbnRUZW1wbGF0ZXM7XG4gIGlmIChpbnB1dC5jaGFubmVsICYmIGlucHV0LmNoYW5uZWwgIT09IFwiTWl4ZWRcIikge1xuICAgIGNvbnN0IGZpbHRlcmVkID0gc2VnbWVudFRlbXBsYXRlcy5maWx0ZXIoKHNlZ21lbnQpID0+XG4gICAgICBzZWdtZW50LmNoYW5uZWxzLmluY2x1ZGVzKGlucHV0LmNoYW5uZWwpXG4gICAgKTtcbiAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID4gMCkge1xuICAgICAgc2VnbWVudHMgPSBmaWx0ZXJlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlZ21lbnRzLnNsaWNlKDAsIDYpLm1hcCgoc2VnbWVudCkgPT4gKHtcbiAgICBzZWdtZW50X25hbWU6IHNlZ21lbnQuc2VnbWVudF9uYW1lLFxuICAgIGdlbyxcbiAgICBhdmdfY2hlY2tfb3JfbWFyZ2luX2VzdGltYXRlOiBzZWdtZW50LmF2Z19jaGVja19vcl9tYXJnaW5fZXN0aW1hdGUsXG4gICAgTFBSOiBzZWdtZW50LkxQUixcbiAgICBwYWluX3RyaWdnZXJzOiBzZWdtZW50LnBhaW5fdHJpZ2dlcnMsXG4gICAgd2h5X2FnZW50b3M6IHNlZ21lbnQud2h5X2FnZW50b3MsXG4gICAgcmVjb21tZW5kZWRfZW50cnlfb2ZmZXI6IHNlZ21lbnQucmVjb21tZW5kZWRfZW50cnlfb2ZmZXIsXG4gICAgdHlwaWNhbF9zdGFjazogc2VnbWVudC50eXBpY2FsX3N0YWNrLFxuICAgIHRvcF9vYmplY3Rpb25zOiBzZWdtZW50LnRvcF9vYmplY3Rpb25zLFxuICAgIHByb29mX2lkZWFzOiBzZWdtZW50LnByb29mX2lkZWFzLFxuICAgIGFudGlJQ1A6IHNlZ21lbnQuYW50aUlDUCxcbiAgICBtaW5pbXVtX3ZpYWJsZV9zaWduYWxzOiBzZWdtZW50Lm1pbmltdW1fdmlhYmxlX3NpZ25hbHNcbiAgfSkpO1xufTtcblxuY29uc3QgYnVpbGRTZWFyY2hRdWVyeSA9IChjaGFubmVsLCBjYXRlZ29yeSwgZ2VvKSA9PiB7XG4gIGNvbnN0IGdlb1BhcnQgPSBnZW8gPyBgICR7Z2VvfWAgOiBcIlwiO1xuICBpZiAoY2hhbm5lbCA9PT0gXCJXQlwiKSB7XG4gICAgcmV0dXJuIGBzaXRlOndpbGRiZXJyaWVzLnJ1ICR7Y2F0ZWdvcnl9JHtnZW9QYXJ0fSDQvtGC0LfRi9Cy0YsgMjAwKyDQsdGA0LXQvdC0YDtcbiAgfVxuICBpZiAoY2hhbm5lbCA9PT0gXCJPem9uXCIpIHtcbiAgICByZXR1cm4gYHNpdGU6b3pvbi5ydSAke2NhdGVnb3J5fSR7Z2VvUGFydH0g0LHRgNC10L3QtCDQutCw0YLQsNC70L7QsyDQvtGC0LfRi9Cy0YtgO1xuICB9XG4gIGlmIChjaGFubmVsID09PSBcIkQyQ1wiKSB7XG4gICAgcmV0dXJuIGAke2NhdGVnb3J5fSR7Z2VvUGFydH0g0L7RhNC40YbQuNCw0LvRjNC90YvQuSDRgdCw0LnRgiDQsdGA0LXQvdC0INC+0YLQt9GL0LLRi2A7XG4gIH1cbiAgaWYgKGNoYW5uZWwgPT09IFwiT2ZmbGluZVNlcnZpY2VzXCIpIHtcbiAgICByZXR1cm4gYCR7Y2F0ZWdvcnl9JHtnZW9QYXJ0fSDRg9GB0LvRg9Cz0Lgg0L7RgtC30YvQstGLINC30LDQv9C40YHRjGA7XG4gIH1cbiAgaWYgKGNoYW5uZWwgPT09IFwiQjJCXCIpIHtcbiAgICByZXR1cm4gYCR7Y2F0ZWdvcnl9JHtnZW9QYXJ0fSDQv9C+0YHRgtCw0LLRidC40Log0YPRgdC70YPQs9C4INC00LvRjyDQsdC40LfQvdC10YHQsGA7XG4gIH1cbiAgcmV0dXJuIGAke2NhdGVnb3J5fSR7Z2VvUGFydH0g0LHRgNC10L3QtCDQvtGC0LfRi9Cy0YtgO1xufTtcblxuY29uc3QgcGlja1RvcFNpZ25hbHMgPSAoc2lnbmFsS2V5cykgPT4ge1xuICByZXR1cm4gWy4uLm5ldyBTZXQoc2lnbmFsS2V5cyldXG4gICAgLm1hcCgoa2V5KSA9PiAoeyBrZXksIHdlaWdodDogU0lHTkFMX0xJQlJBUllba2V5XT8ud2VpZ2h0ID8/IDAgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIud2VpZ2h0IC0gYS53ZWlnaHQpXG4gICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5rZXkpXG4gICAgLnNsaWNlKDAsIDMpO1xufTtcblxuY29uc3QgYnVpbGRTaWduYWxOb3RlcyA9IChzaWduYWxLZXlzKSA9PiB7XG4gIGNvbnN0IHNpZ25hbHMgPSBzaWduYWxLZXlzLm1hcCgoa2V5KSA9PiBTSUdOQUxfTElCUkFSWVtrZXldPy5sYWJlbCkuZmlsdGVyKEJvb2xlYW4pO1xuICByZXR1cm4ge1xuICAgIHdoeV9oZXJlOiBg0JrRgNC40YLQtdGA0LjQuDogJHtzaWduYWxzLnNsaWNlKDAsIDMpLmpvaW4oXCI7IFwiKX0uYCxcbiAgICBzb3VyY2Vfbm90ZXM6IGDQn9GD0LHQu9C40YfQvdGL0LUg0YHQuNCz0L3QsNC70Ysg0LTQu9GPINC/0YDQvtCy0LXRgNC60Lg6ICR7c2lnbmFscy5zbGljZSgwLCAzKS5qb2luKFwiOyBcIil9LmBcbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkQ2FuZGlkYXRlID0gKHtcbiAgY2hhbm5lbCxcbiAgc2VnbWVudE5hbWUsXG4gIGNhdGVnb3J5LFxuICBnZW8sXG4gIHNpZ25hbEtleXMsXG4gIGNvbmZpZGVuY2VXZWlnaHRzLFxuICBmaXJzdF9vZmZlcixcbiAgZXhwZWN0ZWRfb3V0Y29tZSxcbiAgcmVxdWlyZWRfYWNjZXNzLFxuICBuZXh0X3N0ZXBfbWVzc2FnZV9hbmdsZVxufSkgPT4ge1xuICBjb25zdCBzaWduYWxzID0gcGlja1RvcFNpZ25hbHMoc2lnbmFsS2V5cyk7XG4gIGNvbnN0IGZpdFNjb3JlID0gc2NvcmVGaXQoc2lnbmFscywgY2hhbm5lbCwgc2VnbWVudE5hbWUpO1xuICBjb25zdCBwYWluU2NvcmUgPSBzY29yZVBhaW4oc2lnbmFscyk7XG4gIGNvbnN0IHNpZ25hbFN0cmVuZ3RoID0gc2NvcmVTaWduYWxTdHJlbmd0aChzaWduYWxzKTtcbiAgY29uc3QgY29uZmlkZW5jZSA9IHNjb3JlQ29uZmlkZW5jZShcbiAgICBmaXRTY29yZSxcbiAgICBwYWluU2NvcmUsXG4gICAgc2lnbmFsU3RyZW5ndGgsXG4gICAgY29uZmlkZW5jZVdlaWdodHNcbiAgKTtcbiAgY29uc3Qgc2VhcmNoUXVlcnkgPSBidWlsZFNlYXJjaFF1ZXJ5KGNoYW5uZWwsIGNhdGVnb3J5LCBnZW8pO1xuICBjb25zdCBldmlkZW5jZSA9IHNpZ25hbHMubWFwKChzaWduYWwpID0+ICh7XG4gICAgdXJsOiBidWlsZFNlYXJjaFVybChzZWFyY2hRdWVyeSwgXCJ5YW5kZXhcIiksXG4gICAgdGl0bGU6IFwiU2VhcmNoIHRlbXBsYXRlXCIsXG4gICAgZXZpZGVuY2Vfc25pcHBldDogY2xpcFNuaXBwZXQoXG4gICAgICBg0J/RgNC+0LLQtdGA0LjRgtGMOiAke1NJR05BTF9MSUJSQVJZW3NpZ25hbF0/LmxhYmVsIHx8IHNpZ25hbH1gLFxuICAgICAgMTYwXG4gICAgKSxcbiAgICBzaWduYWxfdHlwZTogc2lnbmFsLFxuICAgIHNpZ25hbF92YWx1ZTogU0lHTkFMX0xJQlJBUllbc2lnbmFsXT8ubGFiZWwgfHwgc2lnbmFsXG4gIH0pKTtcbiAgY29uc3Qgbm90ZXMgPSBidWlsZFdoeUhlcmVBbmROb3RlcyhldmlkZW5jZSk7XG4gIGNvbnN0IG5hbWVQbGFjZWhvbGRlciA9IGAke2NoYW5uZWx9ICR7Y2F0ZWdvcnl9INCx0YDQtdC90LRgO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IFwiXCIsXG4gICAgbGluazogXCJcIixcbiAgICBuYW1lX3BsYWNlaG9sZGVyOiBuYW1lUGxhY2Vob2xkZXIsXG4gICAgc2VhcmNoX3F1ZXJ5OiBzZWFyY2hRdWVyeSxcbiAgICBjaGFubmVsLFxuICAgIHNlZ21lbnRfbWF0Y2g6IHNlZ21lbnROYW1lLFxuICAgIHdoeV9oZXJlOiBub3Rlcy53aHlfaGVyZSxcbiAgICB3aHlfaGVyZV9wcm9vZl9yZWZzOiBub3Rlcy53aHlfaGVyZV9wcm9vZl9yZWZzLFxuICAgIHByb29mX3JlZnM6IG5vdGVzLnByb29mX3JlZnMsXG4gICAgY29uZmlkZW5jZSxcbiAgICBjb25maWRlbmNlX2VzdGltYXRlOiBjb25maWRlbmNlLFxuICAgIG5leHRfc3RlcF9tZXNzYWdlX2FuZ2xlLFxuICAgIHNvdXJjZV9ub3Rlczogbm90ZXMuc291cmNlX25vdGVzLFxuICAgIGZpcnN0X29mZmVyLFxuICAgIGV4cGVjdGVkX291dGNvbWUsXG4gICAgcmVxdWlyZWRfYWNjZXNzLFxuICAgIGZpdF9zY29yZTogZml0U2NvcmUsXG4gICAgcGFpbl9zY29yZTogcGFpblNjb3JlLFxuICAgIHNpZ25hbF9zdHJlbmd0aDogc2lnbmFsU3RyZW5ndGgsXG4gICAgZXN0aW1hdGU6IHRydWUsXG4gICAgZGVkdXBlX2tleTogbm9ybWFsaXplRGVkdXBlS2V5KG5hbWVQbGFjZWhvbGRlciwgXCJcIiksXG4gICAgc291cmNlX3Byb29mOiBldmlkZW5jZS5zbGljZSgwLCAzKSxcbiAgICBfZGVkdXBlX2NvbXBvbmVudHM6IHtcbiAgICAgIGRvbWFpbjogXCJcIixcbiAgICAgIGlubjogXCJcIixcbiAgICAgIHBob25lOiBcIlwiXG4gICAgfVxuICB9O1xufTtcblxuY29uc3QgYnVpbGRDYW5kaWRhdGVzID0gKHNlZ21lbnRzLCBpbnB1dCwgbGltaXQpID0+IHtcbiAgY29uc3QgY2FuZGlkYXRlcyA9IFtdO1xuICBjb25zdCBleGNsdWRlS2V5cyA9IG5ldyBTZXQoXG4gICAgKGlucHV0LmV4Y2x1ZGVfbGlzdCB8fCBbXSkubWFwKChpdGVtKSA9PiBub3JtYWxpemVEZWR1cGVLZXkoaXRlbSwgaXRlbSkpXG4gICk7XG4gIGNvbnN0IGNoYW5uZWxzID0gaW5wdXQuY2hhbm5lbCA9PT0gXCJNaXhlZFwiXG4gICAgPyBbXCJXQlwiLCBcIk96b25cIiwgXCJEMkNcIiwgXCJPZmZsaW5lU2VydmljZXNcIiwgXCJCMkJcIl1cbiAgICA6IFtpbnB1dC5jaGFubmVsXTtcblxuICBjb25zdCBnZW8gPSBpbnB1dC5nZW8gJiYgaW5wdXQuZ2VvLnRyaW0oKSA/IGlucHV0Lmdlby50cmltKCkgOiBcIlwiO1xuICBjb25zdCB0YXJnZXRDb3VudCA9IHR5cGVvZiBsaW1pdCA9PT0gXCJudW1iZXJcIiA/IGxpbWl0IDogaW5wdXQudGFyZ2V0X2NvdW50O1xuICBjb25zdCBuaWNoZU92ZXJyaWRlID0gaW5wdXQuaW5kdXN0cnlfb3JfbmljaGUgJiYgaW5wdXQuaW5kdXN0cnlfb3JfbmljaGUudHJpbSgpXG4gICAgPyBpbnB1dC5pbmR1c3RyeV9vcl9uaWNoZS50cmltKClcbiAgICA6IFwiXCI7XG5cbiAgbGV0IGluZGV4ID0gMDtcbiAgd2hpbGUgKGNhbmRpZGF0ZXMubGVuZ3RoIDwgdGFyZ2V0Q291bnQgJiYgaW5kZXggPCA4MCkge1xuICAgIGNvbnN0IGNoYW5uZWwgPSBjaGFubmVsc1tpbmRleCAlIGNoYW5uZWxzLmxlbmd0aF07XG4gICAgY29uc3Qgc2VnbWVudCA9IHNlZ21lbnRzW2luZGV4ICUgc2VnbWVudHMubGVuZ3RoXTtcbiAgICBjb25zdCBjYXRlZ29yeVBvb2wgPSBDSEFOTkVMX0NBVEVHT1JJRVNbY2hhbm5lbF0gfHwgQ0hBTk5FTF9DQVRFR09SSUVTLk1peGVkO1xuICAgIGNvbnN0IGNhdGVnb3J5ID0gbmljaGVPdmVycmlkZSB8fCBjYXRlZ29yeVBvb2xbaW5kZXggJSBjYXRlZ29yeVBvb2wubGVuZ3RoXTtcbiAgICBjb25zdCBzaWduYWxQcmVzZXQgPSBTSUdOQUxfUFJFU0VUU1tjaGFubmVsXSB8fCBTSUdOQUxfUFJFU0VUUy5NaXhlZDtcblxuICAgIGNvbnN0IGNhbmRpZGF0ZSA9IGJ1aWxkQ2FuZGlkYXRlKHtcbiAgICAgIGNoYW5uZWwsXG4gICAgICBzZWdtZW50TmFtZTogc2VnbWVudC5zZWdtZW50X25hbWUsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIGdlbyxcbiAgICAgIHNpZ25hbEtleXM6IHNpZ25hbFByZXNldCxcbiAgICAgIGNvbmZpZGVuY2VXZWlnaHRzOiBpbnB1dC5jb25maWRlbmNlX3dlaWdodHMsXG4gICAgICBmaXJzdF9vZmZlcjogc2VnbWVudC5yZWNvbW1lbmRlZF9lbnRyeV9vZmZlcixcbiAgICAgIGV4cGVjdGVkX291dGNvbWU6IFwi0KHQvtC60YDQsNGJ0LXQvdC40LUg0LLRgNC10LzQtdC90Lgg0L7RgtCy0LXRgtCwINC4INGA0L7RgdGCINC60L7QvdCy0LXRgNGB0LjQuCDQvdCwIDEwLTI1JSAoZXN0aW1hdGUpXCIsXG4gICAgICByZXF1aXJlZF9hY2Nlc3M6XG4gICAgICAgIGNoYW5uZWwgPT09IFwiQjJCXCJcbiAgICAgICAgICA/IFwiQ1JNLCDQv9C+0YfRgtCwLCDRiNCw0LHQu9C+0L3RiyDQmtCfLCDRgdC/0LjRgdC+0Log0YPRgdC70YPQs1wiXG4gICAgICAgICAgOiBjaGFubmVsID09PSBcIk9mZmxpbmVTZXJ2aWNlc1wiXG4gICAgICAgICAgICA/IFwi0LfQsNGP0LLQutC4L9GA0LDRgdC/0LjRgdCw0L3QuNC1LCDQvNC10YHRgdC10L3QtNC20LXRgNGLLCDQvtGC0LfRi9Cy0YtcIlxuICAgICAgICAgICAgOiBjaGFubmVsID09PSBcIkQyQ1wiXG4gICAgICAgICAgICAgID8gXCJDUk0sINGB0LDQudGCLCDQvNC10YHRgdC10L3QtNC20LXRgNGLL9C/0L7Rh9GC0LBcIlxuICAgICAgICAgICAgICA6IFwi0LrQsNCx0LjQvdC10YIg0LzQsNGA0LrQtdGC0L/Qu9C10LnRgdCwLCDQvtGC0LfRi9Cy0YssINC60LDRgNGC0L7Rh9C60LggU0tVXCIsXG4gICAgICBuZXh0X3N0ZXBfbWVzc2FnZV9hbmdsZTpcbiAgICAgICAgXCLQn9GA0LXQtNC70L7QttC40YLRjCDQsdGL0YHRgtGA0YvQuSDQv9C40LvQvtGCINC90LAgMy03INC00L3QtdC5INC4INC/0L7QutCw0LfQsNGC0Ywg0LjQt9C80LXRgNC40LzRi9C5INGA0LXQt9GD0LvRjNGC0LDRgi5cIlxuICAgIH0pO1xuXG4gICAgY29uc3QgZGVkdXBlS2V5ID0gY2FuZGlkYXRlLmRlZHVwZV9rZXk7XG4gICAgaWYgKCFkZWR1cGVLZXkgfHwgZXhjbHVkZUtleXMuaGFzKGRlZHVwZUtleSkgfHwgaXNBZ2dyZWdhdG9yKGNhbmRpZGF0ZS5uYW1lX3BsYWNlaG9sZGVyKSkge1xuICAgICAgaW5kZXggKz0gMTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGV4Y2x1ZGVLZXlzLmFkZChkZWR1cGVLZXkpO1xuICAgIGNhbmRpZGF0ZXMucHVzaChjYW5kaWRhdGUpO1xuICAgIGluZGV4ICs9IDE7XG4gIH1cblxuICByZXR1cm4gY2FuZGlkYXRlcztcbn07XG5cbmNvbnN0IGFwcGx5TGFzdFJ1biA9IChpbnB1dCwgbGFzdFJ1biwgb3B0aW9ucykgPT4ge1xuICBjb25zdCBlbnJpY2hlZCA9IHsgLi4uaW5wdXQgfTtcbiAgaWYgKCFsYXN0UnVuIHx8IHR5cGVvZiBsYXN0UnVuICE9PSBcIm9iamVjdFwiKSByZXR1cm4gZW5yaWNoZWQ7XG5cbiAgY29uc3QgbGFzdERhdGEgPSB1bndyYXBMZWdhY3kobGFzdFJ1bik7XG4gIGNvbnN0IHByZXZDYW5kaWRhdGVzID0gQXJyYXkuaXNBcnJheShsYXN0RGF0YS5jb21wYW55X2NhbmRpZGF0ZXMpXG4gICAgPyBsYXN0RGF0YS5jb21wYW55X2NhbmRpZGF0ZXNcbiAgICA6IFtdO1xuICBjb25zdCBwcmV2S2V5cyA9IHByZXZDYW5kaWRhdGVzXG4gICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtIHx8IHR5cGVvZiBpdGVtICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgICAgIGNvbnN0IG5hbWUgPSBpdGVtLm5hbWUgfHwgaXRlbS5uYW1lX3BsYWNlaG9sZGVyIHx8IFwiXCI7XG4gICAgICBjb25zdCBsaW5rID0gaXRlbS5saW5rIHx8IFwiXCI7XG4gICAgICBjb25zdCBrZXkgPSBpdGVtLmRlZHVwZV9rZXkgfHwgbm9ybWFsaXplRGVkdXBlS2V5KG5hbWUsIGxpbmspO1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9KVxuICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IHByZXZMaW5rcyA9IHByZXZDYW5kaWRhdGVzXG4gICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgaWYgKCFpdGVtIHx8IHR5cGVvZiBpdGVtICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgICAgIHJldHVybiB0eXBlb2YgaXRlbS5saW5rID09PSBcInN0cmluZ1wiID8gaXRlbS5saW5rIDogXCJcIjtcbiAgICB9KVxuICAgIC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgY29uc3Qgc2hvdWxkUmVmcmVzaCA9IGlucHV0Lm1vZGUgPT09IFwicmVmcmVzaFwiIHx8IGlucHV0LmV4Y2x1ZGVfbGlzdC5sZW5ndGggPT09IDA7XG4gIGlmIChzaG91bGRSZWZyZXNoKSB7XG4gICAgZW5yaWNoZWQuZXhjbHVkZV9saXN0ID0gW1xuICAgICAgLi4ubmV3IFNldChbLi4uZW5yaWNoZWQuZXhjbHVkZV9saXN0LCAuLi5wcmV2S2V5cywgLi4ucHJldkxpbmtzXSlcbiAgICBdO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jb250aW51ZSkge1xuICAgIGNvbnN0IHByZXZDb3VudCA9IHByZXZDYW5kaWRhdGVzLmxlbmd0aDtcbiAgICBjb25zdCBkZXNpcmVkVG90YWwgPVxuICAgICAgdHlwZW9mIGVucmljaGVkLnRhcmdldF9jb3VudCA9PT0gXCJudW1iZXJcIiAmJiBlbnJpY2hlZC50YXJnZXRfY291bnQgPiAwXG4gICAgICAgID8gZW5yaWNoZWQudGFyZ2V0X2NvdW50XG4gICAgICAgIDogcHJldkNvdW50ICsgMjA7XG4gICAgY29uc3QgYWRkaXRpb25hbCA9IE1hdGgubWF4KDEsIGRlc2lyZWRUb3RhbCAtIHByZXZDb3VudCk7XG4gICAgZW5yaWNoZWQudGFyZ2V0X2NvdW50ID0gYWRkaXRpb25hbDtcbiAgICBlbnJpY2hlZC5leGNsdWRlX2xpc3QgPSBbXG4gICAgICAuLi5uZXcgU2V0KFsuLi5lbnJpY2hlZC5leGNsdWRlX2xpc3QsIC4uLnByZXZLZXlzLCAuLi5wcmV2TGlua3NdKVxuICAgIF07XG4gIH1cblxuICByZXR1cm4gZW5yaWNoZWQ7XG59O1xuXG5jb25zdCBidWlsZFNlYXJjaFRlbXBsYXRlcyA9IChpbnB1dCkgPT4ge1xuICBjb25zdCBuaWNoZSA9IGlucHV0LmluZHVzdHJ5X29yX25pY2hlIHx8IFwi0YLQvtCy0LDRgNGLXCI7XG4gIGNvbnN0IGdlbyA9IGlucHV0LmdlbyB8fCBcItCg0L7RgdGB0LjRj1wiO1xuICBjb25zdCBtYXJrZXRwbGFjZVF1ZXJpZXMgPSBbXG4gICAgYHNpdGU6d2lsZGJlcnJpZXMucnUgJHtuaWNoZX0g0LHRgNC10L3QtGAsXG4gICAgYHNpdGU6d2lsZGJlcnJpZXMucnUgJHtuaWNoZX0g0L7RgtC30YvQstGLIDIwMCtgLFxuICAgIGBzaXRlOm96b24ucnUgJHtuaWNoZX0g0LHRgNC10L3QtGAsXG4gICAgYHNpdGU6b3pvbi5ydSAke25pY2hlfSDQvtGC0LfRi9Cy0YsgMjAwK2AsXG4gICAgYHdpbGRiZXJyaWVzICR7bmljaGV9INC90L7QstC40L3QutC4YCxcbiAgICBgb3pvbiAke25pY2hlfSDQv9C+0L/Rg9C70Y/RgNC90YvQtWBcbiAgXTtcblxuICBjb25zdCB5YW5kZXhRdWVyaWVzID0gW1xuICAgIGAke25pY2hlfSAke2dlb30g0LrRg9C/0LjRgtGMYCxcbiAgICBgJHtuaWNoZX0gJHtnZW99INC00L7RgdGC0LDQstC60LBgLFxuICAgIGAke25pY2hlfSDQvtC/0YLQvtC8INC/0L7RgdGC0LDQstGJ0LjQumAsXG4gICAgYCR7bmljaGV9INGG0LXQvdCwYCxcbiAgICBgJHtuaWNoZX0g0L7RhNC40YbQuNCw0LvRjNC90YvQuSDRgdCw0LnRgmAsXG4gICAgYCR7bmljaGV9INC+0YLQt9GL0LLRi2AsXG4gICAgYNC/0L7RgdGC0LDQstGJ0LjQuiAke25pY2hlfSAke2dlb31gLFxuICAgIGDQtNC40YHRgtGA0LjQsdGM0Y7RgtC+0YAgJHtuaWNoZX1gLFxuICAgIGAke25pY2hlfSDQutC+0L3RgtGA0LDQutGC0L3QvtC1INC/0YDQvtC40LfQstC+0LTRgdGC0LLQvmAsXG4gICAgYCR7bmljaGV9IGIyYiDRg9GB0LvRg9Cz0LhgXG4gIF07XG5cbiAgY29uc3QgdmtUZ1F1ZXJpZXMgPSBbXG4gICAgYHNpdGU6dmsuY29tICR7bmljaGV9INCx0YDQtdC90LRgLFxuICAgIGBzaXRlOnZrLmNvbSAke25pY2hlfSDRg9GB0LvRg9Cz0LhgLFxuICAgIGBzaXRlOnZrLmNvbSAke25pY2hlfSDQvtGC0LfRi9Cy0YtgLFxuICAgIGBzaXRlOnQubWUgJHtuaWNoZX0g0LrQsNC90LDQu2AsXG4gICAgYHNpdGU6dC5tZSAke25pY2hlfSDQsdGA0LXQvdC0YCxcbiAgICBgJHtuaWNoZX0g0YHQutC40LTQutC4IFZLYCxcbiAgICBgJHtuaWNoZX0g0LDQutGG0LjQuCBUZWxlZ3JhbWAsXG4gICAgYCR7bmljaGV9INC+0L/RgtC+0LwgVktgXG4gIF07XG5cbiAgcmV0dXJuIHsgbWFya2V0cGxhY2VRdWVyaWVzLCB5YW5kZXhRdWVyaWVzLCB2a1RnUXVlcmllcyB9O1xufTtcblxuY29uc3QgYnVpbGRGYWxsYmFja1F1ZXJpZXMgPSAoaW5wdXQpID0+IHtcbiAgY29uc3QgbmljaGUgPSBpbnB1dC5pbmR1c3RyeV9vcl9uaWNoZSB8fCBcItGC0L7QstCw0YDRi1wiO1xuICBjb25zdCBnZW8gPSBpbnB1dC5nZW8gfHwgXCLQoNC+0YHRgdC40Y9cIjtcbiAgcmV0dXJuIFtcbiAgICBgc2l0ZTpvem9uLnJ1ICR7bmljaGV9INCx0YDQtdC90LRgLFxuICAgIGBzaXRlOndpbGRiZXJyaWVzLnJ1ICR7bmljaGV9INCx0YDQtdC90LRgLFxuICAgIGBzaXRlOnZrLmNvbSAke25pY2hlfSDQvNCw0LPQsNC30LjQvSAke2dlb31gLFxuICAgIGBzaXRlOnQubWUgJHtuaWNoZX0g0LzQsNCz0LDQt9C40L1gLFxuICAgIGAke25pY2hlfSAke2dlb30g0L7RhNC40YbQuNCw0LvRjNC90YvQuSDRgdCw0LnRgmAsXG4gICAgYCR7bmljaGV9ICR7Z2VvfSDQvtGC0LfRi9Cy0YtgXG4gIF07XG59O1xuXG5jb25zdCBidWlsZFNlYXJjaFVybCA9IChxdWVyeSwgZW5naW5lKSA9PlxuICBlbmdpbmUgPT09IFwiZHVja1wiXG4gICAgPyBgaHR0cHM6Ly9kdWNrZHVja2dvLmNvbS9odG1sLz9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gXG4gICAgOiBgaHR0cHM6Ly95YW5kZXgucnUvc2VhcmNoLz90ZXh0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gO1xuXG5jb25zdCBpc0ludGVudFF1ZXJ5ID0gKHF1ZXJ5KSA9PiB7XG4gIGNvbnN0IGxvd2VyID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIElOVEVOVF9LRVlXT1JEUy5zb21lKChrZXl3b3JkKSA9PiBsb3dlci5pbmNsdWRlcyhrZXl3b3JkKSk7XG59O1xuXG5jb25zdCBidWlsZFNlYXJjaFBsYW4gPSAoaW5wdXQsIHRlbXBsYXRlcykgPT4ge1xuICBjb25zdCBwbGFuID0gW107XG4gIGNvbnN0IGxpbWl0ID0gaW5wdXQubW9kZSA9PT0gXCJxdWlja1wiID8gNCA6IDc7XG4gIGNvbnN0IHByZWZlcnJlZCA9IG5ldyBTZXQoaW5wdXQucHJlZmVycmVkX3NvdXJjZXMpO1xuXG4gIGNvbnN0IHB1c2hRdWVyaWVzID0gKHF1ZXJpZXMsIHNvdXJjZSkgPT4ge1xuICAgIHF1ZXJpZXMuc2xpY2UoMCwgbGltaXQpLmZvckVhY2goKHF1ZXJ5KSA9PiB7XG4gICAgICBwbGFuLnB1c2goeyBxdWVyeSwgc291cmNlLCBlbmdpbmU6IFwieWFuZGV4XCIsIGludGVudDogaXNJbnRlbnRRdWVyeShxdWVyeSkgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKHByZWZlcnJlZC5oYXMoXCJXQlwiKSB8fCBwcmVmZXJyZWQuaGFzKFwiT3pvblwiKSkge1xuICAgIHB1c2hRdWVyaWVzKHRlbXBsYXRlcy5tYXJrZXRwbGFjZVF1ZXJpZXMsIFwibWFya2V0cGxhY2VcIik7XG4gIH1cbiAgaWYgKHByZWZlcnJlZC5oYXMoXCJZYW5kZXhcIikgfHwgcHJlZmVycmVkLmhhcyhcIk9mZmljaWFsV2Vic2l0ZVwiKSB8fCBwbGFuLmxlbmd0aCA9PT0gMCkge1xuICAgIHB1c2hRdWVyaWVzKHRlbXBsYXRlcy55YW5kZXhRdWVyaWVzLCBcInlhbmRleFwiKTtcbiAgfVxuICBpZiAocHJlZmVycmVkLmhhcyhcIlZLXCIpIHx8IHByZWZlcnJlZC5oYXMoXCJUZWxlZ3JhbVwiKSkge1xuICAgIHB1c2hRdWVyaWVzKHRlbXBsYXRlcy52a1RnUXVlcmllcywgXCJzb2NpYWxcIik7XG4gIH1cblxuICBjb25zdCBkZWR1cGVkID0gW107XG4gIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBwbGFuKSB7XG4gICAgY29uc3Qga2V5ID0gaXRlbS5xdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChzZWVuLmhhcyhrZXkpKSBjb250aW51ZTtcbiAgICBzZWVuLmFkZChrZXkpO1xuICAgIGRlZHVwZWQucHVzaChpdGVtKTtcbiAgfVxuICByZXR1cm4gZGVkdXBlZDtcbn07XG5cbmNvbnN0IGNvbGxlY3RTZWFyY2hSZXN1bHRzID0gYXN5bmMgKHdlYkNsaWVudCwgcGxhbiwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgY29uc3QgbGltaXRQZXJRdWVyeSA9IG9wdGlvbnMubGltaXRQZXJRdWVyeSA/PyA0O1xuICBjb25zdCBtYXhTZWVkcyA9IG9wdGlvbnMubWF4U2VlZHMgPz8gODA7XG4gIGNvbnN0IHN0YXRzID0gb3B0aW9ucy5zdGF0cztcblxuICBmb3IgKGNvbnN0IGl0ZW0gb2YgcGxhbikge1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+PSBtYXhTZWVkcykgYnJlYWs7XG4gICAgaWYgKHN0YXRzKSBzdGF0cy5zb3VyY2VzX3VzZWQueWFuZGV4ICs9IDE7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZvdW5kID0gYXdhaXQgd2ViQ2xpZW50LnNlYXJjaChpdGVtLnF1ZXJ5LCBpdGVtLmVuZ2luZSwgbGltaXRQZXJRdWVyeSk7XG4gICAgICBmb3VuZC5mb3JFYWNoKChyZXN1bHQpID0+IHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgcXVlcnk6IGl0ZW0ucXVlcnksXG4gICAgICAgICAgZW5naW5lOiBpdGVtLmVuZ2luZSxcbiAgICAgICAgICBpbnRlbnQ6IGl0ZW0uaW50ZW50LFxuICAgICAgICAgIHNvdXJjZV91cmw6IHJlc3VsdC5zb3VyY2VfdXJsIHx8IGJ1aWxkU2VhcmNoVXJsKGl0ZW0ucXVlcnksIGl0ZW0uZW5naW5lKVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgJiYgZXJyb3IubWVzc2FnZSA9PT0gXCJXRUJfUkVRVUVTVF9MSU1JVFwiKSBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0cy5zbGljZSgwLCBtYXhTZWVkcyk7XG59O1xuXG5jb25zdCBndWVzc0NoYW5uZWxGcm9tUXVlcnkgPSAocXVlcnkpID0+IHtcbiAgY29uc3QgbG93ZXIgPSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoQjJCX0tFWVdPUkRTLnNvbWUoKGtleXdvcmQpID0+IGxvd2VyLmluY2x1ZGVzKGtleXdvcmQpKSkgcmV0dXJuIFwiQjJCXCI7XG4gIGlmIChTRVJWSUNFX0tFWVdPUkRTLnNvbWUoKGtleXdvcmQpID0+IGxvd2VyLmluY2x1ZGVzKGtleXdvcmQpKSkgcmV0dXJuIFwiT2ZmbGluZVNlcnZpY2VzXCI7XG4gIHJldHVybiBcIkQyQ1wiO1xufTtcblxuY29uc3QgZGVyaXZlQ2hhbm5lbEZyb21VcmwgPSAodXJsLCBpbnB1dCwgcXVlcnkpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBob3N0ID0gbmV3IFVSTCh1cmwpLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGhvc3QuaW5jbHVkZXMoXCJ3aWxkYmVycmllc1wiKSkgcmV0dXJuIFwiV0JcIjtcbiAgICBpZiAoaG9zdC5pbmNsdWRlcyhcIm96b25cIikpIHJldHVybiBcIk96b25cIjtcbiAgICBpZiAoaW5wdXQuY2hhbm5lbCAmJiBpbnB1dC5jaGFubmVsICE9PSBcIk1peGVkXCIpIHJldHVybiBpbnB1dC5jaGFubmVsO1xuICAgIGlmIChob3N0LmluY2x1ZGVzKFwidmsuY29tXCIpIHx8IGhvc3QuaW5jbHVkZXMoXCJ0Lm1lXCIpIHx8IGhvc3QuaW5jbHVkZXMoXCJ0ZWxlZ3JhbS5tZVwiKSkge1xuICAgICAgcmV0dXJuIGd1ZXNzQ2hhbm5lbEZyb21RdWVyeShxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiBndWVzc0NoYW5uZWxGcm9tUXVlcnkocXVlcnkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gaW5wdXQuY2hhbm5lbCAmJiBpbnB1dC5jaGFubmVsICE9PSBcIk1peGVkXCIgPyBpbnB1dC5jaGFubmVsIDogXCJEMkNcIjtcbiAgfVxufTtcblxuY29uc3QgY2xhc3NpZnlTb3VyY2UgPSAodXJsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaG9zdCA9IG5ldyBVUkwodXJsKS5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChob3N0LmluY2x1ZGVzKFwieWFuZGV4XCIpKSByZXR1cm4gXCJ5YW5kZXhcIjtcbiAgICBpZiAoaG9zdC5pbmNsdWRlcyhcIndpbGRiZXJyaWVzXCIpKSByZXR1cm4gXCJ3YlwiO1xuICAgIGlmIChob3N0LmluY2x1ZGVzKFwib3pvblwiKSkgcmV0dXJuIFwib3pvblwiO1xuICAgIGlmIChob3N0LmluY2x1ZGVzKFwidmsuY29tXCIpKSByZXR1cm4gXCJ2a1wiO1xuICAgIGlmIChob3N0LmluY2x1ZGVzKFwidC5tZVwiKSB8fCBob3N0LmluY2x1ZGVzKFwidGVsZWdyYW0ubWVcIikpIHJldHVybiBcInRnXCI7XG4gIH0gY2F0Y2gge1xuICAgIC8vIGlnbm9yZVxuICB9XG4gIHJldHVybiBcIndlYnNpdGVzXCI7XG59O1xuXG5jb25zdCBwaWNrU2VnbWVudE1hdGNoID0gKGNoYW5uZWwsIHNlZ21lbnRzKSA9PiB7XG4gIGlmICghc2VnbWVudHMubGVuZ3RoKSByZXR1cm4gXCJcIjtcbiAgY29uc3QgdGVtcGxhdGUgPSBzZWdtZW50VGVtcGxhdGVzLmZpbmQoKHNlZ21lbnQpID0+IHNlZ21lbnQuY2hhbm5lbHMuaW5jbHVkZXMoY2hhbm5lbCkpO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICBjb25zdCBtYXRjaCA9IHNlZ21lbnRzLmZpbmQoKHNlZ21lbnQpID0+IHNlZ21lbnQuc2VnbWVudF9uYW1lID09PSB0ZW1wbGF0ZS5zZWdtZW50X25hbWUpO1xuICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoLnNlZ21lbnRfbmFtZTtcbiAgfVxuICByZXR1cm4gc2VnbWVudHNbMF0uc2VnbWVudF9uYW1lO1xufTtcblxuY29uc3QgY2xlYW5UaXRsZSA9ICh0aXRsZSA9IFwiXCIpID0+IHtcbiAgbGV0IG5hbWUgPSB0aXRsZS50cmltKCk7XG4gIGlmICghbmFtZSkgcmV0dXJuIFwiXCI7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccypb4oCTfC18XFx8XVxccyooV2lsZGJlcnJpZXN8T3pvbnxWS3xUZWxlZ3JhbSkuKiQvaSwgXCJcIik7XG4gIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccypb4oCTfC18XFx8XVxccyrQvtGE0LjRhtC40LDQu9GM0L3Ri9C5INGB0LDQudGCLiokL2ksIFwiXCIpO1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9cXHMqW+KAk3wtfFxcfF1cXHMq0LrQsNGC0LDQu9C+0LMuKiQvaSwgXCJcIik7XG4gIHJldHVybiBuYW1lLnRyaW0oKTtcbn07XG5cbmNvbnN0IHNhbml0aXplRXZpZGVuY2VTbmlwcGV0ID0gKHRleHQsIG1heCA9IDE2MCkgPT4gc2FuaXRpemVTbmlwcGV0KHRleHQsIG1heCk7XG5jb25zdCBjbGlwU25pcHBldCA9ICh0ZXh0LCBtYXggPSAxNjApID0+IHNhbml0aXplU25pcHBldCh0ZXh0LCBtYXgpO1xuXG5jb25zdCBmaW5kU25pcHBldCA9ICh0ZXh0LCByZWdleCkgPT4ge1xuICBjb25zdCBtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCk7XG4gIGlmICghbWF0Y2ggfHwgbWF0Y2guaW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IHN0YXJ0ID0gTWF0aC5tYXgoMCwgbWF0Y2guaW5kZXggLSA2MCk7XG4gIGNvbnN0IGVuZCA9IE1hdGgubWluKHRleHQubGVuZ3RoLCBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCArIDYwKTtcbiAgcmV0dXJuIGNsaXBTbmlwcGV0KHRleHQuc2xpY2Uoc3RhcnQsIGVuZCkpO1xufTtcblxuY29uc3QgZXh0cmFjdE51bWJlclNpZ25hbCA9ICh0ZXh0LCByZWdleCwgbWluVmFsdWUpID0+IHtcbiAgbGV0IG1hdGNoO1xuICBsZXQgYmVzdCA9IG51bGw7XG4gIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHRleHQpKSkge1xuICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKG1hdGNoWzFdKTtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIGNvbnRpbnVlO1xuICAgIGlmICh2YWx1ZSA+PSBtaW5WYWx1ZSAmJiAoIWJlc3QgfHwgdmFsdWUgPiBiZXN0LnZhbHVlKSkge1xuICAgICAgYmVzdCA9IHsgdmFsdWUsIGluZGV4OiBtYXRjaC5pbmRleCwgbWF0Y2g6IG1hdGNoWzBdIH07XG4gICAgfVxuICB9XG4gIHJldHVybiBiZXN0O1xufTtcblxuY29uc3QgZXh0cmFjdFNpZ25hbHNGcm9tUGFnZSA9IChwYWdlLCByZWNlbmN5RGF5cyA9IDM2NSkgPT4ge1xuICBjb25zdCBzaWduYWxLZXlzID0gbmV3IFNldCgpO1xuICBjb25zdCBldmlkZW5jZSA9IFtdO1xuICBjb25zdCB0aXRsZSA9IHBhZ2UudGl0bGUgfHwgcGFnZS51cmw7XG4gIGNvbnN0IHRleHQgPSBwYWdlLnRleHQgfHwgXCJcIjtcbiAgY29uc3QgbG93ZXIgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtaW5ZZWFyID0gY3VycmVudFllYXIgLSBNYXRoLm1heCgwLCBNYXRoLmZsb29yKHJlY2VuY3lEYXlzIC8gMzY1KSk7XG4gIGNvbnN0IHllYXJNYXRjaGVzID0gdGV4dC5tYXRjaCgvMjBcXFxcZHsyfS9nKSB8fCBbXTtcbiAgY29uc3QgbGF0ZXN0WWVhciA9IHllYXJNYXRjaGVzLnJlZHVjZShcbiAgICAobWF4LCB2YWx1ZSkgPT4gTWF0aC5tYXgobWF4LCBOdW1iZXIodmFsdWUpKSxcbiAgICAwXG4gICk7XG4gIGNvbnN0IHJlY2VuY3lPayA9IGxhdGVzdFllYXIgPT09IDAgfHwgbGF0ZXN0WWVhciA+PSBtaW5ZZWFyO1xuXG4gIGNvbnN0IGFkZEV2aWRlbmNlID0gKHNpZ25hbFR5cGUsIHNuaXBwZXQsIHNpZ25hbFZhbHVlKSA9PiB7XG4gICAgaWYgKCFzbmlwcGV0KSByZXR1cm47XG4gICAgaWYgKHNpZ25hbEtleXMuaGFzKHNpZ25hbFR5cGUpKSByZXR1cm47XG4gICAgc2lnbmFsS2V5cy5hZGQoc2lnbmFsVHlwZSk7XG4gICAgZXZpZGVuY2UucHVzaCh7XG4gICAgICB1cmw6IHBhZ2UudXJsLFxuICAgICAgdGl0bGUsXG4gICAgICBldmlkZW5jZV9zbmlwcGV0OiBjbGlwU25pcHBldChzbmlwcGV0KSxcbiAgICAgIHNpZ25hbF90eXBlOiBzaWduYWxUeXBlLFxuICAgICAgc2lnbmFsX3ZhbHVlOiBzaWduYWxWYWx1ZVxuICAgIH0pO1xuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgaG9zdCA9IG5ldyBVUkwocGFnZS51cmwpLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGhvc3QuaW5jbHVkZXMoXCJ3aWxkYmVycmllc1wiKSB8fCBob3N0LmluY2x1ZGVzKFwib3pvblwiKSkge1xuICAgICAgYWRkRXZpZGVuY2UoXCJtYXJrZXRwbGFjZV9zdG9yZWZyb250XCIsIHRpdGxlIHx8IHBhZ2UudXJsLCB0aXRsZSB8fCBwYWdlLnVybCk7XG4gICAgfVxuICB9IGNhdGNoIHtcbiAgICAvLyBpZ25vcmVcbiAgfVxuXG4gIGNvbnN0IHJldmlld01hdGNoID0gZXh0cmFjdE51bWJlclNpZ25hbChcbiAgICB0ZXh0LFxuICAgIC8oXFxkezIsNn0pXFxzKijQvtGC0LfRi9CyfHJldmlld3M/KS9naSxcbiAgICAyMDBcbiAgKTtcbiAgaWYgKHJldmlld01hdGNoKSB7XG4gICAgY29uc3Qgc25pcHBldCA9IGZpbmRTbmlwcGV0KHRleHQsIG5ldyBSZWdFeHAocmV2aWV3TWF0Y2gubWF0Y2gsIFwiaVwiKSk7XG4gICAgYWRkRXZpZGVuY2UoXG4gICAgICBcInJldmlld3NfMjAwXCIsXG4gICAgICBzbmlwcGV0IHx8IGByZXZpZXdzOiAke3Jldmlld01hdGNoLnZhbHVlfWAsXG4gICAgICByZXZpZXdNYXRjaC52YWx1ZVxuICAgICk7XG4gIH1cblxuICBjb25zdCBza3VNYXRjaCA9IGV4dHJhY3ROdW1iZXJTaWduYWwoXG4gICAgdGV4dCxcbiAgICAvKFxcZHsyLDZ9KVxccyoo0YLQvtCy0LDRgHxza3V8aXRlbXN8cHJvZHVjdHMpL2dpLFxuICAgIDUwXG4gICk7XG4gIGlmIChza3VNYXRjaCkge1xuICAgIGNvbnN0IHNuaXBwZXQgPSBmaW5kU25pcHBldCh0ZXh0LCBuZXcgUmVnRXhwKHNrdU1hdGNoLm1hdGNoLCBcImlcIikpO1xuICAgIGFkZEV2aWRlbmNlKFxuICAgICAgXCJhY3RpdmVfc2t1XCIsXG4gICAgICBzbmlwcGV0IHx8IGBwcm9kdWN0czogJHtza3VNYXRjaC52YWx1ZX1gLFxuICAgICAgc2t1TWF0Y2gudmFsdWVcbiAgICApO1xuICB9IGVsc2UgaWYgKGxvd2VyLmluY2x1ZGVzKFwi0L3QvtCy0LjQvdC6XCIpKSB7XG4gICAgYWRkRXZpZGVuY2UoXG4gICAgICBcImFjdGl2ZV9za3VcIixcbiAgICAgIGZpbmRTbmlwcGV0KHRleHQsIC/QvdC+0LLQuNC90LovZ2kpIHx8IFwi0L3QvtCy0LjQvdC60LhcIixcbiAgICAgIFwi0L3QvtCy0LjQvdC60LhcIlxuICAgICk7XG4gIH1cblxuICBpZiAoLyjQv9C+0L/Rg9C70Y/RgNC9fNGF0LjRgnzRgtC+0L8g0L/RgNC+0LTQsNC2fNCx0LXRgdGC0YHQtdC70LvQtdGAKS9pLnRlc3QodGV4dCkpIHtcbiAgICBhZGRFdmlkZW5jZShcbiAgICAgIFwiY29tcGV0aXRpdmVfY2F0ZWdvcnlcIixcbiAgICAgIGZpbmRTbmlwcGV0KHRleHQsIC8o0L/QvtC/0YPQu9GP0YDQvXzRhdC40YJ80YLQvtC/INC/0YDQvtC00LDQtnzQsdC10YHRgtGB0LXQu9C70LXRgCkvaSksXG4gICAgICBcImNvbXBldGl0aXZlXCJcbiAgICApO1xuICB9XG5cbiAgaWYgKFxuICAgIHJlY2VuY3lPayAmJlxuICAgICgvKHZrXFxcXC5jb218dFxcXFwubWV8dGVsZWdyYW1cXFxcLm1lKS9pLnRlc3QocGFnZS51cmwpIHx8IGxvd2VyLmluY2x1ZGVzKFwi0L/QvtC00L/QuNGB0YfQuNC6XCIpKVxuICApIHtcbiAgICBpZiAoLyjQv9C+0YHRgnzQv9GD0LHQu9C40LrQsNGGKS9pLnRlc3QodGV4dCkgJiYgLyhcXFxcZCspXFxcXHMqKNGH0LDRgXzQtNC9fNC90LXQtCkvaS50ZXN0KHRleHQpKSB7XG4gICAgICBhZGRFdmlkZW5jZShcbiAgICAgICAgXCJzb2NpYWxfcG9zdGluZ1wiLFxuICAgICAgICBmaW5kU25pcHBldCh0ZXh0LCAvKNC/0L7RgdGCfNC/0YPQsdC70LjQutCw0YYpLnswLDQwfShcXFxcZCtcXFxccyoo0YfQsNGBfNC00L180L3QtdC0KSkvaSksXG4gICAgICAgIFwicG9zdHNfcmVjZW50XCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICgvKNC60L7QvNC80LXQvdGCfNGA0LXQsNC60YZ80LvQsNC50Lp80L/RgNC+0YHQvNC+0YLRgHzQv9C+0LTQv9C40YHRh9C40LopL2kudGVzdCh0ZXh0KSkge1xuICAgICAgYWRkRXZpZGVuY2UoXG4gICAgICAgIFwic29jaWFsX2VuZ2FnZW1lbnRcIixcbiAgICAgICAgZmluZFNuaXBwZXQodGV4dCwgLyjQutC+0LzQvNC10L3RgnzRgNC10LDQutGGfNC70LDQudC6fNC/0YDQvtGB0LzQvtGC0YB80L/QvtC00L/QuNGB0YfQuNC6KS9pKSxcbiAgICAgICAgXCJlbmdhZ2VtZW50XCJcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgb3BzS2V5d29yZCA9IE9QU19LRVlXT1JEUy5maW5kKChrZXl3b3JkKSA9PiBsb3dlci5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gIGlmIChvcHNLZXl3b3JkKSB7XG4gICAgYWRkRXZpZGVuY2UoXG4gICAgICBcIm9wc19wYWluXCIsXG4gICAgICBmaW5kU25pcHBldCh0ZXh0LCBuZXcgUmVnRXhwKG9wc0tleXdvcmQsIFwiaVwiKSksXG4gICAgICBvcHNLZXl3b3JkXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiB7IHNpZ25hbEtleXM6IFsuLi5zaWduYWxLZXlzXSwgZXZpZGVuY2UgfTtcbn07XG5cbmNvbnN0IHNjb3JlRml0ID0gKHNpZ25hbEtleXMsIGNoYW5uZWwsIHNlZ21lbnRNYXRjaCkgPT4ge1xuICBsZXQgc2NvcmUgPSA0MDtcbiAgaWYgKHNlZ21lbnRNYXRjaCkgc2NvcmUgKz0gMTA7XG4gIGlmIChzaWduYWxLZXlzLmluY2x1ZGVzKFwib3BzX3BhaW5cIikpIHNjb3JlICs9IDIwO1xuICBpZiAoc2lnbmFsS2V5cy5pbmNsdWRlcyhcIm1hcmtldHBsYWNlX3N0b3JlZnJvbnRcIikgJiYgKGNoYW5uZWwgPT09IFwiV0JcIiB8fCBjaGFubmVsID09PSBcIk96b25cIikpIHtcbiAgICBzY29yZSArPSAxMDtcbiAgfVxuICBpZiAoc2lnbmFsS2V5cy5pbmNsdWRlcyhcInNvY2lhbF9lbmdhZ2VtZW50XCIpKSBzY29yZSArPSAxMDtcbiAgaWYgKHNpZ25hbEtleXMuaW5jbHVkZXMoXCJ5YW5kZXhfaW50ZW50XCIpKSBzY29yZSArPSA1O1xuICBpZiAoc2lnbmFsS2V5cy5pbmNsdWRlcyhcInNvY2lhbF9wb3N0aW5nXCIpKSBzY29yZSArPSA1O1xuICBpZiAoc2lnbmFsS2V5cy5pbmNsdWRlcyhcInJldmlld3NfMjAwXCIpKSBzY29yZSArPSA1O1xuICByZXR1cm4gTWF0aC5taW4oMTAwLCBzY29yZSk7XG59O1xuXG5jb25zdCBidWlsZFdoeUhlcmVBbmROb3RlcyA9IChldmlkZW5jZSkgPT4ge1xuICBjb25zdCBpbmRleGVkID0gZXZpZGVuY2VcbiAgICAubWFwKChpdGVtLCBpbmRleCkgPT4gKHtcbiAgICAgIGluZGV4LFxuICAgICAgc25pcHBldDogc2FuaXRpemVFdmlkZW5jZVNuaXBwZXQoaXRlbS5ldmlkZW5jZV9zbmlwcGV0IHx8IFwiXCIsIDE2MClcbiAgICB9KSlcbiAgICAuZmlsdGVyKChpdGVtKSA9PiBpc05vbkVtcHR5U3RyaW5nKGl0ZW0uc25pcHBldCkpO1xuICBjb25zdCB3aHlJdGVtcyA9IGluZGV4ZWQuc2xpY2UoMCwgMik7XG4gIGNvbnN0IHNvdXJjZUl0ZW1zID0gaW5kZXhlZC5zbGljZSgwLCAzKTtcbiAgcmV0dXJuIHtcbiAgICB3aHlfaGVyZTogd2h5SXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLnNuaXBwZXQpLmpvaW4oXCIgfCBcIiksXG4gICAgc291cmNlX25vdGVzOiBzb3VyY2VJdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uc25pcHBldCkuam9pbihcIiB8IFwiKSxcbiAgICB3aHlfaGVyZV9wcm9vZl9yZWZzOiB3aHlJdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uaW5kZXgpLFxuICAgIHByb29mX3JlZnM6IHNvdXJjZUl0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS5pbmRleClcbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkRXhwZWN0ZWRPdXRjb21lID0gKGNoYW5uZWwpID0+IHtcbiAgaWYgKGNoYW5uZWwgPT09IFwiV0JcIiB8fCBjaGFubmVsID09PSBcIk96b25cIikge1xuICAgIHJldHVybiBcItCg0L7RgdGCINGA0LXQudGC0LjQvdCz0LAg0LrQsNGA0YLQvtGH0LXQuiDQuCDRgdC60L7RgNC+0YHRgtC4INC+0YLQstC10YLQsCDQvdCwINC+0YLQt9GL0LLRiyDQvdCwIDEwLTIwJSAoZXN0aW1hdGUpXCI7XG4gIH1cbiAgaWYgKGNoYW5uZWwgPT09IFwiT2ZmbGluZVNlcnZpY2VzXCIpIHtcbiAgICByZXR1cm4gXCLQodC+0LrRgNCw0YnQtdC90LjQtSDQv9GA0L7Qv9GD0YnQtdC90L3Ri9GFINC30LDRj9Cy0L7QuiDQuCDQstGA0LXQvNC10L3QuCDQvtGC0LLQtdGC0LAg0L3QsCAyMC0zMCUgKGVzdGltYXRlKVwiO1xuICB9XG4gIGlmIChjaGFubmVsID09PSBcIkIyQlwiKSB7XG4gICAgcmV0dXJuIFwi0KHQvtC60YDQsNGJ0LXQvdC40LUg0LLRgNC10LzQtdC90Lgg0L/RgNC10YHQtdC50LvQsCDQuCDQv9C+0LTQs9C+0YLQvtCy0LrQuCDQmtCfINC90LAgMjAtMzUlIChlc3RpbWF0ZSlcIjtcbiAgfVxuICByZXR1cm4gXCLQoNC+0YHRgiDQutC+0L3QstC10YDRgdC40Lgg0LvQuNC00L7QsiDQuCDRgdC60L7RgNC+0YHRgtC4INC+0YLQstC10YLQsCDQvdCwIDEwLTI1JSAoZXN0aW1hdGUpXCI7XG59O1xuXG5jb25zdCBidWlsZFJlcXVpcmVkQWNjZXNzID0gKGNoYW5uZWwpID0+IHtcbiAgaWYgKGNoYW5uZWwgPT09IFwiQjJCXCIpIHJldHVybiBcIkNSTSwg0L/QvtGH0YLQsCwg0YjQsNCx0LvQvtC90Ysg0JrQnywg0YHQv9C40YHQvtC6INGD0YHQu9GD0LNcIjtcbiAgaWYgKGNoYW5uZWwgPT09IFwiT2ZmbGluZVNlcnZpY2VzXCIpIHJldHVybiBcItC30LDRj9Cy0LrQuC/RgNCw0YHQv9C40YHQsNC90LjQtSwg0LzQtdGB0YHQtdC90LTQttC10YDRiywg0L7RgtC30YvQstGLXCI7XG4gIGlmIChjaGFubmVsID09PSBcIkQyQ1wiKSByZXR1cm4gXCJDUk0sINGB0LDQudGCLCDQvNC10YHRgdC10L3QtNC20LXRgNGLL9C/0L7Rh9GC0LBcIjtcbiAgcmV0dXJuIFwi0LrQsNCx0LjQvdC10YIg0LzQsNGA0LrQtdGC0L/Qu9C10LnRgdCwLCDQvtGC0LfRi9Cy0YssINC60LDRgNGC0L7Rh9C60LggU0tVXCI7XG59O1xuXG5jb25zdCBidWlsZE5leHRTdGVwQW5nbGUgPSAoKSA9PlxuICBcItCf0YDQtdC00LvQvtC20LjRgtGMINCx0YvRgdGC0YDRi9C5INC/0LjQu9C+0YIg0L3QsCAzLTcg0LTQvdC10Lkg0Lgg0L/QvtC60LDQt9Cw0YLRjCDQuNC30LzQtdGA0LjQvNGL0Lkg0YDQtdC30YPQu9GM0YLQsNGCLlwiO1xuXG5jb25zdCBidWlsZEludGVudEV2aWRlbmNlID0gKHF1ZXJ5LCBzb3VyY2VVcmwpID0+ICh7XG4gIHVybDogc291cmNlVXJsLFxuICB0aXRsZTogXCLQn9C+0LjRgdC60L7QstGL0Lkg0LfQsNC/0YDQvtGBXCIsXG4gIGV2aWRlbmNlX3NuaXBwZXQ6IGNsaXBTbmlwcGV0KGBpbnRlbnRfcXVlcnk6ICR7cXVlcnl9YCwgMTYwKSxcbiAgc2lnbmFsX3R5cGU6IFwieWFuZGV4X2ludGVudFwiLFxuICBzaWduYWxfdmFsdWU6IHF1ZXJ5XG59KTtcblxuY29uc3QgY291bnRTaWduYWxzID0gKGNhbmRpZGF0ZSkgPT4ge1xuICBpZiAoY2FuZGlkYXRlICYmIEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLnNvdXJjZV9wcm9vZikpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlLnNvdXJjZV9wcm9vZi5sZW5ndGg7XG4gIH1cbiAgY29uc3QgY29sbGVjdCA9ICh0ZXh0KSA9PlxuICAgIHRleHRcbiAgICAgIC5zcGxpdCgvO3xcXG584oCiLylcbiAgICAgIC5tYXAoKGl0ZW0pID0+IGl0ZW0udHJpbSgpKVxuICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgcmV0dXJuIGNvbGxlY3QoY2FuZGlkYXRlPy53aHlfaGVyZSB8fCBcIlwiKS5sZW5ndGggKyBjb2xsZWN0KGNhbmRpZGF0ZT8uc291cmNlX25vdGVzIHx8IFwiXCIpLmxlbmd0aDtcbn07XG5cbmNvbnN0IHJhbmtFdmlkZW5jZSA9IChldmlkZW5jZSkgPT4ge1xuICByZXR1cm4gWy4uLmV2aWRlbmNlXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3Qgd2VpZ2h0QSA9IFNJR05BTF9MSUJSQVJZW2Euc2lnbmFsX3R5cGVdPy53ZWlnaHQgPz8gMDtcbiAgICBjb25zdCB3ZWlnaHRCID0gU0lHTkFMX0xJQlJBUllbYi5zaWduYWxfdHlwZV0/LndlaWdodCA/PyAwO1xuICAgIHJldHVybiB3ZWlnaHRCIC0gd2VpZ2h0QTtcbiAgfSk7XG59O1xuXG5jb25zdCBleHRyYWN0U29jaWFsTGlua3MgPSAoaHRtbCkgPT4ge1xuICBpZiAoIWh0bWwpIHJldHVybiBbXTtcbiAgY29uc3QgcGF0dGVybiA9XG4gICAgXCJodHRwcz86XFxcXFxcXFwvXFxcXFxcXFwvKD86dmtcXFxcXFxcXC5jb218dFxcXFxcXFxcLm1lfHRlbGVncmFtXFxcXFxcXFwubWUpXFxcXFxcXFwvW15cXFxcXFxcXHNcXFwiJ10rXCI7XG4gIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCBcImdpXCIpO1xuICBjb25zdCBtYXRjaGVzID0gaHRtbC5tYXRjaChyZWdleCk7XG4gIHJldHVybiBtYXRjaGVzID8gWy4uLm5ldyBTZXQobWF0Y2hlcyldIDogW107XG59O1xuXG5jb25zdCBleHRyYWN0TWFya2V0cGxhY2VCcmFuZFVybCA9IChwYWdlKSA9PiB7XG4gIGNvbnN0IHVybCA9IHBhZ2UudXJsIHx8IFwiXCI7XG4gIGxldCBob3N0ID0gXCJcIjtcbiAgdHJ5IHtcbiAgICBob3N0ID0gbmV3IFVSTCh1cmwpLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGlmICghaG9zdC5pbmNsdWRlcyhcIndpbGRiZXJyaWVzXCIpICYmICFob3N0LmluY2x1ZGVzKFwib3pvblwiKSkgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IGh0bWwgPSBwYWdlLmh0bWwgfHwgXCJcIjtcbiAgY29uc3QgY2FuZGlkYXRlcyA9IFtdO1xuICBjb25zdCBwYXR0ZXJucyA9IFtcbiAgICBuZXcgUmVnRXhwKFwiaHJlZj1bXFxcIiddKGh0dHBzPzpcXFxcXFxcXC9cXFxcXFxcXC9bXlxcXCInXStcXFxcXFxcXC9zZWxsZXJcXFxcXFxcXC9bXlxcXCInXSspW1xcXCInXVwiLCBcImdpXCIpLFxuICAgIG5ldyBSZWdFeHAoXCJocmVmPVtcXFwiJ10oaHR0cHM/OlxcXFxcXFxcL1xcXFxcXFxcL1teXFxcIiddK1xcXFxcXFxcL2JyYW5kXFxcXFxcXFwvW15cXFwiJ10rKVtcXFwiJ11cIiwgXCJnaVwiKSxcbiAgICBuZXcgUmVnRXhwKFwiaHJlZj1bXFxcIiddKGh0dHBzPzpcXFxcXFxcXC9cXFxcXFxcXC9bXlxcXCInXStcXFxcXFxcXC9icmFuZHM/XFxcXFxcXFwvW15cXFwiJ10rKVtcXFwiJ11cIiwgXCJnaVwiKVxuICBdO1xuICBwYXR0ZXJucy5mb3JFYWNoKChwYXR0ZXJuKSA9PiB7XG4gICAgbGV0IG1hdGNoO1xuICAgIHdoaWxlICgobWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoaHRtbCkpKSB7XG4gICAgICBpZiAobWF0Y2hbMV0pIGNhbmRpZGF0ZXMucHVzaChtYXRjaFsxXSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdW5pcXVlID0gWy4uLm5ldyBTZXQoY2FuZGlkYXRlcy5tYXAoKGl0ZW0pID0+IGNhbm9uaWNhbGl6ZVVybChpdGVtKSkpXTtcbiAgcmV0dXJuIHVuaXF1ZVswXSB8fCBcIlwiO1xufTtcblxuY29uc3QgYnVpbGRDYW5kaWRhdGVGcm9tU2VlZCA9IGFzeW5jICh7IHNlZWQsIHNlZ21lbnRQb29sLCBpbnB1dCwgd2ViQ2xpZW50LCBzdGF0cyB9KSA9PiB7XG4gIGlmIChzdGF0cykge1xuICAgIGNvbnN0IHNvdXJjZVR5cGUgPSBjbGFzc2lmeVNvdXJjZShzZWVkLnVybCk7XG4gICAgc3RhdHMuc291cmNlc191c2VkW3NvdXJjZVR5cGVdICs9IDE7XG4gIH1cbiAgY29uc3QgcGFnZSA9IGF3YWl0IHdlYkNsaWVudC5mZXRjaFBhZ2Uoc2VlZC51cmwpO1xuICBpZiAoXCJibG9ja2VkXCIgaW4gcGFnZSkge1xuICAgIGlmIChzdGF0cykge1xuICAgICAgY29uc3Qgc291cmNlVHlwZSA9IGNsYXNzaWZ5U291cmNlKHNlZWQudXJsKTtcbiAgICAgIHN0YXRzLmJsb2NrZWRfYnlfc291cmNlW3NvdXJjZVR5cGVdICs9IDE7XG4gICAgfVxuICAgIHJldHVybiB7IHJlamVjdGVkOiB7IGxpbms6IHNlZWQudXJsLCByZWFzb246IFwiYmxvY2tlZF9vcl91bnJlYWNoYWJsZVwiIH0gfTtcbiAgfVxuXG4gIGNvbnN0IGNhbm9uaWNhbE1hcmtldHBsYWNlID0gZXh0cmFjdE1hcmtldHBsYWNlQnJhbmRVcmwocGFnZSk7XG4gIGNvbnN0IHBhZ2VVcmwgPSBjYW5vbmljYWxNYXJrZXRwbGFjZSA/IGNhbm9uaWNhbE1hcmtldHBsYWNlIDogcGFnZS51cmw7XG4gIGNvbnN0IGV4dHJhY3RlZCA9IGV4dHJhY3RTaWduYWxzRnJvbVBhZ2UocGFnZSwgaW5wdXQucmVjZW5jeV9kYXlzKTtcbiAgY29uc3QgZXZpZGVuY2UgPSBbLi4uZXh0cmFjdGVkLmV2aWRlbmNlXTtcbiAgY29uc3QgZ2VuZXJpY0V4dHJhY3QgPSBleHRyYWN0RnJvbUh0bWwocGFnZS5odG1sIHx8IFwiXCIsIHBhZ2UudXJsKTtcbiAgaWYgKGdlbmVyaWNFeHRyYWN0ICYmIEFycmF5LmlzQXJyYXkoZ2VuZXJpY0V4dHJhY3QucHJvb2ZfaXRlbXMpKSB7XG4gICAgZ2VuZXJpY0V4dHJhY3QucHJvb2ZfaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgZXZpZGVuY2UucHVzaCh7XG4gICAgICAgIHVybDogaXRlbS51cmwsXG4gICAgICAgIHRpdGxlOiBpdGVtLnNpZ25hbF92YWx1ZSB8fCBpdGVtLnVybCxcbiAgICAgICAgZXZpZGVuY2Vfc25pcHBldDogY2xpcFNuaXBwZXQoaXRlbS5ldmlkZW5jZV9zbmlwcGV0IHx8IFwiXCIsIDE2MCksXG4gICAgICAgIHNpZ25hbF90eXBlOiBpdGVtLnNpZ25hbF90eXBlIHx8IFwic25pcHBldFwiLFxuICAgICAgICBzaWduYWxfdmFsdWU6IGl0ZW0uc2lnbmFsX3ZhbHVlIHx8IFwiXCJcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IHNpZ25hbEtleXMgPSBuZXcgU2V0KGV4dHJhY3RlZC5zaWduYWxLZXlzKTtcblxuICBpZiAoc2VlZC5pbnRlbnQpIHtcbiAgICBldmlkZW5jZS5wdXNoKGJ1aWxkSW50ZW50RXZpZGVuY2Uoc2VlZC5xdWVyeSwgc2VlZC5zb3VyY2VfdXJsKSk7XG4gICAgc2lnbmFsS2V5cy5hZGQoXCJ5YW5kZXhfaW50ZW50XCIpO1xuICB9XG5cbiAgaWYgKGV2aWRlbmNlLmxlbmd0aCA8IDIpIHtcbiAgICBjb25zdCBzb2NpYWxMaW5rcyA9IGV4dHJhY3RTb2NpYWxMaW5rcyhwYWdlLmh0bWwpO1xuICAgIGlmIChzb2NpYWxMaW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzb2NpYWxVcmwgPSBjYW5vbmljYWxpemVVcmwoc29jaWFsTGlua3NbMF0pO1xuICAgICAgaWYgKHN0YXRzKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZVR5cGUgPSBjbGFzc2lmeVNvdXJjZShzb2NpYWxVcmwpO1xuICAgICAgICBzdGF0cy5zb3VyY2VzX3VzZWRbc291cmNlVHlwZV0gKz0gMTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNvY2lhbFBhZ2UgPSBhd2FpdCB3ZWJDbGllbnQuZmV0Y2hQYWdlKHNvY2lhbFVybCk7XG4gICAgICBpZiAoIShcImJsb2NrZWRcIiBpbiBzb2NpYWxQYWdlKSkge1xuICAgICAgICBjb25zdCBzb2NpYWxTaWduYWxzID0gZXh0cmFjdFNpZ25hbHNGcm9tUGFnZShzb2NpYWxQYWdlLCBpbnB1dC5yZWNlbmN5X2RheXMpO1xuICAgICAgICBzb2NpYWxTaWduYWxzLmV2aWRlbmNlLmZvckVhY2goKGl0ZW0pID0+IGV2aWRlbmNlLnB1c2goaXRlbSkpO1xuICAgICAgICBzb2NpYWxTaWduYWxzLnNpZ25hbEtleXMuZm9yRWFjaCgoa2V5KSA9PiBzaWduYWxLZXlzLmFkZChrZXkpKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHMpIHtcbiAgICAgICAgY29uc3Qgc291cmNlVHlwZSA9IGNsYXNzaWZ5U291cmNlKHNvY2lhbFVybCk7XG4gICAgICAgIHN0YXRzLmJsb2NrZWRfYnlfc291cmNlW3NvdXJjZVR5cGVdICs9IDE7XG4gICAgICAgIGlmICghc2lnbmFsS2V5cy5oYXMoXCJzb2NpYWxfcG9zdGluZ1wiKSkge1xuICAgICAgICAgIHNpZ25hbEtleXMuYWRkKFwic29jaWFsX3Bvc3RpbmdcIik7XG4gICAgICAgICAgZXZpZGVuY2UucHVzaCh7XG4gICAgICAgICAgICB1cmw6IHNvY2lhbFVybCxcbiAgICAgICAgICAgIHRpdGxlOiBcIlNvY2lhbCBsaW5rXCIsXG4gICAgICAgICAgICBldmlkZW5jZV9zbmlwcGV0OiBjbGlwU25pcHBldChgc29jaWFsX2xpbms6ICR7c29jaWFsVXJsfWAsIDE2MCksXG4gICAgICAgICAgICBzaWduYWxfdHlwZTogXCJzb2NpYWxfcG9zdGluZ1wiLFxuICAgICAgICAgICAgc2lnbmFsX3ZhbHVlOiBzb2NpYWxVcmxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVuaXF1ZUV2aWRlbmNlID0gW107XG4gIGNvbnN0IHNlZW5FdmlkZW5jZSA9IG5ldyBTZXQoKTtcbiAgZXZpZGVuY2UuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IGAke2l0ZW0uc2lnbmFsX3R5cGV9OiR7aXRlbS51cmx9YDtcbiAgICBpZiAoc2VlbkV2aWRlbmNlLmhhcyhrZXkpKSByZXR1cm47XG4gICAgc2VlbkV2aWRlbmNlLmFkZChrZXkpO1xuICAgIHVuaXF1ZUV2aWRlbmNlLnB1c2goaXRlbSk7XG4gIH0pO1xuXG4gIGNvbnN0IHJhbmtlZEV2aWRlbmNlID0gcmFua0V2aWRlbmNlKHVuaXF1ZUV2aWRlbmNlKS5zbGljZSgwLCA0KTtcbiAgY29uc3Qgc2lnbmFsTGlzdCA9IHJhbmtlZEV2aWRlbmNlLm1hcCgoaXRlbSkgPT4gaXRlbS5zaWduYWxfdHlwZSk7XG4gIGNvbnN0IHNlZ21lbnRNYXRjaCA9IHNlZWQuc2VnbWVudF9tYXRjaDtcbiAgY29uc3QgZml0U2NvcmUgPSBzY29yZUZpdChzaWduYWxMaXN0LCBzZWVkLmNoYW5uZWwsIHNlZ21lbnRNYXRjaCk7XG4gIGNvbnN0IHBhaW5TY29yZSA9IHNjb3JlUGFpbihzaWduYWxMaXN0KTtcbiAgY29uc3Qgc2lnbmFsU3RyZW5ndGggPSBzY29yZVNpZ25hbFN0cmVuZ3RoKHNpZ25hbExpc3QpO1xuICBjb25zdCBjb25maWRlbmNlID0gc2NvcmVDb25maWRlbmNlKFxuICAgIGZpdFNjb3JlLFxuICAgIHBhaW5TY29yZSxcbiAgICBzaWduYWxTdHJlbmd0aCxcbiAgICBpbnB1dC5jb25maWRlbmNlX3dlaWdodHNcbiAgKTtcbiAgY29uc3Qgbm90ZXMgPSBidWlsZFdoeUhlcmVBbmROb3RlcyhyYW5rZWRFdmlkZW5jZSk7XG5cbiAgbGV0IG5hbWUgPSBjbGVhblRpdGxlKHBhZ2UudGl0bGUpO1xuICBpZiAoIW5hbWUpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaG9zdCA9IG5ldyBVUkwocGFnZVVybCkuaG9zdG5hbWUucmVwbGFjZSgvXnd3d1xcXFwuLywgXCJcIik7XG4gICAgICBuYW1lID0gaG9zdDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIG5hbWUgPSBwYWdlVXJsO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0FnZ3JlZ2F0b3IobmFtZSkpIHtcbiAgICByZXR1cm4geyByZWplY3RlZDogeyBuYW1lLCBsaW5rOiBzZWVkLnVybCwgcmVhc29uOiBcImFnZ3JlZ2F0b3JcIiB9IH07XG4gIH1cblxuICBjb25zdCBzZWdtZW50RGF0YSA9IHNlZ21lbnRQb29sLmZpbmQoKHNlZ21lbnQpID0+IHNlZ21lbnQuc2VnbWVudF9uYW1lID09PSBzZWdtZW50TWF0Y2gpO1xuICBjb25zdCBkZWR1cGVEb21haW4gPSBleHRyYWN0RG9tYWluRnJvbVVybChjYW5vbmljYWxpemVVcmwocGFnZVVybCkpIHx8IFwiXCI7XG4gIGNvbnN0IGRlZHVwZUlubiA9IGV4dHJhY3RJbm5Gcm9tVGV4dChwYWdlLnRleHQgfHwgXCJcIik7XG4gIGNvbnN0IGRlZHVwZVBob25lID0gZXh0cmFjdFBob25lRnJvbVRleHQocGFnZS50ZXh0IHx8IFwiXCIpO1xuXG4gIGNvbnN0IGNhbmRpZGF0ZSA9IHtcbiAgICBuYW1lLFxuICAgIGxpbms6IHBhZ2VVcmwsXG4gICAgY2hhbm5lbDogc2VlZC5jaGFubmVsLFxuICAgIHNlZ21lbnRfbWF0Y2g6IHNlZ21lbnRNYXRjaCxcbiAgICB3aHlfaGVyZTogbm90ZXMud2h5X2hlcmUsXG4gICAgd2h5X2hlcmVfcHJvb2ZfcmVmczogbm90ZXMud2h5X2hlcmVfcHJvb2ZfcmVmcyxcbiAgICBwcm9vZl9yZWZzOiBub3Rlcy5wcm9vZl9yZWZzLFxuICAgIGNvbmZpZGVuY2UsXG4gICAgbmV4dF9zdGVwX21lc3NhZ2VfYW5nbGU6IGJ1aWxkTmV4dFN0ZXBBbmdsZSgpLFxuICAgIHNvdXJjZV9ub3Rlczogbm90ZXMuc291cmNlX25vdGVzLFxuICAgIGZpcnN0X29mZmVyOiBzZWdtZW50RGF0YT8ucmVjb21tZW5kZWRfZW50cnlfb2ZmZXIgfHwgXCIzLTcg0LTQvdC10Lk6INCx0YvRgdGC0YDRi9C5INC/0LjQu9C+0YJcIixcbiAgICBleHBlY3RlZF9vdXRjb21lOiBidWlsZEV4cGVjdGVkT3V0Y29tZShzZWVkLmNoYW5uZWwpLFxuICAgIHJlcXVpcmVkX2FjY2VzczogYnVpbGRSZXF1aXJlZEFjY2VzcyhzZWVkLmNoYW5uZWwpLFxuICAgIGRlZHVwZV9rZXk6IG5vcm1hbGl6ZURlZHVwZUtleShuYW1lLCBwYWdlVXJsKSxcbiAgICBmaXRfc2NvcmU6IGZpdFNjb3JlLFxuICAgIHBhaW5fc2NvcmU6IHBhaW5TY29yZSxcbiAgICBzaWduYWxfc3RyZW5ndGg6IHNpZ25hbFN0cmVuZ3RoLFxuICAgIHNvdXJjZV9wcm9vZjogcmFua2VkRXZpZGVuY2UsXG4gICAgX3NpZ25hbF9rZXlzOiBzaWduYWxMaXN0LFxuICAgIF9kZWR1cGVfY29tcG9uZW50czoge1xuICAgICAgZG9tYWluOiBkZWR1cGVEb21haW4sXG4gICAgICBpbm46IGRlZHVwZUlubixcbiAgICAgIHBob25lOiBkZWR1cGVQaG9uZVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4geyBjYW5kaWRhdGUgfTtcbn07XG5cbmNvbnN0IGdlbmVyYXRlT3V0cHV0ID0gYXN5bmMgKGlucHV0LCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IGFwcGx5TGFzdFJ1bihub3JtYWxpemVJbnB1dChpbnB1dCksIG9wdGlvbnMubGFzdF9ydW4sIG9wdGlvbnMpO1xuICBjb25zdCBzZWdtZW50UG9vbCA9IGJ1aWxkU2VnbWVudHMobm9ybWFsaXplZCk7XG4gIGNvbnN0IHNlZ21lbnRzID0gbm9ybWFsaXplZC5tb2RlID09PSBcInRhcmdldHNfb25seVwiID8gW10gOiBzZWdtZW50UG9vbDtcbiAgY29uc3QgbGFzdERhdGEgPSB1bndyYXBMZWdhY3kob3B0aW9ucy5sYXN0X3J1bik7XG4gIGNvbnN0IHByZXZpb3VzVGVtcGxhdGVzID0gbGFzdERhdGEgJiYgbGFzdERhdGEubWV0YSA/IGxhc3REYXRhLm1ldGEuc2VhcmNoX3RlbXBsYXRlcyA6IG51bGw7XG4gIGNvbnN0IHRlbXBsYXRlcyA9XG4gICAgbm9ybWFsaXplZC5tb2RlID09PSBcImNvbnRpbnVlXCIgJiYgcHJldmlvdXNUZW1wbGF0ZXNcbiAgICAgID8ge1xuICAgICAgICAgIG1hcmtldHBsYWNlUXVlcmllczpcbiAgICAgICAgICAgIHByZXZpb3VzVGVtcGxhdGVzLm1hcmtldHBsYWNlX3F1ZXJpZXMgfHwgYnVpbGRTZWFyY2hUZW1wbGF0ZXMobm9ybWFsaXplZCkubWFya2V0cGxhY2VRdWVyaWVzLFxuICAgICAgICAgIHlhbmRleFF1ZXJpZXM6XG4gICAgICAgICAgICBwcmV2aW91c1RlbXBsYXRlcy55YW5kZXhfcXVlcmllcyB8fCBidWlsZFNlYXJjaFRlbXBsYXRlcyhub3JtYWxpemVkKS55YW5kZXhRdWVyaWVzLFxuICAgICAgICAgIHZrVGdRdWVyaWVzOiBwcmV2aW91c1RlbXBsYXRlcy52a190Z19xdWVyaWVzIHx8IGJ1aWxkU2VhcmNoVGVtcGxhdGVzKG5vcm1hbGl6ZWQpLnZrVGdRdWVyaWVzXG4gICAgICAgIH1cbiAgICAgIDogYnVpbGRTZWFyY2hUZW1wbGF0ZXMobm9ybWFsaXplZCk7XG4gIGNvbnN0IHNlYXJjaFBsYW4gPSBidWlsZFNlYXJjaFBsYW4obm9ybWFsaXplZCwgdGVtcGxhdGVzKTtcbiAgY29uc3Qgc2VhcmNoUXVlcmllc0J5U2VnbWVudCA9IG5ldyBNYXAoKTtcbiAgY29uc3QgYWRkU2VnbWVudFF1ZXJ5ID0gKHNlZ21lbnROYW1lLCBxdWVyeSkgPT4ge1xuICAgIGlmICghc2VnbWVudE5hbWUgfHwgIXF1ZXJ5KSByZXR1cm47XG4gICAgaWYgKCFzZWFyY2hRdWVyaWVzQnlTZWdtZW50LmhhcyhzZWdtZW50TmFtZSkpIHtcbiAgICAgIHNlYXJjaFF1ZXJpZXNCeVNlZ21lbnQuc2V0KHNlZ21lbnROYW1lLCBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICBzZWFyY2hRdWVyaWVzQnlTZWdtZW50LmdldChzZWdtZW50TmFtZSkuYWRkKHF1ZXJ5KTtcbiAgfTtcbiAgY29uc3QgZGVkdXBlUmVwb3J0ID0ge1xuICAgIHNjYW5uZWRfdG90YWw6IDAsXG4gICAga2VwdF90b3RhbDogMCxcbiAgICByZW1vdmVkX3RvdGFsOiAwLFxuICAgIHJlbW92ZWRfYnlfZG9tYWluOiAwLFxuICAgIHJlbW92ZWRfYnlfaW5uOiAwLFxuICAgIHJlbW92ZWRfYnlfcGhvbmU6IDBcbiAgfTtcbiAgY29uc3QgZGVkdXBlU2VlbiA9IHtcbiAgICBkb21haW46IG5ldyBTZXQoKSxcbiAgICBpbm46IG5ldyBTZXQoKSxcbiAgICBwaG9uZTogbmV3IFNldCgpXG4gIH07XG4gIHNlYXJjaFBsYW4uZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGNvbnN0IGxvd2VyID0gU3RyaW5nKGl0ZW0ucXVlcnkgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICBsZXQgY2hhbm5lbCA9IFwiRDJDXCI7XG4gICAgaWYgKGxvd2VyLmluY2x1ZGVzKFwid2lsZGJlcnJpZXNcIikpIGNoYW5uZWwgPSBcIldCXCI7XG4gICAgZWxzZSBpZiAobG93ZXIuaW5jbHVkZXMoXCJvem9uXCIpKSBjaGFubmVsID0gXCJPem9uXCI7XG4gICAgZWxzZSBjaGFubmVsID0gZ3Vlc3NDaGFubmVsRnJvbVF1ZXJ5KGxvd2VyKTtcbiAgICBjb25zdCBzZWdtZW50TWF0Y2ggPSBwaWNrU2VnbWVudE1hdGNoKGNoYW5uZWwsIHNlZ21lbnRQb29sKTtcbiAgICBhZGRTZWdtZW50UXVlcnkoc2VnbWVudE1hdGNoLCBpdGVtLnF1ZXJ5KTtcbiAgfSk7XG5cbiAgY29uc3QgcmVqZWN0ZWRDYW5kaWRhdGVzID0gW107XG4gIGNvbnN0IGFzc3VtcHRpb25zID0gW107XG4gIGNvbnN0IGxpbWl0YXRpb25zID0gW107XG4gIGxldCBwbGFjZWhvbGRlcnNVc2VkID0gZmFsc2U7XG4gIGNvbnN0IGZhbGxiYWNrU3RyYXRlZ2llcyA9IG5ldyBTZXQoKTtcblxuICBsZXQgY2FuZGlkYXRlcyA9IFtdO1xuICBsZXQgd2ViU3RhdHMgPSB7XG4gICAgcmVxdWVzdHNfbWFkZTogMCxcbiAgICBibG9ja2VkX2NvdW50OiAwLFxuICAgIGVycm9yc19jb3VudDogMCxcbiAgICBkdXJhdGlvbl9tczogMCxcbiAgICBzb3VyY2VzX3VzZWQ6IHsgeWFuZGV4OiAwLCB3YjogMCwgb3pvbjogMCwgdms6IDAsIHRnOiAwLCB3ZWJzaXRlczogMCB9LFxuICAgIGJsb2NrZWRfYnlfc291cmNlOiB7IHlhbmRleDogMCwgd2I6IDAsIG96b246IDAsIHZrOiAwLCB0ZzogMCwgd2Vic2l0ZXM6IDAgfSxcbiAgICBmYWxsYmFja191c2VkOiBmYWxzZSxcbiAgICBmYWxsYmFja19zdHJhdGVnaWVzX3VzZWQ6IFtdLFxuICAgIHRvcF9lcnJvcnM6IFtdLFxuICAgIHdhcm5pbmdzOiBbXVxuICB9O1xuXG4gIGNvbnN0IGV4Y2x1ZGVLZXlzID0gbmV3IFNldChcbiAgICAobm9ybWFsaXplZC5leGNsdWRlX2xpc3QgfHwgW10pLm1hcCgoaXRlbSkgPT4gbm9ybWFsaXplRGVkdXBlS2V5KGl0ZW0sIGl0ZW0pKVxuICApO1xuICBjb25zdCBnZXREZWR1cGVDb21wb25lbnRzID0gKGNhbmRpZGF0ZSkgPT4ge1xuICAgIGNvbnN0IGRvbWFpbiA9XG4gICAgICBjYW5kaWRhdGU/Ll9kZWR1cGVfY29tcG9uZW50cz8uZG9tYWluIHx8XG4gICAgICBleHRyYWN0RG9tYWluRnJvbVVybChjYW5vbmljYWxpemVVcmwoY2FuZGlkYXRlLmxpbmsgfHwgXCJcIikpIHx8XG4gICAgICBcIlwiO1xuICAgIGNvbnN0IGlubiA9IGNhbmRpZGF0ZT8uX2RlZHVwZV9jb21wb25lbnRzPy5pbm4gfHwgXCJcIjtcbiAgICBjb25zdCBwaG9uZSA9IGNhbmRpZGF0ZT8uX2RlZHVwZV9jb21wb25lbnRzPy5waG9uZSB8fCBcIlwiO1xuICAgIHJldHVybiB7IGRvbWFpbiwgaW5uLCBwaG9uZSB9O1xuICB9O1xuICBjb25zdCBmaW5kRGVkdXBlQ29uZmxpY3QgPSAoY29tcG9uZW50cykgPT4ge1xuICAgIGlmIChjb21wb25lbnRzLmlubiAmJiBkZWR1cGVTZWVuLmlubi5oYXMoY29tcG9uZW50cy5pbm4pKSByZXR1cm4gXCJpbm5cIjtcbiAgICBpZiAoY29tcG9uZW50cy5waG9uZSAmJiBkZWR1cGVTZWVuLnBob25lLmhhcyhjb21wb25lbnRzLnBob25lKSkgcmV0dXJuIFwicGhvbmVcIjtcbiAgICBpZiAoY29tcG9uZW50cy5kb21haW4gJiYgZGVkdXBlU2Vlbi5kb21haW4uaGFzKGNvbXBvbmVudHMuZG9tYWluKSkgcmV0dXJuIFwiZG9tYWluXCI7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH07XG4gIGNvbnN0IG1hcmtLZXB0Q2FuZGlkYXRlID0gKGNvbXBvbmVudHMpID0+IHtcbiAgICBpZiAoY29tcG9uZW50cy5kb21haW4pIGRlZHVwZVNlZW4uZG9tYWluLmFkZChjb21wb25lbnRzLmRvbWFpbik7XG4gICAgaWYgKGNvbXBvbmVudHMuaW5uKSBkZWR1cGVTZWVuLmlubi5hZGQoY29tcG9uZW50cy5pbm4pO1xuICAgIGlmIChjb21wb25lbnRzLnBob25lKSBkZWR1cGVTZWVuLnBob25lLmFkZChjb21wb25lbnRzLnBob25lKTtcbiAgICBkZWR1cGVSZXBvcnQua2VwdF90b3RhbCArPSAxO1xuICB9O1xuICBjb25zdCBtYXJrUmVtb3ZlZER1cGxpY2F0ZSA9IChyZWFzb24pID0+IHtcbiAgICBkZWR1cGVSZXBvcnQucmVtb3ZlZF90b3RhbCArPSAxO1xuICAgIGlmIChyZWFzb24gPT09IFwiZG9tYWluXCIpIGRlZHVwZVJlcG9ydC5yZW1vdmVkX2J5X2RvbWFpbiArPSAxO1xuICAgIGlmIChyZWFzb24gPT09IFwiaW5uXCIpIGRlZHVwZVJlcG9ydC5yZW1vdmVkX2J5X2lubiArPSAxO1xuICAgIGlmIChyZWFzb24gPT09IFwicGhvbmVcIikgZGVkdXBlUmVwb3J0LnJlbW92ZWRfYnlfcGhvbmUgKz0gMTtcbiAgfTtcblxuICBpZiAoXG4gICAgbm9ybWFsaXplZC5tb2RlICE9PSBcInNlZ21lbnRzX29ubHlcIiAmJlxuICAgIG5vcm1hbGl6ZWQubW9kZSAhPT0gXCJzZWVkX29ubHlcIiAmJlxuICAgIG5vcm1hbGl6ZWQuaGFzX3dlYl9hY2Nlc3MgJiZcbiAgICBvcHRpb25zLndlYkNsaWVudFxuICApIHtcbiAgICBjb25zdCB3ZWJDbGllbnQgPSBvcHRpb25zLndlYkNsaWVudDtcbiAgICBsZXQgc2VhcmNoUmVzdWx0cyA9IGF3YWl0IGNvbGxlY3RTZWFyY2hSZXN1bHRzKHdlYkNsaWVudCwgc2VhcmNoUGxhbiwge1xuICAgICAgbGltaXRQZXJRdWVyeTogbm9ybWFsaXplZC5tb2RlID09PSBcInF1aWNrXCIgPyAzIDogNSxcbiAgICAgIG1heFNlZWRzOiBub3JtYWxpemVkLnRhcmdldF9jb3VudCAqIDQsXG4gICAgICBzdGF0czogd2ViU3RhdHNcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlZWRzID0gW107XG4gICAgY29uc3Qgc2VlZFNlZW4gPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2Ygc2VhcmNoUmVzdWx0cykge1xuICAgICAgaWYgKCFyZXN1bHQudXJsIHx8IHNlZWRTZWVuLmhhcyhyZXN1bHQudXJsKSkgY29udGludWU7XG4gICAgICBpZiAoL1xcLihwZGZ8ZG9jfGRvY3gpJC9pLnRlc3QocmVzdWx0LnVybCkpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgY2Fub25pY2FsID0gY2Fub25pY2FsaXplVXJsKHJlc3VsdC51cmwpO1xuICAgICAgY29uc3Qgc2VlZEtleSA9IG5vcm1hbGl6ZURlZHVwZUtleShjYW5vbmljYWwsIGNhbm9uaWNhbCk7XG4gICAgICBpZiAoIXNlZWRLZXkgfHwgc2VlZFNlZW4uaGFzKHNlZWRLZXkpIHx8IGV4Y2x1ZGVLZXlzLmhhcyhzZWVkS2V5KSkgY29udGludWU7XG4gICAgICBzZWVkU2Vlbi5hZGQoc2VlZEtleSk7XG4gICAgICBjb25zdCBjaGFubmVsID0gZGVyaXZlQ2hhbm5lbEZyb21VcmwoY2Fub25pY2FsLCBub3JtYWxpemVkLCByZXN1bHQucXVlcnkgfHwgXCJcIik7XG4gICAgICBjb25zdCBzZWdtZW50TWF0Y2ggPSBwaWNrU2VnbWVudE1hdGNoKGNoYW5uZWwsIHNlZ21lbnRQb29sKTtcbiAgICAgIGFkZFNlZ21lbnRRdWVyeShzZWdtZW50TWF0Y2gsIHJlc3VsdC5xdWVyeSB8fCBcIlwiKTtcbiAgICAgIHNlZWRzLnB1c2goe1xuICAgICAgICB1cmw6IGNhbm9uaWNhbCxcbiAgICAgICAgcXVlcnk6IHJlc3VsdC5xdWVyeSB8fCBcIlwiLFxuICAgICAgICBpbnRlbnQ6IEJvb2xlYW4ocmVzdWx0LmludGVudCksXG4gICAgICAgIHNvdXJjZV91cmw6IHJlc3VsdC5zb3VyY2VfdXJsIHx8IGJ1aWxkU2VhcmNoVXJsKHJlc3VsdC5xdWVyeSB8fCBcIlwiLCByZXN1bHQuZW5naW5lIHx8IFwieWFuZGV4XCIpLFxuICAgICAgICBjaGFubmVsLFxuICAgICAgICBzZWdtZW50X21hdGNoOiBzZWdtZW50TWF0Y2hcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzZWVkcy5sZW5ndGggPCBub3JtYWxpemVkLnRhcmdldF9jb3VudCkge1xuICAgICAgY29uc3QgZmFsbGJhY2tRdWVyaWVzID0gYnVpbGRGYWxsYmFja1F1ZXJpZXMobm9ybWFsaXplZCk7XG4gICAgICBmYWxsYmFja1N0cmF0ZWdpZXMuYWRkKFwic2l0ZV9xdWVyaWVzXCIpO1xuICAgICAgd2ViU3RhdHMuZmFsbGJhY2tfdXNlZCA9IHRydWU7XG4gICAgICB3ZWJTdGF0cy5mYWxsYmFja19zdHJhdGVnaWVzX3VzZWQgPSBbLi4uZmFsbGJhY2tTdHJhdGVnaWVzXTtcbiAgICAgIGNvbnN0IGZhbGxiYWNrUGxhbiA9IGZhbGxiYWNrUXVlcmllcy5tYXAoKHF1ZXJ5KSA9PiAoe1xuICAgICAgICBxdWVyeSxcbiAgICAgICAgc291cmNlOiBcImZhbGxiYWNrXCIsXG4gICAgICAgIGVuZ2luZTogXCJ5YW5kZXhcIixcbiAgICAgICAgaW50ZW50OiBpc0ludGVudFF1ZXJ5KHF1ZXJ5KVxuICAgICAgfSkpO1xuICAgICAgY29uc3QgZmFsbGJhY2tSZXN1bHRzID0gYXdhaXQgY29sbGVjdFNlYXJjaFJlc3VsdHMod2ViQ2xpZW50LCBmYWxsYmFja1BsYW4sIHtcbiAgICAgICAgbGltaXRQZXJRdWVyeTogMyxcbiAgICAgICAgbWF4U2VlZHM6IG5vcm1hbGl6ZWQudGFyZ2V0X2NvdW50ICogMixcbiAgICAgICAgc3RhdHM6IHdlYlN0YXRzXG4gICAgICB9KTtcbiAgICAgIHNlYXJjaFJlc3VsdHMgPSBbLi4uc2VhcmNoUmVzdWx0cywgLi4uZmFsbGJhY2tSZXN1bHRzXTtcbiAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIGZhbGxiYWNrUmVzdWx0cykge1xuICAgICAgICBpZiAoIXJlc3VsdC51cmwpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBjYW5vbmljYWwgPSBjYW5vbmljYWxpemVVcmwocmVzdWx0LnVybCk7XG4gICAgICAgIGNvbnN0IHNlZWRLZXkgPSBub3JtYWxpemVEZWR1cGVLZXkoY2Fub25pY2FsLCBjYW5vbmljYWwpO1xuICAgICAgICBpZiAoIXNlZWRLZXkgfHwgc2VlZFNlZW4uaGFzKHNlZWRLZXkpIHx8IGV4Y2x1ZGVLZXlzLmhhcyhzZWVkS2V5KSkgY29udGludWU7XG4gICAgICAgIHNlZWRTZWVuLmFkZChzZWVkS2V5KTtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IGRlcml2ZUNoYW5uZWxGcm9tVXJsKGNhbm9uaWNhbCwgbm9ybWFsaXplZCwgcmVzdWx0LnF1ZXJ5IHx8IFwiXCIpO1xuICAgICAgICBjb25zdCBzZWdtZW50TWF0Y2ggPSBwaWNrU2VnbWVudE1hdGNoKGNoYW5uZWwsIHNlZ21lbnRQb29sKTtcbiAgICAgICAgYWRkU2VnbWVudFF1ZXJ5KHNlZ21lbnRNYXRjaCwgcmVzdWx0LnF1ZXJ5IHx8IFwiXCIpO1xuICAgICAgICBzZWVkcy5wdXNoKHtcbiAgICAgICAgICB1cmw6IGNhbm9uaWNhbCxcbiAgICAgICAgICBxdWVyeTogcmVzdWx0LnF1ZXJ5IHx8IFwiXCIsXG4gICAgICAgICAgaW50ZW50OiBCb29sZWFuKHJlc3VsdC5pbnRlbnQpLFxuICAgICAgICAgIHNvdXJjZV91cmw6IHJlc3VsdC5zb3VyY2VfdXJsIHx8IGJ1aWxkU2VhcmNoVXJsKHJlc3VsdC5xdWVyeSB8fCBcIlwiLCByZXN1bHQuZW5naW5lIHx8IFwieWFuZGV4XCIpLFxuICAgICAgICAgIGNoYW5uZWwsXG4gICAgICAgICAgc2VnbWVudF9tYXRjaDogc2VnbWVudE1hdGNoXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGdvb2QgPSBbXTtcbiAgICBjb25zdCBsb3dRdWFsaXR5ID0gW107XG4gICAgZm9yIChjb25zdCBzZWVkIG9mIHNlZWRzKSB7XG4gICAgICBpZiAoZ29vZC5sZW5ndGggPj0gbm9ybWFsaXplZC50YXJnZXRfY291bnQgKiAyKSBicmVhaztcbiAgICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZURlZHVwZUtleShzZWVkLnVybCwgc2VlZC51cmwpO1xuICAgICAgaWYgKCFrZXkgfHwgZXhjbHVkZUtleXMuaGFzKGtleSkpIGNvbnRpbnVlO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYnVpbGRDYW5kaWRhdGVGcm9tU2VlZCh7XG4gICAgICAgIHNlZWQsXG4gICAgICAgIHNlZ21lbnRQb29sLFxuICAgICAgICBpbnB1dDogbm9ybWFsaXplZCxcbiAgICAgICAgd2ViQ2xpZW50LFxuICAgICAgICBzdGF0czogd2ViU3RhdHNcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlc3VsdC5yZWplY3RlZCkge1xuICAgICAgICBpZiAocmVqZWN0ZWRDYW5kaWRhdGVzLmxlbmd0aCA8IDEwKSByZWplY3RlZENhbmRpZGF0ZXMucHVzaChyZXN1bHQucmVqZWN0ZWQpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHJlc3VsdC5jYW5kaWRhdGU7XG4gICAgICBkZWR1cGVSZXBvcnQuc2Nhbm5lZF90b3RhbCArPSAxO1xuICAgICAgY29uc3QgZGVkdXBlQ29tcG9uZW50cyA9IGdldERlZHVwZUNvbXBvbmVudHMoY2FuZGlkYXRlKTtcbiAgICAgIGNvbnN0IGRlZHVwZUNvbmZsaWN0ID0gZmluZERlZHVwZUNvbmZsaWN0KGRlZHVwZUNvbXBvbmVudHMpO1xuICAgICAgaWYgKCFjYW5kaWRhdGUuZGVkdXBlX2tleSB8fCBleGNsdWRlS2V5cy5oYXMoY2FuZGlkYXRlLmRlZHVwZV9rZXkpKSB7XG4gICAgICAgIG1hcmtSZW1vdmVkRHVwbGljYXRlKGRlZHVwZUNvbmZsaWN0IHx8IChkZWR1cGVDb21wb25lbnRzLmRvbWFpbiA/IFwiZG9tYWluXCIgOiBcIlwiKSk7XG4gICAgICAgIGlmIChyZWplY3RlZENhbmRpZGF0ZXMubGVuZ3RoIDwgMTApIHtcbiAgICAgICAgICByZWplY3RlZENhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBjYW5kaWRhdGUubmFtZSxcbiAgICAgICAgICAgIGxpbms6IGNhbmRpZGF0ZS5saW5rLFxuICAgICAgICAgICAgcmVhc29uOiBcImR1cGxpY2F0ZV9kZWR1cGVfa2V5XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWR1cGVDb25mbGljdCkge1xuICAgICAgICBtYXJrUmVtb3ZlZER1cGxpY2F0ZShkZWR1cGVDb25mbGljdCk7XG4gICAgICAgIGlmIChyZWplY3RlZENhbmRpZGF0ZXMubGVuZ3RoIDwgMTApIHtcbiAgICAgICAgICByZWplY3RlZENhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBjYW5kaWRhdGUubmFtZSxcbiAgICAgICAgICAgIGxpbms6IGNhbmRpZGF0ZS5saW5rLFxuICAgICAgICAgICAgcmVhc29uOiBgZHVwbGljYXRlXyR7ZGVkdXBlQ29uZmxpY3R9YFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKG5vcm1hbGl6ZWQucmVxdWlyZV9zaWduYWxzICYmIGNhbmRpZGF0ZS5zb3VyY2VfcHJvb2YubGVuZ3RoIDwgMikge1xuICAgICAgICBpZiAocmVqZWN0ZWRDYW5kaWRhdGVzLmxlbmd0aCA8IDEwKSB7XG4gICAgICAgICAgcmVqZWN0ZWRDYW5kaWRhdGVzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogY2FuZGlkYXRlLm5hbWUsXG4gICAgICAgICAgICBsaW5rOiBjYW5kaWRhdGUubGluayxcbiAgICAgICAgICAgIHJlYXNvbjogXCJpbnN1ZmZpY2llbnRfc2lnbmFsc1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYW5kaWRhdGUuY29uZmlkZW5jZSA8IG5vcm1hbGl6ZWQubWluX2NvbmZpZGVuY2UpIHtcbiAgICAgICAgY2FuZGlkYXRlLmxvd19xdWFsaXR5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQubW9kZSA9PT0gXCJkZWVwXCIpIHtcbiAgICAgICAgICBsb3dRdWFsaXR5LnB1c2goY2FuZGlkYXRlKTtcbiAgICAgICAgICBtYXJrS2VwdENhbmRpZGF0ZShkZWR1cGVDb21wb25lbnRzKTtcbiAgICAgICAgICBleGNsdWRlS2V5cy5hZGQoY2FuZGlkYXRlLmRlZHVwZV9rZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlamVjdGVkQ2FuZGlkYXRlcy5sZW5ndGggPCAxMCkge1xuICAgICAgICAgIHJlamVjdGVkQ2FuZGlkYXRlcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IGNhbmRpZGF0ZS5uYW1lLFxuICAgICAgICAgICAgbGluazogY2FuZGlkYXRlLmxpbmssXG4gICAgICAgICAgICByZWFzb246IFwiYmVsb3dfbWluX2NvbmZpZGVuY2VcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnb29kLnB1c2goY2FuZGlkYXRlKTtcbiAgICAgICAgbWFya0tlcHRDYW5kaWRhdGUoZGVkdXBlQ29tcG9uZW50cyk7XG4gICAgICAgIGV4Y2x1ZGVLZXlzLmFkZChjYW5kaWRhdGUuZGVkdXBlX2tleSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcG9vbCA9IGdvb2QubGVuZ3RoIDwgbm9ybWFsaXplZC50YXJnZXRfY291bnQgJiYgbm9ybWFsaXplZC5tb2RlID09PSBcImRlZXBcIlxuICAgICAgPyBbLi4uZ29vZCwgLi4ubG93UXVhbGl0eV1cbiAgICAgIDogZ29vZDtcblxuICAgIGNhbmRpZGF0ZXMgPSBwb29sXG4gICAgICAubWFwKChjYW5kaWRhdGUpID0+ICh7XG4gICAgICAgIC4uLmNhbmRpZGF0ZSxcbiAgICAgICAgX3BhaW46IHBhaW5TdHJlbmd0aChjYW5kaWRhdGUuX3NpZ25hbF9rZXlzIHx8IFtdKVxuICAgICAgfSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBpZiAoYi5jb25maWRlbmNlICE9PSBhLmNvbmZpZGVuY2UpIHJldHVybiBiLmNvbmZpZGVuY2UgLSBhLmNvbmZpZGVuY2U7XG4gICAgICAgIHJldHVybiBiLl9wYWluIC0gYS5fcGFpbjtcbiAgICAgIH0pXG4gICAgICAuc2xpY2UoMCwgbm9ybWFsaXplZC50YXJnZXRfY291bnQpXG4gICAgICAubWFwKCh7IF9wYWluLCBfc2lnbmFsX2tleXMsIF9kZWR1cGVfY29tcG9uZW50cywgLi4uY2FuZGlkYXRlIH0pID0+IGNhbmRpZGF0ZSk7XG5cbiAgICBjb25zdCBjbGllbnRTdGF0cyA9IHdlYkNsaWVudC5nZXRTdGF0cygpO1xuICAgIHdlYlN0YXRzID0ge1xuICAgICAgLi4ud2ViU3RhdHMsXG4gICAgICByZXF1ZXN0c19tYWRlOiBjbGllbnRTdGF0cy5yZXF1ZXN0c19tYWRlLFxuICAgICAgYmxvY2tlZF9jb3VudDogY2xpZW50U3RhdHMuYmxvY2tlZF9jb3VudCxcbiAgICAgIGVycm9yc19jb3VudDogY2xpZW50U3RhdHMuZXJyb3JzX2NvdW50LFxuICAgICAgZHVyYXRpb25fbXM6IGNsaWVudFN0YXRzLmR1cmF0aW9uX21zLFxuICAgICAgdG9wX2Vycm9yczogY2xpZW50U3RhdHMudG9wX2Vycm9ycyB8fCBbXSxcbiAgICAgIHdhcm5pbmdzOiBjbGllbnRTdGF0cy53YXJuaW5ncyB8fCBbXVxuICAgIH07XG4gIH0gZWxzZSBpZiAobm9ybWFsaXplZC5tb2RlICE9PSBcInNlZ21lbnRzX29ubHlcIiAmJiBub3JtYWxpemVkLm1vZGUgIT09IFwic2VlZF9vbmx5XCIpIHtcbiAgICBhc3N1bXB0aW9ucy5wdXNoKFwi0JLQtdCxLdC00L7RgdGC0YPQvyDQvtGC0LrQu9GO0YfQtdC9INC40LvQuCDQutC70LjQtdC90YIg0L3QtSDQvdCw0YHRgtGA0L7QtdC9LlwiKTtcbiAgfVxuXG4gIGNvbnN0IGFsbG93UGxhY2Vob2xkZXJzID1cbiAgICBub3JtYWxpemVkLm1vZGUgIT09IFwic2VnbWVudHNfb25seVwiICYmXG4gICAgbm9ybWFsaXplZC5tb2RlICE9PSBcInNlZWRfb25seVwiICYmXG4gICAgKChub3JtYWxpemVkLmhhc193ZWJfYWNjZXNzICYmIG5vcm1hbGl6ZWQuYWxsb3dfcGxhY2Vob2xkZXJzX2lmX2Jsb2NrZWQpIHx8XG4gICAgICAoIW5vcm1hbGl6ZWQuaGFzX3dlYl9hY2Nlc3MgJiYgbm9ybWFsaXplZC5hbGxvd19wbGFjZWhvbGRlcnNfaWZfbm9fd2ViKSk7XG5cbiAgaWYgKFxuICAgIG5vcm1hbGl6ZWQubW9kZSAhPT0gXCJzZWdtZW50c19vbmx5XCIgJiZcbiAgICBub3JtYWxpemVkLm1vZGUgIT09IFwic2VlZF9vbmx5XCIgJiZcbiAgICBjYW5kaWRhdGVzLmxlbmd0aCA8IG5vcm1hbGl6ZWQudGFyZ2V0X2NvdW50ICYmXG4gICAgYWxsb3dQbGFjZWhvbGRlcnNcbiAgKSB7XG4gICAgY29uc3QgbWlzc2luZyA9IG5vcm1hbGl6ZWQudGFyZ2V0X2NvdW50IC0gY2FuZGlkYXRlcy5sZW5ndGg7XG4gICAgaWYgKG1pc3NpbmcgPiAwKSB7XG4gICAgICBjb25zdCBwbGFjZWhvbGRlcklucHV0ID0ge1xuICAgICAgICAuLi5ub3JtYWxpemVkLFxuICAgICAgICBleGNsdWRlX2xpc3Q6IFtcbiAgICAgICAgICAuLi5ub3JtYWxpemVkLmV4Y2x1ZGVfbGlzdCxcbiAgICAgICAgICAuLi5jYW5kaWRhdGVzLm1hcCgoY2FuZGlkYXRlKSA9PiBjYW5kaWRhdGUuZGVkdXBlX2tleSlcbiAgICAgICAgXVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHBsYWNlaG9sZGVyUmF3ID0gYnVpbGRDYW5kaWRhdGVzKHNlZ21lbnRQb29sLCBwbGFjZWhvbGRlcklucHV0LCBtaXNzaW5nKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIGVzdGltYXRlOiB0cnVlLFxuICAgICAgICBjb25maWRlbmNlX2VzdGltYXRlOiBpdGVtLmNvbmZpZGVuY2UsXG4gICAgICAgIGNvbmZpZGVuY2U6IGl0ZW0uY29uZmlkZW5jZVxuICAgICAgfSkpO1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXJzID0gW107XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcGxhY2Vob2xkZXJSYXcpIHtcbiAgICAgICAgZGVkdXBlUmVwb3J0LnNjYW5uZWRfdG90YWwgKz0gMTtcbiAgICAgICAgYWRkU2VnbWVudFF1ZXJ5KGl0ZW0uc2VnbWVudF9tYXRjaCwgaXRlbS5zZWFyY2hfcXVlcnkpO1xuICAgICAgICBjb25zdCBkZWR1cGVDb21wb25lbnRzID0gZ2V0RGVkdXBlQ29tcG9uZW50cyhpdGVtKTtcbiAgICAgICAgY29uc3QgZGVkdXBlQ29uZmxpY3QgPSBmaW5kRGVkdXBlQ29uZmxpY3QoZGVkdXBlQ29tcG9uZW50cyk7XG4gICAgICAgIGlmICghaXRlbS5kZWR1cGVfa2V5IHx8IGV4Y2x1ZGVLZXlzLmhhcyhpdGVtLmRlZHVwZV9rZXkpIHx8IGRlZHVwZUNvbmZsaWN0KSB7XG4gICAgICAgICAgbWFya1JlbW92ZWREdXBsaWNhdGUoZGVkdXBlQ29uZmxpY3QgfHwgKGRlZHVwZUNvbXBvbmVudHMuZG9tYWluID8gXCJkb21haW5cIiA6IFwiXCIpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBtYXJrS2VwdENhbmRpZGF0ZShkZWR1cGVDb21wb25lbnRzKTtcbiAgICAgICAgZXhjbHVkZUtleXMuYWRkKGl0ZW0uZGVkdXBlX2tleSk7XG4gICAgICAgIHBsYWNlaG9sZGVycy5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgICAgY2FuZGlkYXRlcyA9IFsuLi5jYW5kaWRhdGVzLCAuLi5wbGFjZWhvbGRlcnNdO1xuICAgICAgcGxhY2Vob2xkZXJzVXNlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBsYWNlaG9sZGVyc1VzZWQpIHtcbiAgICBsaW1pdGF0aW9ucy5wdXNoKFwi0KfQsNGB0YLRjCDQutCw0L3QtNC40LTQsNGC0L7QsiDigJQgcGxhY2Vob2xkZXJzINC40Lct0LfQsCDQvtCz0YDQsNC90LjRh9C10L3QuNC5INCy0LXQsS3QtNC+0YHRgtGD0L/QsC5cIik7XG4gIH1cbiAgaWYgKHdlYlN0YXRzLmJsb2NrZWRfY291bnQgPiAwKSB7XG4gICAgbGltaXRhdGlvbnMucHVzaChcItCd0LXQutC+0YLQvtGA0YvQtSDQuNGB0YLQvtGH0L3QuNC60Lgg0LfQsNCx0LvQvtC60LjRgNC+0LLQsNC70Lgg0LTQvtGB0YLRg9C/IChyb2JvdHMudHh0L9C+0LPRgNCw0L3QuNGH0LXQvdC40Y8pLlwiKTtcbiAgfVxuICBpZiAod2ViU3RhdHMuZXJyb3JzX2NvdW50ID4gMCkge1xuICAgIGxpbWl0YXRpb25zLnB1c2goXCLQp9Cw0YHRgtGMINC30LDQv9GA0L7RgdC+0LIg0LfQsNCy0LXRgNGI0LjQu9Cw0YHRjCDQvtGI0LjQsdC60L7QuSDRgdC10YLQuC5cIik7XG4gIH1cblxuICBpZiAobm9ybWFsaXplZC5tb2RlID09PSBcInNlZ21lbnRzX29ubHlcIiB8fCBub3JtYWxpemVkLm1vZGUgPT09IFwic2VlZF9vbmx5XCIpIHtcbiAgICBjYW5kaWRhdGVzID0gW107XG4gIH1cblxuICBpZiAobm9ybWFsaXplZC5tb2RlID09PSBcInRhcmdldHNfb25seVwiKSB7XG4gICAgc2VnbWVudHMubGVuZ3RoID0gMDtcbiAgfVxuXG4gIGlmIChhc3N1bXB0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBhc3N1bXB0aW9ucy5wdXNoKFwi0JjRgdC/0L7Qu9GM0LfQvtCy0LDQvdGLINGC0L7Qu9GM0LrQviDQv9GD0LHQu9C40YfQvdGL0LUg0LjRgdGC0L7Rh9C90LjQutC4INC4INC/0YDQvtCy0LXRgNGP0LXQvNGL0LUg0YHQuNCz0L3QsNC70YsuXCIpO1xuICB9XG4gIGlmIChsaW1pdGF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICBsaW1pdGF0aW9ucy5wdXNoKFwi0JLRi9C00LDRh9CwINC30LDQstC40YHQuNGCINC+0YIg0LTQvtGB0YLRg9C/0L3QvtGB0YLQuCDQv9GD0LHQu9C40YfQvdGL0YUg0LjRgdGC0L7Rh9C90LjQutC+0LIuXCIpO1xuICB9XG5cbiAgY29uc3Qgc2VhcmNoUXVlcmllc1VzZWRCeVNlZ21lbnQgPSBzZWdtZW50cy5tYXAoKHNlZ21lbnQpID0+ICh7XG4gICAgc2VnbWVudF9uYW1lOiBzZWdtZW50LnNlZ21lbnRfbmFtZSxcbiAgICBxdWVyaWVzOiBbLi4uKHNlYXJjaFF1ZXJpZXNCeVNlZ21lbnQuZ2V0KHNlZ21lbnQuc2VnbWVudF9uYW1lKSB8fCBuZXcgU2V0KCkpXS5zbGljZSgwLCA4KVxuICB9KSk7XG4gIGNvbnN0IG5vcm1hbGl6ZWRDYW5kaWRhdGVzID0gY2FuZGlkYXRlcy5tYXAoXG4gICAgKHsgX2RlZHVwZV9jb21wb25lbnRzLCBfc2lnbmFsX2tleXMsIC4uLmNhbmRpZGF0ZSB9KSA9PiBjYW5kaWRhdGVcbiAgKTtcbiAgZGVkdXBlUmVwb3J0LmtlcHRfdG90YWwgPSBub3JtYWxpemVkQ2FuZGlkYXRlcy5sZW5ndGg7XG4gIGRlZHVwZVJlcG9ydC5yZW1vdmVkX3RvdGFsID0gTWF0aC5tYXgoXG4gICAgZGVkdXBlUmVwb3J0LnJlbW92ZWRfdG90YWwsXG4gICAgZGVkdXBlUmVwb3J0LnNjYW5uZWRfdG90YWwgLSBkZWR1cGVSZXBvcnQua2VwdF90b3RhbFxuICApO1xuXG4gIGNvbnN0IGxlZ2FjeU91dHB1dCA9IHtcbiAgICBzZWdtZW50cyxcbiAgICBjb21wYW55X2NhbmRpZGF0ZXM6IG5vcm1hbGl6ZWRDYW5kaWRhdGVzLFxuICAgIG1ldGE6IHtcbiAgICAgIGdlbmVyYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgYXNzdW1wdGlvbnMsXG4gICAgICBsaW1pdGF0aW9ucyxcbiAgICAgIG1hcmtldHBsYWNlX3F1ZXJpZXM6IHRlbXBsYXRlcy5tYXJrZXRwbGFjZVF1ZXJpZXMsXG4gICAgICB5YW5kZXhfcXVlcmllczogdGVtcGxhdGVzLnlhbmRleFF1ZXJpZXMsXG4gICAgICB2a190Z19xdWVyaWVzOiB0ZW1wbGF0ZXMudmtUZ1F1ZXJpZXMsXG4gICAgICByZWplY3RlZF9jYW5kaWRhdGVzOiByZWplY3RlZENhbmRpZGF0ZXMuc2xpY2UoMCwgMTApLFxuICAgICAgd2ViX3N0YXRzOiB3ZWJTdGF0cyxcbiAgICAgIHNlYXJjaF90ZW1wbGF0ZXM6IHtcbiAgICAgICAgbWFya2V0cGxhY2VfcXVlcmllczogdGVtcGxhdGVzLm1hcmtldHBsYWNlUXVlcmllcyxcbiAgICAgICAgeWFuZGV4X3F1ZXJpZXM6IHRlbXBsYXRlcy55YW5kZXhRdWVyaWVzLFxuICAgICAgICB2a190Z19xdWVyaWVzOiB0ZW1wbGF0ZXMudmtUZ1F1ZXJpZXNcbiAgICAgIH0sXG4gICAgICBzZWFyY2hfcGxhbjoge1xuICAgICAgICBxdWVyaWVzX3VzZWQ6IHNlYXJjaFBsYW4ubWFwKChpdGVtKSA9PiBpdGVtLnF1ZXJ5KVxuICAgICAgfSxcbiAgICAgIHNlYXJjaF9xdWVyaWVzX3VzZWRfYnlfc2VnbWVudDogc2VhcmNoUXVlcmllc1VzZWRCeVNlZ21lbnQsXG4gICAgICBkZWR1cGVfcmVwb3J0OiBkZWR1cGVSZXBvcnQsXG4gICAgICBjb25maWRlbmNlX3dlaWdodHM6IG5vcm1hbGl6ZWQuY29uZmlkZW5jZV93ZWlnaHRzLFxuICAgICAgbmV4dF9tYW51YWxfYWN0aW9uczogW1xuICAgICAgICBcItCe0YLQvtCx0YDQsNGC0YwgdG9wLTIwINC60LDQvdC00LjQtNCw0YLQvtCyINC/0L4gY29uZmlkZW5jZSDQuCDQt9Cw0L/Rg9GB0YLQuNGC0Ywg0L/QtdGA0YHQvtC90LDQu9C40LfQuNGA0L7QstCw0L3QvdGL0Lkgb3V0cmVhY2guXCIsXG4gICAgICAgIFwi0J/RgNC+0LLQtdGA0LjRgtGMINCy0YDRg9GH0L3Rg9GOINC60LDQvdC00LjQtNCw0YLQvtCyINGBIGxvd19xdWFsaXR5PXRydWUg0Lgg0L/QvtC00YLQstC10YDQtNC40YLRjCDRgdC40LPQvdCw0LvRiy5cIlxuICAgICAgXVxuICAgIH1cbiAgfTtcblxuICBhcHBseUJ1ZGdldE1ldGEobGVnYWN5T3V0cHV0Lm1ldGEsIG5vcm1hbGl6ZWQpO1xuXG4gIGNvbnN0IGVudmVsb3BlID0gd3JhcEFnZW50T3V0cHV0KHtcbiAgICBhZ2VudElkOiBwbGF0b25BZ2VudC5pZCxcbiAgICBpbnB1dEVjaG86IG5vcm1hbGl6ZWQsXG4gICAgbW9kZTogbm9ybWFsaXplZC5tb2RlLFxuICAgIGxlZ2FjeU91dHB1dFxuICB9KTtcblxuICBpZiAobm9ybWFsaXplZC5tb2RlID09PSBcInJlZnJlc2hcIiAmJiBvcHRpb25zLmxhc3RfcnVuKSB7XG4gICAgY29uc3QgcHJldkRhdGEgPSB1bndyYXBMZWdhY3kob3B0aW9ucy5sYXN0X3J1bik7XG4gICAgY29uc3QgcHJldkNhbmRpZGF0ZXMgPSBBcnJheS5pc0FycmF5KHByZXZEYXRhLmNvbXBhbnlfY2FuZGlkYXRlcylcbiAgICAgID8gcHJldkRhdGEuY29tcGFueV9jYW5kaWRhdGVzXG4gICAgICA6IFtdO1xuICAgIGNvbnN0IHByZXZLZXlzID0gbmV3IFNldChcbiAgICAgIHByZXZDYW5kaWRhdGVzXG4gICAgICAgIC5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICBpZiAoIWl0ZW0gfHwgdHlwZW9mIGl0ZW0gIT09IFwib2JqZWN0XCIpIHJldHVybiBcIlwiO1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBpdGVtLm5hbWUgfHwgaXRlbS5uYW1lX3BsYWNlaG9sZGVyIHx8IFwiXCI7XG4gICAgICAgICAgY29uc3QgbGluayA9IGl0ZW0ubGluayB8fCBcIlwiO1xuICAgICAgICAgIHJldHVybiBpdGVtLmRlZHVwZV9rZXkgfHwgbm9ybWFsaXplRGVkdXBlS2V5KG5hbWUsIGxpbmspO1xuICAgICAgICB9KVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgKTtcbiAgICBjb25zdCBuZXdLZXlzID0gbmV3IFNldChcbiAgICAgIGNhbmRpZGF0ZXNcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5kZWR1cGVfa2V5IHx8IG5vcm1hbGl6ZURlZHVwZUtleShpdGVtLm5hbWUgfHwgXCJcIiwgaXRlbS5saW5rIHx8IFwiXCIpKVxuICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgKTtcbiAgICBjb25zdCBkaWZmID0ge1xuICAgICAgYWRkZWQ6IFsuLi5uZXdLZXlzXS5maWx0ZXIoKGtleSkgPT4gIXByZXZLZXlzLmhhcyhrZXkpKSxcbiAgICAgIHJlbW92ZWQ6IFsuLi5wcmV2S2V5c10uZmlsdGVyKChrZXkpID0+ICFuZXdLZXlzLmhhcyhrZXkpKVxuICAgIH07XG4gICAgaWYgKGVudmVsb3BlLm1ldGEgJiYgZW52ZWxvcGUubWV0YS5oYW5kb2ZmICYmIGVudmVsb3BlLm1ldGEuaGFuZG9mZi5lbnRpdGllcykge1xuICAgICAgZW52ZWxvcGUubWV0YS5oYW5kb2ZmLmVudGl0aWVzLmRpZmYgPSBkaWZmO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgb3V0cHV0OiBlbnZlbG9wZSxcbiAgICBlZmZlY3RpdmVJbnB1dDogbm9ybWFsaXplZFxuICB9O1xufTtcblxuY29uc3QgZ2VuZXJhdGVQbGF0b25PdXRwdXQgPSBhc3luYyAocmF3SW5wdXQgPSB7fSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdlbmVyYXRlT3V0cHV0KHJhd0lucHV0LCBvcHRpb25zKTtcbiAgcmV0dXJuIHJlc3VsdC5vdXRwdXQ7XG59O1xuXG5jb25zdCBpc05vbkVtcHR5U3RyaW5nID0gKHZhbHVlKSA9PlxuICB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUudHJpbSgpLmxlbmd0aCA+IDA7XG5cbmNvbnN0IGlzU3RyaW5nQXJyYXkgPSAodmFsdWUpID0+XG4gIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KChpdGVtKSA9PiBpc05vbkVtcHR5U3RyaW5nKGl0ZW0pKTtcblxuY29uc3QgdmFsaWRhdGVQbGF0b25PdXRwdXQgPSAocGF5bG9hZCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IGVycm9ycyA9IFtdO1xuICBjb25zdCBsZWdhY3kgPSB1bndyYXBMZWdhY3kocGF5bG9hZCk7XG4gIGlmICghbGVnYWN5IHx8IHR5cGVvZiBsZWdhY3kgIT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4geyB2YWxpZDogZmFsc2UsIGVycm9yczogW1wiT3V0cHV0IG11c3QgYmUgYW4gb2JqZWN0LlwiXSB9O1xuICB9XG4gIHBheWxvYWQgPSBsZWdhY3k7XG5cbiAgY29uc3QgYWxsb3dFbXB0eVNlZ21lbnRzID0gb3B0aW9ucy5tb2RlID09PSBcInRhcmdldHNfb25seVwiO1xuICBjb25zdCBhbGxvd0VtcHR5Q2FuZGlkYXRlcyA9IG9wdGlvbnMubW9kZSA9PT0gXCJzZWdtZW50c19vbmx5XCIgfHwgb3B0aW9ucy5tb2RlID09PSBcInNlZWRfb25seVwiO1xuXG4gIGlmICghQXJyYXkuaXNBcnJheShwYXlsb2FkLnNlZ21lbnRzKSkge1xuICAgIGVycm9ycy5wdXNoKFwic2VnbWVudHMgbXVzdCBiZSBhbiBhcnJheS5cIik7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFhbGxvd0VtcHR5U2VnbWVudHMpIHtcbiAgICAgIGlmIChwYXlsb2FkLnNlZ21lbnRzLmxlbmd0aCA8IDUgfHwgcGF5bG9hZC5zZWdtZW50cy5sZW5ndGggPiA4KSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFwic2VnbWVudHMgbGVuZ3RoIG11c3QgYmUgYmV0d2VlbiA1IGFuZCA4LlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBheWxvYWQuc2VnbWVudHMubGVuZ3RoICE9PSAwICYmIHBheWxvYWQuc2VnbWVudHMubGVuZ3RoIDwgNSkge1xuICAgICAgZXJyb3JzLnB1c2goXCJzZWdtZW50cyBsZW5ndGggbXVzdCBiZSAwIG9yIDUtOC5cIik7XG4gICAgfVxuICAgIGNvbnN0IHNlZ21lbnROYW1lcyA9IG5ldyBTZXQoKTtcbiAgICBwYXlsb2FkLnNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoIXNlZ21lbnQgfHwgdHlwZW9mIHNlZ21lbnQgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYHNlZ21lbnRzWyR7aW5kZXh9XSBtdXN0IGJlIGFuIG9iamVjdC5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKHNlZ21lbnQuc2VnbWVudF9uYW1lKSkge1xuICAgICAgICBlcnJvcnMucHVzaChgc2VnbWVudHNbJHtpbmRleH1dLnNlZ21lbnRfbmFtZSBpcyByZXF1aXJlZC5gKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VnbWVudE5hbWVzLmhhcyhzZWdtZW50LnNlZ21lbnRfbmFtZSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYHNlZ21lbnRzWyR7aW5kZXh9XS5zZWdtZW50X25hbWUgbXVzdCBiZSB1bmlxdWUuYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWdtZW50TmFtZXMuYWRkKHNlZ21lbnQuc2VnbWVudF9uYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNOb25FbXB0eVN0cmluZyhzZWdtZW50LmdlbykpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYHNlZ21lbnRzWyR7aW5kZXh9XS5nZW8gaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzTm9uRW1wdHlTdHJpbmcoc2VnbWVudC5hdmdfY2hlY2tfb3JfbWFyZ2luX2VzdGltYXRlKSkge1xuICAgICAgICBlcnJvcnMucHVzaChgc2VnbWVudHNbJHtpbmRleH1dLmF2Z19jaGVja19vcl9tYXJnaW5fZXN0aW1hdGUgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9IGVsc2UgaWYgKCFzZWdtZW50LmF2Z19jaGVja19vcl9tYXJnaW5fZXN0aW1hdGUuaW5jbHVkZXMoXCJlc3RpbWF0ZVwiKSkge1xuICAgICAgICBlcnJvcnMucHVzaChgc2VnbWVudHNbJHtpbmRleH1dLmF2Z19jaGVja19vcl9tYXJnaW5fZXN0aW1hdGUgbXVzdCBpbmNsdWRlIFwiZXN0aW1hdGVcIi5gKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNTdHJpbmdBcnJheShzZWdtZW50LkxQUikgfHwgc2VnbWVudC5MUFIubGVuZ3RoIDwgMSkge1xuICAgICAgICBlcnJvcnMucHVzaChgc2VnbWVudHNbJHtpbmRleH1dLkxQUiBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5LmApO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1N0cmluZ0FycmF5KHNlZ21lbnQucGFpbl90cmlnZ2VycykpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYHNlZ21lbnRzWyR7aW5kZXh9XS5wYWluX3RyaWdnZXJzIG11c3QgYmUgYW4gYXJyYXkuYCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzZWdtZW50LnBhaW5fdHJpZ2dlcnMubGVuZ3RoIDwgMyB8fFxuICAgICAgICBzZWdtZW50LnBhaW5fdHJpZ2dlcnMubGVuZ3RoID4gNlxuICAgICAgKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBzZWdtZW50c1ske2luZGV4fV0ucGFpbl90cmlnZ2VycyBsZW5ndGggbXVzdCBiZSAzLTYuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nQXJyYXkoc2VnbWVudC53aHlfYWdlbnRvcykpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYHNlZ21lbnRzWyR7aW5kZXh9XS53aHlfYWdlbnRvcyBtdXN0IGJlIGFuIGFycmF5LmApO1xuICAgICAgfSBlbHNlIGlmIChzZWdtZW50LndoeV9hZ2VudG9zLmxlbmd0aCA8IDIgfHwgc2VnbWVudC53aHlfYWdlbnRvcy5sZW5ndGggPiA0KSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBzZWdtZW50c1ske2luZGV4fV0ud2h5X2FnZW50b3MgbGVuZ3RoIG11c3QgYmUgMi00LmApO1xuICAgICAgfVxuICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKHNlZ21lbnQucmVjb21tZW5kZWRfZW50cnlfb2ZmZXIpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBzZWdtZW50c1ske2luZGV4fV0ucmVjb21tZW5kZWRfZW50cnlfb2ZmZXIgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nQXJyYXkoc2VnbWVudC50eXBpY2FsX3N0YWNrKSB8fCBzZWdtZW50LnR5cGljYWxfc3RhY2subGVuZ3RoIDwgMSkge1xuICAgICAgICBlcnJvcnMucHVzaChgc2VnbWVudHNbJHtpbmRleH1dLnR5cGljYWxfc3RhY2sgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nQXJyYXkoc2VnbWVudC50b3Bfb2JqZWN0aW9ucykgfHwgc2VnbWVudC50b3Bfb2JqZWN0aW9ucy5sZW5ndGggPCAzKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBzZWdtZW50c1ske2luZGV4fV0udG9wX29iamVjdGlvbnMgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nQXJyYXkoc2VnbWVudC5wcm9vZl9pZGVhcykgfHwgc2VnbWVudC5wcm9vZl9pZGVhcy5sZW5ndGggPCAxKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBzZWdtZW50c1ske2luZGV4fV0ucHJvb2ZfaWRlYXMgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nQXJyYXkoc2VnbWVudC5hbnRpSUNQKSB8fCBzZWdtZW50LmFudGlJQ1AubGVuZ3RoIDwgMSkge1xuICAgICAgICBlcnJvcnMucHVzaChgc2VnbWVudHNbJHtpbmRleH1dLmFudGlJQ1AgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nQXJyYXkoc2VnbWVudC5taW5pbXVtX3ZpYWJsZV9zaWduYWxzKSkge1xuICAgICAgICBlcnJvcnMucHVzaChgc2VnbWVudHNbJHtpbmRleH1dLm1pbmltdW1fdmlhYmxlX3NpZ25hbHMgbXVzdCBiZSBhbiBhcnJheS5gKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHNlZ21lbnQubWluaW11bV92aWFibGVfc2lnbmFscy5sZW5ndGggPCAyIHx8XG4gICAgICAgIHNlZ21lbnQubWluaW11bV92aWFibGVfc2lnbmFscy5sZW5ndGggPiAzXG4gICAgICApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYHNlZ21lbnRzWyR7aW5kZXh9XS5taW5pbXVtX3ZpYWJsZV9zaWduYWxzIGxlbmd0aCBtdXN0IGJlIDItMy5gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShwYXlsb2FkLmNvbXBhbnlfY2FuZGlkYXRlcykpIHtcbiAgICBlcnJvcnMucHVzaChcImNvbXBhbnlfY2FuZGlkYXRlcyBtdXN0IGJlIGFuIGFycmF5LlwiKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWFsbG93RW1wdHlDYW5kaWRhdGVzKSB7XG4gICAgICBpZiAocGF5bG9hZC5jb21wYW55X2NhbmRpZGF0ZXMubGVuZ3RoIDwgMTUgfHwgcGF5bG9hZC5jb21wYW55X2NhbmRpZGF0ZXMubGVuZ3RoID4gNDApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJjb21wYW55X2NhbmRpZGF0ZXMgbGVuZ3RoIG11c3QgYmUgYmV0d2VlbiAxNSBhbmQgNDAuXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGF5bG9hZC5jb21wYW55X2NhbmRpZGF0ZXMubGVuZ3RoICE9PSAwICYmIHBheWxvYWQuY29tcGFueV9jYW5kaWRhdGVzLmxlbmd0aCA8IDE1KSB7XG4gICAgICBlcnJvcnMucHVzaChcImNvbXBhbnlfY2FuZGlkYXRlcyBsZW5ndGggbXVzdCBiZSAwIG9yID49IDE1LlwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBjYW5kaWRhdGVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICBwYXlsb2FkLmNvbXBhbnlfY2FuZGlkYXRlcy5mb3JFYWNoKChjYW5kaWRhdGUsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoIWNhbmRpZGF0ZSB8fCB0eXBlb2YgY2FuZGlkYXRlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dIG11c3QgYmUgYW4gb2JqZWN0LmApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBoYXNOYW1lID0gaXNOb25FbXB0eVN0cmluZyhjYW5kaWRhdGUubmFtZSkgfHwgaXNOb25FbXB0eVN0cmluZyhjYW5kaWRhdGUubGluayk7XG4gICAgICBjb25zdCBoYXNQbGFjZWhvbGRlciA9XG4gICAgICAgIGlzTm9uRW1wdHlTdHJpbmcoY2FuZGlkYXRlLm5hbWVfcGxhY2Vob2xkZXIpICYmXG4gICAgICAgIGlzTm9uRW1wdHlTdHJpbmcoY2FuZGlkYXRlLnNlYXJjaF9xdWVyeSk7XG4gICAgICBpZiAoIWhhc05hbWUgJiYgIWhhc1BsYWNlaG9sZGVyKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFxuICAgICAgICAgIGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dIG11c3QgaW5jbHVkZSBuYW1lL2xpbmsgb3IgcGxhY2Vob2xkZXIgZmllbGRzLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNOb25FbXB0eVN0cmluZyhjYW5kaWRhdGUuY2hhbm5lbCkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uY2hhbm5lbCBpcyByZXF1aXJlZC5gKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNOb25FbXB0eVN0cmluZyhjYW5kaWRhdGUuc2VnbWVudF9tYXRjaCkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uc2VnbWVudF9tYXRjaCBpcyByZXF1aXJlZC5gKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNOb25FbXB0eVN0cmluZyhjYW5kaWRhdGUud2h5X2hlcmUpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLndoeV9oZXJlIGlzIHJlcXVpcmVkLmApO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgY2FuZGlkYXRlLmNvbmZpZGVuY2UgIT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgY2FuZGlkYXRlLmNvbmZpZGVuY2UgPCAwIHx8XG4gICAgICAgIGNhbmRpZGF0ZS5jb25maWRlbmNlID4gMTAwXG4gICAgICApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uY29uZmlkZW5jZSBtdXN0IGJlIDAtMTAwLmApO1xuICAgICAgfVxuICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKGNhbmRpZGF0ZS5uZXh0X3N0ZXBfbWVzc2FnZV9hbmdsZSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0ubmV4dF9zdGVwX21lc3NhZ2VfYW5nbGUgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzTm9uRW1wdHlTdHJpbmcoY2FuZGlkYXRlLnNvdXJjZV9ub3RlcykpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uc291cmNlX25vdGVzIGlzIHJlcXVpcmVkLmApO1xuICAgICAgfVxuICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKGNhbmRpZGF0ZS5maXJzdF9vZmZlcikpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uZmlyc3Rfb2ZmZXIgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzTm9uRW1wdHlTdHJpbmcoY2FuZGlkYXRlLmV4cGVjdGVkX291dGNvbWUpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLmV4cGVjdGVkX291dGNvbWUgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9IGVsc2UgaWYgKCFjYW5kaWRhdGUuZXhwZWN0ZWRfb3V0Y29tZS5pbmNsdWRlcyhcImVzdGltYXRlXCIpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLmV4cGVjdGVkX291dGNvbWUgbXVzdCBpbmNsdWRlIGVzdGltYXRlLmApO1xuICAgICAgfVxuICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKGNhbmRpZGF0ZS5yZXF1aXJlZF9hY2Nlc3MpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLnJlcXVpcmVkX2FjY2VzcyBpcyByZXF1aXJlZC5gKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNOb25FbXB0eVN0cmluZyhjYW5kaWRhdGUuZGVkdXBlX2tleSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uZGVkdXBlX2tleSBpcyByZXF1aXJlZC5gKTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdHlwZW9mIGNhbmRpZGF0ZS5maXRfc2NvcmUgIT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgY2FuZGlkYXRlLmZpdF9zY29yZSA8IDAgfHxcbiAgICAgICAgY2FuZGlkYXRlLmZpdF9zY29yZSA+IDEwMFxuICAgICAgKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLmZpdF9zY29yZSBtdXN0IGJlIDAtMTAwLmApO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgY2FuZGlkYXRlLnBhaW5fc2NvcmUgIT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgY2FuZGlkYXRlLnBhaW5fc2NvcmUgPCAwIHx8XG4gICAgICAgIGNhbmRpZGF0ZS5wYWluX3Njb3JlID4gMTAwXG4gICAgICApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0ucGFpbl9zY29yZSBtdXN0IGJlIDAtMTAwLmApO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0eXBlb2YgY2FuZGlkYXRlLnNpZ25hbF9zdHJlbmd0aCAhPT0gXCJudW1iZXJcIiB8fFxuICAgICAgICBjYW5kaWRhdGUuc2lnbmFsX3N0cmVuZ3RoIDwgMCB8fFxuICAgICAgICBjYW5kaWRhdGUuc2lnbmFsX3N0cmVuZ3RoID4gMTAwXG4gICAgICApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uc2lnbmFsX3N0cmVuZ3RoIG11c3QgYmUgMC0xMDAuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLnNvdXJjZV9wcm9vZikgfHwgY2FuZGlkYXRlLnNvdXJjZV9wcm9vZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uc291cmNlX3Byb29mIGlzIHJlcXVpcmVkLmApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZS5zb3VyY2VfcHJvb2YubGVuZ3RoID4gNCkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLnNvdXJjZV9wcm9vZiBtYXggbGVuZ3RoIGlzIDQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FuZGlkYXRlLnNvdXJjZV9wcm9vZi5mb3JFYWNoKChwcm9vZiwgcHJvb2ZJbmRleCkgPT4ge1xuICAgICAgICAgIGlmICghcHJvb2YgfHwgdHlwZW9mIHByb29mICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgY29tcGFueV9jYW5kaWRhdGVzWyR7aW5kZXh9XS5zb3VyY2VfcHJvb2ZbJHtwcm9vZkluZGV4fV0gaW52YWxpZC5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKHByb29mLnVybCkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLnNvdXJjZV9wcm9vZlske3Byb29mSW5kZXh9XS51cmwgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaXNOb25FbXB0eVN0cmluZyhwcm9vZi50aXRsZSkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLnNvdXJjZV9wcm9vZlske3Byb29mSW5kZXh9XS50aXRsZSByZXF1aXJlZC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKHByb29mLmV2aWRlbmNlX3NuaXBwZXQpKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChcbiAgICAgICAgICAgICAgYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0uc291cmNlX3Byb29mWyR7cHJvb2ZJbmRleH1dLmV2aWRlbmNlX3NuaXBwZXQgcmVxdWlyZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKHByb29mLnNpZ25hbF90eXBlKSkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goXG4gICAgICAgICAgICAgIGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLnNvdXJjZV9wcm9vZlske3Byb29mSW5kZXh9XS5zaWduYWxfdHlwZSByZXF1aXJlZC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcm9vZi5zaWduYWxfdmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgdHlwZW9mIHByb29mLnNpZ25hbF92YWx1ZSAhPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHByb29mLnNpZ25hbF92YWx1ZSAhPT0gXCJudW1iZXJcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goXG4gICAgICAgICAgICAgIGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLnNvdXJjZV9wcm9vZlske3Byb29mSW5kZXh9XS5zaWduYWxfdmFsdWUgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShjYW5kaWRhdGUucHJvb2ZfcmVmcykgfHwgY2FuZGlkYXRlLnByb29mX3JlZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLnByb29mX3JlZnMgaXMgcmVxdWlyZWQuYCk7XG4gICAgICB9XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLndoeV9oZXJlX3Byb29mX3JlZnMpIHx8IGNhbmRpZGF0ZS53aHlfaGVyZV9wcm9vZl9yZWZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBlcnJvcnMucHVzaChgY29tcGFueV9jYW5kaWRhdGVzWyR7aW5kZXh9XS53aHlfaGVyZV9wcm9vZl9yZWZzIGlzIHJlcXVpcmVkLmApO1xuICAgICAgfSBlbHNlIGlmIChjYW5kaWRhdGUud2h5X2hlcmVfcHJvb2ZfcmVmcy5sZW5ndGggPiAyKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLndoeV9oZXJlX3Byb29mX3JlZnMgbWF4IGxlbmd0aCBpcyAyLmApO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLndoeV9oZXJlX3Byb29mX3JlZnMpICYmIEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLnNvdXJjZV9wcm9vZikpIHtcbiAgICAgICAgY2FuZGlkYXRlLndoeV9oZXJlX3Byb29mX3JlZnMuZm9yRWFjaCgocmVmLCByZWZJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiByZWYgIT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgIHJlZiA8IDAgfHxcbiAgICAgICAgICAgIHJlZiA+PSBjYW5kaWRhdGUuc291cmNlX3Byb29mLmxlbmd0aFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goXG4gICAgICAgICAgICAgIGBjb21wYW55X2NhbmRpZGF0ZXNbJHtpbmRleH1dLndoeV9oZXJlX3Byb29mX3JlZnNbJHtyZWZJbmRleH1dIGludmFsaWQgaW5kZXguYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLnByb29mX3JlZnMpICYmIEFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLnNvdXJjZV9wcm9vZikpIHtcbiAgICAgICAgY2FuZGlkYXRlLnByb29mX3JlZnMuZm9yRWFjaCgocmVmLCByZWZJbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiByZWYgIT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICAgIHJlZiA8IDAgfHxcbiAgICAgICAgICAgIHJlZiA+PSBjYW5kaWRhdGUuc291cmNlX3Byb29mLmxlbmd0aFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0ucHJvb2ZfcmVmc1ske3JlZkluZGV4fV0gaW52YWxpZCBpbmRleC5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzTm9uRW1wdHlTdHJpbmcoY2FuZGlkYXRlLndoeV9oZXJlKSAmJiAoIUFycmF5LmlzQXJyYXkoY2FuZGlkYXRlLndoeV9oZXJlX3Byb29mX3JlZnMpIHx8IGNhbmRpZGF0ZS53aHlfaGVyZV9wcm9vZl9yZWZzLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYGNvbXBhbnlfY2FuZGlkYXRlc1ske2luZGV4fV0gd2h5X2hlcmUgbXVzdCByZWZlcmVuY2UgcHJvb2YgcmVmcy5gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMucmVxdWlyZV9zaWduYWxzKSB7XG4gICAgICAgIGlmIChjb3VudFNpZ25hbHMoY2FuZGlkYXRlKSA8IDIpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgY29tcGFueV9jYW5kaWRhdGVzWyR7aW5kZXh9XSBtdXN0IGluY2x1ZGUgMisgc2lnbmFscy5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5taW5fY29uZmlkZW5jZSAmJiAhY2FuZGlkYXRlLmxvd19xdWFsaXR5KSB7XG4gICAgICAgIGlmIChjYW5kaWRhdGUuY29uZmlkZW5jZSA8IG9wdGlvbnMubWluX2NvbmZpZGVuY2UpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgY29tcGFueV9jYW5kaWRhdGVzWyR7aW5kZXh9XSBiZWxvdyBtaW5fY29uZmlkZW5jZS5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSBjYW5kaWRhdGUuZGVkdXBlX2tleSB8fFxuICAgICAgICAoaGFzUGxhY2Vob2xkZXIgPyBgcGxhY2Vob2xkZXI6JHtjYW5kaWRhdGUubmFtZV9wbGFjZWhvbGRlcn1gIDogYG5hbWU6JHtjYW5kaWRhdGUubmFtZX1gKTtcbiAgICAgIGlmIChjYW5kaWRhdGVOYW1lcy5oYXMoa2V5KSkge1xuICAgICAgICBlcnJvcnMucHVzaChgY29tcGFueV9jYW5kaWRhdGVzWyR7aW5kZXh9XSBkdXBsaWNhdGUgY2FuZGlkYXRlIGRldGVjdGVkLmApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FuZGlkYXRlTmFtZXMuYWRkKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIXBheWxvYWQubWV0YSB8fCB0eXBlb2YgcGF5bG9hZC5tZXRhICE9PSBcIm9iamVjdFwiKSB7XG4gICAgZXJyb3JzLnB1c2goXCJtZXRhIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWlzTm9uRW1wdHlTdHJpbmcocGF5bG9hZC5tZXRhLmdlbmVyYXRlZF9hdCkpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwibWV0YS5nZW5lcmF0ZWRfYXQgaXMgcmVxdWlyZWQuXCIpO1xuICAgIH1cbiAgICBpZiAoIWlzU3RyaW5nQXJyYXkocGF5bG9hZC5tZXRhLmFzc3VtcHRpb25zKSkge1xuICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLmFzc3VtcHRpb25zIG11c3QgYmUgYSBzdHJpbmcgYXJyYXkuXCIpO1xuICAgIH1cbiAgICBpZiAoIWlzU3RyaW5nQXJyYXkocGF5bG9hZC5tZXRhLmxpbWl0YXRpb25zKSkge1xuICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLmxpbWl0YXRpb25zIG11c3QgYmUgYSBzdHJpbmcgYXJyYXkuXCIpO1xuICAgIH1cbiAgICBpZiAoIWlzU3RyaW5nQXJyYXkocGF5bG9hZC5tZXRhLm1hcmtldHBsYWNlX3F1ZXJpZXMpKSB7XG4gICAgICBlcnJvcnMucHVzaChcIm1ldGEubWFya2V0cGxhY2VfcXVlcmllcyBtdXN0IGJlIGEgc3RyaW5nIGFycmF5LlwiKTtcbiAgICB9XG4gICAgaWYgKCFpc1N0cmluZ0FycmF5KHBheWxvYWQubWV0YS55YW5kZXhfcXVlcmllcykpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwibWV0YS55YW5kZXhfcXVlcmllcyBtdXN0IGJlIGEgc3RyaW5nIGFycmF5LlwiKTtcbiAgICB9XG4gICAgaWYgKCFpc1N0cmluZ0FycmF5KHBheWxvYWQubWV0YS52a190Z19xdWVyaWVzKSkge1xuICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLnZrX3RnX3F1ZXJpZXMgbXVzdCBiZSBhIHN0cmluZyBhcnJheS5cIik7XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXlsb2FkLm1ldGEucmVqZWN0ZWRfY2FuZGlkYXRlcykpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwibWV0YS5yZWplY3RlZF9jYW5kaWRhdGVzIG11c3QgYmUgYW4gYXJyYXkuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXlsb2FkLm1ldGEucmVqZWN0ZWRfY2FuZGlkYXRlcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoIWl0ZW0gfHwgdHlwZW9mIGl0ZW0gIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgbWV0YS5yZWplY3RlZF9jYW5kaWRhdGVzWyR7aW5kZXh9XSBtdXN0IGJlIGFuIG9iamVjdC5gKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc05vbkVtcHR5U3RyaW5nKGl0ZW0ucmVhc29uKSkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGBtZXRhLnJlamVjdGVkX2NhbmRpZGF0ZXNbJHtpbmRleH1dLnJlYXNvbiBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghcGF5bG9hZC5tZXRhLndlYl9zdGF0cyB8fCB0eXBlb2YgcGF5bG9hZC5tZXRhLndlYl9zdGF0cyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLndlYl9zdGF0cyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0YXRzID0gcGF5bG9hZC5tZXRhLndlYl9zdGF0cztcbiAgICAgIGlmICh0eXBlb2Ygc3RhdHMucmVxdWVzdHNfbWFkZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICBlcnJvcnMucHVzaChcIm1ldGEud2ViX3N0YXRzLnJlcXVlc3RzX21hZGUgbXVzdCBiZSBhIG51bWJlci5cIik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHN0YXRzLmJsb2NrZWRfY291bnQgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLndlYl9zdGF0cy5ibG9ja2VkX2NvdW50IG11c3QgYmUgYSBudW1iZXIuXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBzdGF0cy5lcnJvcnNfY291bnQgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLndlYl9zdGF0cy5lcnJvcnNfY291bnQgbXVzdCBiZSBhIG51bWJlci5cIik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHN0YXRzLmR1cmF0aW9uX21zICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFwibWV0YS53ZWJfc3RhdHMuZHVyYXRpb25fbXMgbXVzdCBiZSBhIG51bWJlci5cIik7XG4gICAgICB9XG4gICAgICBjb25zdCBzb3VyY2VzID0gc3RhdHMuc291cmNlc191c2VkO1xuICAgICAgaWYgKCFzb3VyY2VzIHx8IHR5cGVvZiBzb3VyY2VzICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFwibWV0YS53ZWJfc3RhdHMuc291cmNlc191c2VkIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJsb2NrZWQgPSBzdGF0cy5ibG9ja2VkX2J5X3NvdXJjZTtcbiAgICAgIGlmICghYmxvY2tlZCB8fCB0eXBlb2YgYmxvY2tlZCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBlcnJvcnMucHVzaChcIm1ldGEud2ViX3N0YXRzLmJsb2NrZWRfYnlfc291cmNlIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc3RhdHMuZmFsbGJhY2tfdXNlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLndlYl9zdGF0cy5mYWxsYmFja191c2VkIG11c3QgYmUgYm9vbGVhbi5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3RhdHMuZmFsbGJhY2tfc3RyYXRlZ2llc191c2VkKSkge1xuICAgICAgICBlcnJvcnMucHVzaChcIm1ldGEud2ViX3N0YXRzLmZhbGxiYWNrX3N0cmF0ZWdpZXNfdXNlZCBtdXN0IGJlIGFycmF5LlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdGF0cy50b3BfZXJyb3JzKSkge1xuICAgICAgICBlcnJvcnMucHVzaChcIm1ldGEud2ViX3N0YXRzLnRvcF9lcnJvcnMgbXVzdCBiZSBhcnJheS5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3RhdHMud2FybmluZ3MpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFwibWV0YS53ZWJfc3RhdHMud2FybmluZ3MgbXVzdCBiZSBhcnJheS5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcGF5bG9hZC5tZXRhLnNlYXJjaF90ZW1wbGF0ZXMgfHwgdHlwZW9mIHBheWxvYWQubWV0YS5zZWFyY2hfdGVtcGxhdGVzICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICBlcnJvcnMucHVzaChcIm1ldGEuc2VhcmNoX3RlbXBsYXRlcyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IHBheWxvYWQubWV0YS5zZWFyY2hfdGVtcGxhdGVzO1xuICAgICAgaWYgKCFpc1N0cmluZ0FycmF5KHRlbXBsYXRlcy5tYXJrZXRwbGFjZV9xdWVyaWVzKSkge1xuICAgICAgICBlcnJvcnMucHVzaChcIm1ldGEuc2VhcmNoX3RlbXBsYXRlcy5tYXJrZXRwbGFjZV9xdWVyaWVzIG11c3QgYmUgYSBzdHJpbmcgYXJyYXkuXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFpc1N0cmluZ0FycmF5KHRlbXBsYXRlcy55YW5kZXhfcXVlcmllcykpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLnNlYXJjaF90ZW1wbGF0ZXMueWFuZGV4X3F1ZXJpZXMgbXVzdCBiZSBhIHN0cmluZyBhcnJheS5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RyaW5nQXJyYXkodGVtcGxhdGVzLnZrX3RnX3F1ZXJpZXMpKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKFwibWV0YS5zZWFyY2hfdGVtcGxhdGVzLnZrX3RnX3F1ZXJpZXMgbXVzdCBiZSBhIHN0cmluZyBhcnJheS5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcGF5bG9hZC5tZXRhLnNlYXJjaF9wbGFuIHx8IHR5cGVvZiBwYXlsb2FkLm1ldGEuc2VhcmNoX3BsYW4gIT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwibWV0YS5zZWFyY2hfcGxhbiBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgfSBlbHNlIGlmICghaXNTdHJpbmdBcnJheShwYXlsb2FkLm1ldGEuc2VhcmNoX3BsYW4ucXVlcmllc191c2VkKSkge1xuICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLnNlYXJjaF9wbGFuLnF1ZXJpZXNfdXNlZCBtdXN0IGJlIGEgc3RyaW5nIGFycmF5LlwiKTtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBheWxvYWQubWV0YS5zZWFyY2hfcXVlcmllc191c2VkX2J5X3NlZ21lbnQpKSB7XG4gICAgICBlcnJvcnMucHVzaChcIm1ldGEuc2VhcmNoX3F1ZXJpZXNfdXNlZF9ieV9zZWdtZW50IG11c3QgYmUgYW4gYXJyYXkuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXlsb2FkLm1ldGEuc2VhcmNoX3F1ZXJpZXNfdXNlZF9ieV9zZWdtZW50LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICghaXRlbSB8fCB0eXBlb2YgaXRlbSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGBtZXRhLnNlYXJjaF9xdWVyaWVzX3VzZWRfYnlfc2VnbWVudFske2luZGV4fV0gbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNOb25FbXB0eVN0cmluZyhpdGVtLnNlZ21lbnRfbmFtZSkpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChcbiAgICAgICAgICAgIGBtZXRhLnNlYXJjaF9xdWVyaWVzX3VzZWRfYnlfc2VnbWVudFske2luZGV4fV0uc2VnbWVudF9uYW1lIGlzIHJlcXVpcmVkLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNTdHJpbmdBcnJheShpdGVtLnF1ZXJpZXMpKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goYG1ldGEuc2VhcmNoX3F1ZXJpZXNfdXNlZF9ieV9zZWdtZW50WyR7aW5kZXh9XS5xdWVyaWVzIG11c3QgYmUgYW4gYXJyYXkuYCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXBheWxvYWQubWV0YS5kZWR1cGVfcmVwb3J0IHx8IHR5cGVvZiBwYXlsb2FkLm1ldGEuZGVkdXBlX3JlcG9ydCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgZXJyb3JzLnB1c2goXCJtZXRhLmRlZHVwZV9yZXBvcnQgbXVzdCBiZSBhbiBvYmplY3QuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZXBvcnQgPSBwYXlsb2FkLm1ldGEuZGVkdXBlX3JlcG9ydDtcbiAgICAgIGNvbnN0IHJlcXVpcmVkTnVtYmVyRmllbGRzID0gW1xuICAgICAgICBcInNjYW5uZWRfdG90YWxcIixcbiAgICAgICAgXCJrZXB0X3RvdGFsXCIsXG4gICAgICAgIFwicmVtb3ZlZF90b3RhbFwiLFxuICAgICAgICBcInJlbW92ZWRfYnlfZG9tYWluXCIsXG4gICAgICAgIFwicmVtb3ZlZF9ieV9pbm5cIixcbiAgICAgICAgXCJyZW1vdmVkX2J5X3Bob25lXCJcbiAgICAgIF07XG4gICAgICByZXF1aXJlZE51bWJlckZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHJlcG9ydFtmaWVsZF0gIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChgbWV0YS5kZWR1cGVfcmVwb3J0LiR7ZmllbGR9IG11c3QgYmUgYSBudW1iZXIuYCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocGF5bG9hZC5tZXRhLmNvbmZpZGVuY2Vfd2VpZ2h0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCB3ZWlnaHRzID0gcGF5bG9hZC5tZXRhLmNvbmZpZGVuY2Vfd2VpZ2h0cztcbiAgICAgIGlmICghd2VpZ2h0cyB8fCB0eXBlb2Ygd2VpZ2h0cyAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICBlcnJvcnMucHVzaChcIm1ldGEuY29uZmlkZW5jZV93ZWlnaHRzIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFtcImZpdF9zY29yZVwiLCBcInBhaW5fc2NvcmVcIiwgXCJzaWduYWxfc3RyZW5ndGhcIl0uZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHdlaWdodHNbZmllbGRdICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgbWV0YS5jb25maWRlbmNlX3dlaWdodHMuJHtmaWVsZH0gbXVzdCBiZSBhIG51bWJlci5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzU3RyaW5nQXJyYXkocGF5bG9hZC5tZXRhLm5leHRfbWFudWFsX2FjdGlvbnMpKSB7XG4gICAgICBlcnJvcnMucHVzaChcIm1ldGEubmV4dF9tYW51YWxfYWN0aW9ucyBtdXN0IGJlIGEgc3RyaW5nIGFycmF5LlwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4geyB2YWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCwgZXJyb3JzIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgREVGQVVMVF9XSEFUX1dFX1NFTEwsXG4gIGlucHV0RGVmYXVsdHMsXG4gIGlucHV0U2NoZW1hLFxuICBvdXRwdXRTY2hlbWEsXG4gIHN5c3RlbVByb21wdCxcbiAgcGxhdG9uQWdlbnQsXG4gIG5vcm1hbGl6ZUlucHV0LFxuICBnZW5lcmF0ZVBsYXRvbk91dHB1dCxcbiAgdmFsaWRhdGVQbGF0b25PdXRwdXQsXG4gIGdlbmVyYXRlT3V0cHV0XG59O1xuIl0sIm5hbWVzIjpbIkRFRkFVTFRfV0hBVF9XRV9TRUxMIiwiY2Fub25pY2FsaXplVXJsIiwicmVxdWlyZSIsIndyYXBBZ2VudE91dHB1dCIsInVud3JhcExlZ2FjeSIsInNhbml0aXplU25pcHBldCIsImFwcGx5QnVkZ2V0IiwiYXBwbHlCdWRnZXRNZXRhIiwiZXh0cmFjdERvbWFpbkZyb21VcmwiLCJtYWtlRGVkdXBlS2V5Iiwibm9ybWFsaXplUGhvbmUiLCJleHRyYWN0RnJvbUh0bWwiLCJpbnB1dERlZmF1bHRzIiwibW9kZSIsImluZHVzdHJ5X29yX25pY2hlIiwiZ2VvIiwiY2hhbm5lbCIsInNpemUiLCJ3aGF0X3dlX3NlbGwiLCJleGNsdWRlX2xpc3QiLCJtaW5fY29uZmlkZW5jZSIsInRhcmdldF9jb3VudCIsInJlcXVpcmVfc2lnbmFscyIsImFsbG93X3BsYWNlaG9sZGVyc19pZl9ub193ZWIiLCJoYXNfd2ViX2FjY2VzcyIsIm1heF93ZWJfcmVxdWVzdHMiLCJwcmVmZXJyZWRfc291cmNlcyIsInJlY2VuY3lfZGF5cyIsImFsbG93X3BsYWNlaG9sZGVyc19pZl9ibG9ja2VkIiwiY29uZmlkZW5jZV93ZWlnaHRzIiwiZml0X3Njb3JlIiwicGFpbl9zY29yZSIsInNpZ25hbF9zdHJlbmd0aCIsImlucHV0U2NoZW1hIiwidHlwZSIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicHJvcGVydGllcyIsImVudW0iLCJkZWZhdWx0IiwiaXRlbXMiLCJyZXF1aXJlZCIsIm91dHB1dFNjaGVtYSIsInNlZ21lbnRzIiwic2VnbWVudF9uYW1lIiwiYXZnX2NoZWNrX29yX21hcmdpbl9lc3RpbWF0ZSIsIkxQUiIsInBhaW5fdHJpZ2dlcnMiLCJ3aHlfYWdlbnRvcyIsInJlY29tbWVuZGVkX2VudHJ5X29mZmVyIiwidHlwaWNhbF9zdGFjayIsInRvcF9vYmplY3Rpb25zIiwicHJvb2ZfaWRlYXMiLCJhbnRpSUNQIiwibWluaW11bV92aWFibGVfc2lnbmFscyIsImNvbXBhbnlfY2FuZGlkYXRlcyIsIm5hbWUiLCJsaW5rIiwibmFtZV9wbGFjZWhvbGRlciIsInNlYXJjaF9xdWVyeSIsInNlZ21lbnRfbWF0Y2giLCJ3aHlfaGVyZSIsImNvbmZpZGVuY2UiLCJjb25maWRlbmNlX2VzdGltYXRlIiwibmV4dF9zdGVwX21lc3NhZ2VfYW5nbGUiLCJzb3VyY2Vfbm90ZXMiLCJmaXJzdF9vZmZlciIsImV4cGVjdGVkX291dGNvbWUiLCJyZXF1aXJlZF9hY2Nlc3MiLCJsb3dfcXVhbGl0eSIsImVzdGltYXRlIiwiZGVkdXBlX2tleSIsInByb29mX3JlZnMiLCJ3aHlfaGVyZV9wcm9vZl9yZWZzIiwic291cmNlX3Byb29mIiwidXJsIiwidGl0bGUiLCJldmlkZW5jZV9zbmlwcGV0Iiwic2lnbmFsX3R5cGUiLCJzaWduYWxfdmFsdWUiLCJtZXRhIiwiZ2VuZXJhdGVkX2F0IiwiYXNzdW1wdGlvbnMiLCJsaW1pdGF0aW9ucyIsIm1hcmtldHBsYWNlX3F1ZXJpZXMiLCJ5YW5kZXhfcXVlcmllcyIsInZrX3RnX3F1ZXJpZXMiLCJyZWplY3RlZF9jYW5kaWRhdGVzIiwicmVhc29uIiwid2ViX3N0YXRzIiwicmVxdWVzdHNfbWFkZSIsImJsb2NrZWRfY291bnQiLCJlcnJvcnNfY291bnQiLCJkdXJhdGlvbl9tcyIsInNvdXJjZXNfdXNlZCIsInlhbmRleCIsIndiIiwib3pvbiIsInZrIiwidGciLCJ3ZWJzaXRlcyIsImJsb2NrZWRfYnlfc291cmNlIiwiZmFsbGJhY2tfdXNlZCIsImZhbGxiYWNrX3N0cmF0ZWdpZXNfdXNlZCIsInRvcF9lcnJvcnMiLCJkb21haW4iLCJjb2RlIiwiY291bnQiLCJ3YXJuaW5ncyIsInNlYXJjaF90ZW1wbGF0ZXMiLCJzZWFyY2hfcGxhbiIsInF1ZXJpZXNfdXNlZCIsInNlYXJjaF9xdWVyaWVzX3VzZWRfYnlfc2VnbWVudCIsInF1ZXJpZXMiLCJkZWR1cGVfcmVwb3J0Iiwic2Nhbm5lZF90b3RhbCIsImtlcHRfdG90YWwiLCJyZW1vdmVkX3RvdGFsIiwicmVtb3ZlZF9ieV9kb21haW4iLCJyZW1vdmVkX2J5X2lubiIsInJlbW92ZWRfYnlfcGhvbmUiLCJuZXh0X21hbnVhbF9hY3Rpb25zIiwic3lzdGVtUHJvbXB0IiwicGxhdG9uQWdlbnQiLCJpZCIsImRpc3BsYXlOYW1lIiwiZGVzY3JpcHRpb24iLCJNT0RFUyIsIlNldCIsIkNIQU5ORUxTIiwiU0laRVMiLCJTT1VSQ0VTIiwicmVzb2x2ZVRhcmdldENvdW50IiwidGFyZ2V0Q291bnQiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIk1hdGgiLCJyb3VuZCIsInJlc29sdmVNYXhSZXF1ZXN0cyIsIm1heFJlcXVlc3RzIiwibm9ybWFsaXplSW5wdXQiLCJpbnB1dCIsInNhZmUiLCJidWRnZXQiLCJoYXMiLCJwcmVmZXJyZWRTb3VyY2VzIiwiQXJyYXkiLCJpc0FycmF5IiwiZmlsdGVyIiwiaXRlbSIsImV4Y2x1ZGVMaXN0IiwidHJpbSIsIm1pbkNvbmZpZGVuY2UiLCJtaW4iLCJtYXgiLCJyYXdXZWlnaHRzIiwicGFyc2VkV2VpZ2h0cyIsInRvdGFsV2VpZ2h0IiwiY29uZmlkZW5jZVdlaWdodHMiLCJ0b0ZpeGVkIiwibm9ybWFsaXplZCIsImJ1ZGdldFJlc3VsdCIsIm1heFdlYlJlcXVlc3RzUGF0aCIsIm1heEl0ZW1zUGF0aHMiLCJidWRnZXRfYXBwbGllZCIsImJ1ZGdldF93YXJuaW5ncyIsIlNJR05BTF9MSUJSQVJZIiwibWFya2V0cGxhY2Vfc3RvcmVmcm9udCIsImxhYmVsIiwid2VpZ2h0IiwicmV2aWV3c18yMDAiLCJhY3RpdmVfc2t1IiwiY29tcGV0aXRpdmVfY2F0ZWdvcnkiLCJzb2NpYWxfcG9zdGluZyIsInNvY2lhbF9lbmdhZ2VtZW50IiwieWFuZGV4X2ludGVudCIsIm9wc19wYWluIiwic2NvcmVTaWduYWxTdHJlbmd0aCIsInNpZ25hbEtleXMiLCJzY29yZSIsInJlZHVjZSIsInRvdGFsIiwia2V5Iiwic2lnbmFsIiwic2NvcmVQYWluIiwiaW5jbHVkZXMiLCJzY29yZUNvbmZpZGVuY2UiLCJmaXRTY29yZSIsInBhaW5TY29yZSIsInNpZ25hbFN0cmVuZ3RoIiwid2VpZ2h0cyIsImZpdFdlaWdodCIsInBhaW5XZWlnaHQiLCJzaWduYWxXZWlnaHQiLCJwYWluU3RyZW5ndGgiLCJub3JtYWxpemVEZWR1cGVLZXkiLCJub3JtYWxpemVkTmFtZSIsIm5vcm1hbGl6ZWRMaW5rIiwicHJlZml4IiwiZXh0cmFjdElubkZyb21UZXh0IiwidGV4dCIsIm1hdGNoIiwiZXh0cmFjdFBob25lRnJvbVRleHQiLCJpc0FnZ3JlZ2F0b3IiLCJsb3dlciIsInRvTG93ZXJDYXNlIiwia2V5d29yZHMiLCJzb21lIiwia2V5d29yZCIsInNlZ21lbnRUZW1wbGF0ZXMiLCJjaGFubmVscyIsIkNIQU5ORUxfQ0FURUdPUklFUyIsIldCIiwiT3pvbiIsIkQyQyIsIk9mZmxpbmVTZXJ2aWNlcyIsIkIyQiIsIk1peGVkIiwiU0lHTkFMX1BSRVNFVFMiLCJJTlRFTlRfS0VZV09SRFMiLCJTRVJWSUNFX0tFWVdPUkRTIiwiQjJCX0tFWVdPUkRTIiwiT1BTX0tFWVdPUkRTIiwiYnVpbGRTZWdtZW50cyIsImZpbHRlcmVkIiwic2VnbWVudCIsImxlbmd0aCIsInNsaWNlIiwibWFwIiwiYnVpbGRTZWFyY2hRdWVyeSIsImNhdGVnb3J5IiwiZ2VvUGFydCIsInBpY2tUb3BTaWduYWxzIiwic29ydCIsImEiLCJiIiwiYnVpbGRTaWduYWxOb3RlcyIsInNpZ25hbHMiLCJCb29sZWFuIiwiam9pbiIsImJ1aWxkQ2FuZGlkYXRlIiwic2VnbWVudE5hbWUiLCJzY29yZUZpdCIsInNlYXJjaFF1ZXJ5IiwiZXZpZGVuY2UiLCJidWlsZFNlYXJjaFVybCIsImNsaXBTbmlwcGV0Iiwibm90ZXMiLCJidWlsZFdoeUhlcmVBbmROb3RlcyIsIm5hbWVQbGFjZWhvbGRlciIsIl9kZWR1cGVfY29tcG9uZW50cyIsImlubiIsInBob25lIiwiYnVpbGRDYW5kaWRhdGVzIiwibGltaXQiLCJjYW5kaWRhdGVzIiwiZXhjbHVkZUtleXMiLCJuaWNoZU92ZXJyaWRlIiwiaW5kZXgiLCJjYXRlZ29yeVBvb2wiLCJzaWduYWxQcmVzZXQiLCJjYW5kaWRhdGUiLCJkZWR1cGVLZXkiLCJhZGQiLCJwdXNoIiwiYXBwbHlMYXN0UnVuIiwibGFzdFJ1biIsIm9wdGlvbnMiLCJlbnJpY2hlZCIsImxhc3REYXRhIiwicHJldkNhbmRpZGF0ZXMiLCJwcmV2S2V5cyIsInByZXZMaW5rcyIsInNob3VsZFJlZnJlc2giLCJjb250aW51ZSIsInByZXZDb3VudCIsImRlc2lyZWRUb3RhbCIsImFkZGl0aW9uYWwiLCJidWlsZFNlYXJjaFRlbXBsYXRlcyIsIm5pY2hlIiwibWFya2V0cGxhY2VRdWVyaWVzIiwieWFuZGV4UXVlcmllcyIsInZrVGdRdWVyaWVzIiwiYnVpbGRGYWxsYmFja1F1ZXJpZXMiLCJxdWVyeSIsImVuZ2luZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImlzSW50ZW50UXVlcnkiLCJidWlsZFNlYXJjaFBsYW4iLCJ0ZW1wbGF0ZXMiLCJwbGFuIiwicHJlZmVycmVkIiwicHVzaFF1ZXJpZXMiLCJzb3VyY2UiLCJmb3JFYWNoIiwiaW50ZW50IiwiZGVkdXBlZCIsInNlZW4iLCJjb2xsZWN0U2VhcmNoUmVzdWx0cyIsIndlYkNsaWVudCIsInJlc3VsdHMiLCJsaW1pdFBlclF1ZXJ5IiwibWF4U2VlZHMiLCJzdGF0cyIsImZvdW5kIiwic2VhcmNoIiwicmVzdWx0Iiwic291cmNlX3VybCIsImVycm9yIiwibWVzc2FnZSIsImd1ZXNzQ2hhbm5lbEZyb21RdWVyeSIsImRlcml2ZUNoYW5uZWxGcm9tVXJsIiwiaG9zdCIsIlVSTCIsImhvc3RuYW1lIiwiY2xhc3NpZnlTb3VyY2UiLCJwaWNrU2VnbWVudE1hdGNoIiwidGVtcGxhdGUiLCJmaW5kIiwiY2xlYW5UaXRsZSIsInJlcGxhY2UiLCJzYW5pdGl6ZUV2aWRlbmNlU25pcHBldCIsImZpbmRTbmlwcGV0IiwicmVnZXgiLCJleGVjIiwidW5kZWZpbmVkIiwic3RhcnQiLCJlbmQiLCJleHRyYWN0TnVtYmVyU2lnbmFsIiwibWluVmFsdWUiLCJiZXN0IiwidmFsdWUiLCJleHRyYWN0U2lnbmFsc0Zyb21QYWdlIiwicGFnZSIsInJlY2VuY3lEYXlzIiwiY3VycmVudFllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJtaW5ZZWFyIiwiZmxvb3IiLCJ5ZWFyTWF0Y2hlcyIsImxhdGVzdFllYXIiLCJyZWNlbmN5T2siLCJhZGRFdmlkZW5jZSIsInNpZ25hbFR5cGUiLCJzbmlwcGV0Iiwic2lnbmFsVmFsdWUiLCJyZXZpZXdNYXRjaCIsIlJlZ0V4cCIsInNrdU1hdGNoIiwidGVzdCIsIm9wc0tleXdvcmQiLCJzZWdtZW50TWF0Y2giLCJpbmRleGVkIiwiaXNOb25FbXB0eVN0cmluZyIsIndoeUl0ZW1zIiwic291cmNlSXRlbXMiLCJidWlsZEV4cGVjdGVkT3V0Y29tZSIsImJ1aWxkUmVxdWlyZWRBY2Nlc3MiLCJidWlsZE5leHRTdGVwQW5nbGUiLCJidWlsZEludGVudEV2aWRlbmNlIiwic291cmNlVXJsIiwiY291bnRTaWduYWxzIiwiY29sbGVjdCIsInNwbGl0IiwicmFua0V2aWRlbmNlIiwid2VpZ2h0QSIsIndlaWdodEIiLCJleHRyYWN0U29jaWFsTGlua3MiLCJodG1sIiwicGF0dGVybiIsIm1hdGNoZXMiLCJleHRyYWN0TWFya2V0cGxhY2VCcmFuZFVybCIsInBhdHRlcm5zIiwidW5pcXVlIiwiYnVpbGRDYW5kaWRhdGVGcm9tU2VlZCIsInNlZWQiLCJzZWdtZW50UG9vbCIsInNvdXJjZVR5cGUiLCJmZXRjaFBhZ2UiLCJyZWplY3RlZCIsImNhbm9uaWNhbE1hcmtldHBsYWNlIiwicGFnZVVybCIsImV4dHJhY3RlZCIsImdlbmVyaWNFeHRyYWN0IiwicHJvb2ZfaXRlbXMiLCJzb2NpYWxMaW5rcyIsInNvY2lhbFVybCIsInNvY2lhbFBhZ2UiLCJzb2NpYWxTaWduYWxzIiwidW5pcXVlRXZpZGVuY2UiLCJzZWVuRXZpZGVuY2UiLCJyYW5rZWRFdmlkZW5jZSIsInNpZ25hbExpc3QiLCJzZWdtZW50RGF0YSIsImRlZHVwZURvbWFpbiIsImRlZHVwZUlubiIsImRlZHVwZVBob25lIiwiX3NpZ25hbF9rZXlzIiwiZ2VuZXJhdGVPdXRwdXQiLCJsYXN0X3J1biIsInByZXZpb3VzVGVtcGxhdGVzIiwic2VhcmNoUGxhbiIsInNlYXJjaFF1ZXJpZXNCeVNlZ21lbnQiLCJNYXAiLCJhZGRTZWdtZW50UXVlcnkiLCJzZXQiLCJnZXQiLCJkZWR1cGVSZXBvcnQiLCJkZWR1cGVTZWVuIiwiU3RyaW5nIiwicmVqZWN0ZWRDYW5kaWRhdGVzIiwicGxhY2Vob2xkZXJzVXNlZCIsImZhbGxiYWNrU3RyYXRlZ2llcyIsIndlYlN0YXRzIiwiZ2V0RGVkdXBlQ29tcG9uZW50cyIsImZpbmREZWR1cGVDb25mbGljdCIsImNvbXBvbmVudHMiLCJtYXJrS2VwdENhbmRpZGF0ZSIsIm1hcmtSZW1vdmVkRHVwbGljYXRlIiwic2VhcmNoUmVzdWx0cyIsInNlZWRzIiwic2VlZFNlZW4iLCJjYW5vbmljYWwiLCJzZWVkS2V5IiwiZmFsbGJhY2tRdWVyaWVzIiwiZmFsbGJhY2tQbGFuIiwiZmFsbGJhY2tSZXN1bHRzIiwiZ29vZCIsImxvd1F1YWxpdHkiLCJkZWR1cGVDb21wb25lbnRzIiwiZGVkdXBlQ29uZmxpY3QiLCJwb29sIiwiX3BhaW4iLCJjbGllbnRTdGF0cyIsImdldFN0YXRzIiwiYWxsb3dQbGFjZWhvbGRlcnMiLCJtaXNzaW5nIiwicGxhY2Vob2xkZXJJbnB1dCIsInBsYWNlaG9sZGVyUmF3IiwicGxhY2Vob2xkZXJzIiwic2VhcmNoUXVlcmllc1VzZWRCeVNlZ21lbnQiLCJub3JtYWxpemVkQ2FuZGlkYXRlcyIsImxlZ2FjeU91dHB1dCIsInRvSVNPU3RyaW5nIiwiZW52ZWxvcGUiLCJhZ2VudElkIiwiaW5wdXRFY2hvIiwicHJldkRhdGEiLCJuZXdLZXlzIiwiZGlmZiIsImFkZGVkIiwicmVtb3ZlZCIsImhhbmRvZmYiLCJlbnRpdGllcyIsIm91dHB1dCIsImVmZmVjdGl2ZUlucHV0IiwiZ2VuZXJhdGVQbGF0b25PdXRwdXQiLCJyYXdJbnB1dCIsImlzU3RyaW5nQXJyYXkiLCJldmVyeSIsInZhbGlkYXRlUGxhdG9uT3V0cHV0IiwicGF5bG9hZCIsImVycm9ycyIsImxlZ2FjeSIsInZhbGlkIiwiYWxsb3dFbXB0eVNlZ21lbnRzIiwiYWxsb3dFbXB0eUNhbmRpZGF0ZXMiLCJzZWdtZW50TmFtZXMiLCJjYW5kaWRhdGVOYW1lcyIsImhhc05hbWUiLCJoYXNQbGFjZWhvbGRlciIsInByb29mIiwicHJvb2ZJbmRleCIsInJlZiIsInJlZkluZGV4Iiwic291cmNlcyIsImJsb2NrZWQiLCJyZXBvcnQiLCJyZXF1aXJlZE51bWJlckZpZWxkcyIsImZpZWxkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/platon.js\n");

/***/ }),

/***/ "(rsc)/./lib/agents/webClient.js":
/*!*********************************!*\
  !*** ./lib/agents/webClient.js ***!
  \*********************************/
/***/ ((module) => {

eval("\nconst sleep = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst USER_AGENTS = [\n    \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36\",\n    \"Mozilla/5.0 (Macintosh; Intel Mac OS X 13_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36\",\n    \"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n    \"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:122.0) Gecko/20100101 Firefox/122.0\",\n    \"Mozilla/5.0 (Macintosh; Intel Mac OS X 14_1; rv:121.0) Gecko/20100101 Firefox/121.0\",\n    \"Mozilla/5.0 (iPhone; CPU iPhone OS 17_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Mobile/15E148 Safari/604.1\"\n];\nconst DEFAULT_HEADERS = {\n    Accept: \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\",\n    \"Accept-Language\": \"ru-RU,ru;q=0.9,en;q=0.8\",\n    \"Cache-Control\": \"no-cache\",\n    Pragma: \"no-cache\"\n};\nconst stripHtml = (html)=>{\n    return html.replace(/<script[\\s\\S]*?<\\/script>/gi, \" \").replace(/<style[\\s\\S]*?<\\/style>/gi, \" \").replace(/<noscript[\\s\\S]*?<\\/noscript>/gi, \" \").replace(/<[^>]+>/g, \" \").replace(/&nbsp;/gi, \" \").replace(/&amp;/gi, \"&\").replace(/\\s+/g, \" \").trim();\n};\nconst extractTitle = (html)=>{\n    const match = html.match(/<title[^>]*>([^<]+)<\\/title>/i);\n    return match ? match[1].trim() : \"\";\n};\nconst extractLinks = (html)=>{\n    const links = [];\n    const regex = /href\\s*=\\s*[\"']([^\"']+)[\"']/gi;\n    let match = null;\n    while(match = regex.exec(html)){\n        const href = match[1];\n        if (href.startsWith(\"http\")) {\n            links.push(href);\n        }\n    }\n    return links;\n};\nconst decodeYandexRedirect = (url)=>{\n    try {\n        const parsed = new URL(url);\n        const target = parsed.searchParams.get(\"url\");\n        return target ? decodeURIComponent(target) : url;\n    } catch  {\n        return url;\n    }\n};\nconst extractRobotsRules = (content)=>{\n    const lines = content.split(\"\\n\").map((line)=>line.trim());\n    let apply = false;\n    const disallow = [];\n    for (const line of lines){\n        if (!line || line.startsWith(\"#\")) continue;\n        const [rawKey, rawValue] = line.split(\":\");\n        if (!rawKey || rawValue === undefined) continue;\n        const key = rawKey.trim().toLowerCase();\n        const value = rawValue.trim();\n        if (key === \"user-agent\") {\n            apply = value === \"*\";\n        } else if (apply && key === \"disallow\") {\n            disallow.push(value);\n        }\n    }\n    return disallow;\n};\nconst canonicalizeUrl = (url)=>{\n    try {\n        const parsed = new URL(url);\n        parsed.protocol = \"https:\";\n        const paramsToRemove = [];\n        parsed.searchParams.forEach((_, key)=>{\n            const lower = key.toLowerCase();\n            if (lower.startsWith(\"utm_\") || [\n                \"gclid\",\n                \"yclid\",\n                \"fbclid\",\n                \"ref\",\n                \"from\"\n            ].includes(lower)) {\n                paramsToRemove.push(key);\n            }\n        });\n        paramsToRemove.forEach((key)=>parsed.searchParams.delete(key));\n        let hostname = parsed.hostname.toLowerCase().replace(/^www\\./, \"\");\n        parsed.hostname = hostname;\n        if (hostname === \"t.me\" || hostname === \"telegram.me\") {\n            let path = parsed.pathname.replace(/\\/+$/, \"\");\n            if (path.startsWith(\"/s/\")) path = path.slice(2);\n            parsed.pathname = path || \"/\";\n            parsed.search = \"\";\n            return `https://t.me${parsed.pathname}`;\n        }\n        if (hostname === \"vk.com\") {\n            const parts = parsed.pathname.split(\"/\").filter(Boolean);\n            parsed.pathname = parts.length ? `/${parts[0]}` : \"/\";\n            parsed.search = \"\";\n            return parsed.toString().replace(/\\/$/, \"\");\n        }\n        parsed.pathname = parsed.pathname.replace(/\\/+$/, \"\") || \"/\";\n        parsed.hash = \"\";\n        return parsed.toString();\n    } catch  {\n        return url;\n    }\n};\nconst getDomain = (url)=>{\n    try {\n        return new URL(url).hostname.replace(/^www\\\\./, \"\").toLowerCase();\n    } catch  {\n        return \"\";\n    }\n};\nclass WebClient {\n    constructor(options){\n        this.maxRequests = options.maxRequests;\n        this.minDelayMs = options.minDelayMs ?? 600;\n        this.userAgents = options.userAgents ?? USER_AGENTS;\n        this.timeoutMs = options.timeoutMs ?? 15000;\n        this.searchTimeoutMs = options.searchTimeoutMs ?? 12000;\n        this.lastRequestAt = 0;\n        this.startTime = Date.now();\n        this.stats = {\n            requests_made: 0,\n            blocked_count: 0,\n            errors_count: 0,\n            duration_ms: 0,\n            top_errors: [],\n            warnings: []\n        };\n        this.robotsCache = new Map();\n        this.domainFailures = new Map();\n        this.domainCooldown = new Map();\n        this.consecutiveRateLimit = 0;\n        this.lowTrafficMode = false;\n        this.trace = [];\n        this.errorCounts = new Map();\n    }\n    getStats() {\n        return {\n            ...this.stats,\n            duration_ms: Date.now() - this.startTime\n        };\n    }\n    getTrace() {\n        return [\n            ...this.trace\n        ];\n    }\n    recordWarning(message) {\n        if (!this.stats.warnings.includes(message)) {\n            this.stats.warnings.push(message);\n        }\n    }\n    recordError(domain, code) {\n        if (!domain) return;\n        const key = `${domain}:${code || \"ERR\"}`;\n        const next = (this.errorCounts.get(key) ?? 0) + 1;\n        this.errorCounts.set(key, next);\n        const entries = Array.from(this.errorCounts.entries()).map(([entryKey, count])=>{\n            const [entryDomain, entryCode] = entryKey.split(\":\");\n            return {\n                domain: entryDomain,\n                code: entryCode,\n                count\n            };\n        }).sort((a, b)=>b.count - a.count).slice(0, 5);\n        this.stats.top_errors = entries;\n    }\n    async throttle() {\n        const delay = this.lowTrafficMode ? Math.max(this.minDelayMs, 2000) : this.minDelayMs;\n        const diff = Date.now() - this.lastRequestAt;\n        if (diff < delay) {\n            await sleep(delay - diff);\n        }\n        this.lastRequestAt = Date.now();\n    }\n    async fetchWithLimit(url, options = {}) {\n        if (this.stats.requests_made >= this.maxRequests) {\n            throw new Error(\"WEB_REQUEST_LIMIT\");\n        }\n        await this.throttle();\n        this.stats.requests_made += 1;\n        const userAgent = this.userAgents[Math.floor(Math.random() * this.userAgents.length)];\n        const headers = {\n            ...DEFAULT_HEADERS,\n            ...options.headers || {},\n            \"User-Agent\": userAgent\n        };\n        const domain = getDomain(url);\n        let attempt = 0;\n        let lastError = null;\n        while(attempt < 3){\n            const controller = new AbortController();\n            const timeoutMs = options.timeoutMs ?? this.timeoutMs;\n            const timeout = setTimeout(()=>controller.abort(), timeoutMs);\n            try {\n                const response = await fetch(url, {\n                    cache: \"no-store\",\n                    headers,\n                    signal: controller.signal\n                });\n                const text = await response.text();\n                clearTimeout(timeout);\n                if ([\n                    429,\n                    503,\n                    520,\n                    522\n                ].includes(response.status)) {\n                    this.consecutiveRateLimit += 1;\n                    this.recordError(domain, response.status);\n                    if (this.consecutiveRateLimit >= 2 && !this.lowTrafficMode) {\n                        this.lowTrafficMode = true;\n                        this.recordWarning(\"rate-limited, switched to low-traffic mode\");\n                        this.maxRequests = Math.max(10, Math.floor(this.maxRequests * 0.8));\n                    }\n                    const delay = Math.min(8000, 400 * 2 ** attempt);\n                    const jitter = delay * (0.5 + Math.random());\n                    await sleep(jitter);\n                    attempt += 1;\n                    continue;\n                }\n                this.consecutiveRateLimit = 0;\n                return {\n                    ok: response.ok,\n                    status: response.status,\n                    text\n                };\n            } catch (error) {\n                clearTimeout(timeout);\n                lastError = error;\n                this.stats.errors_count += 1;\n                this.recordError(domain, \"FETCH\");\n                const delay = Math.min(8000, 400 * 2 ** attempt);\n                const jitter = delay * (0.5 + Math.random());\n                await sleep(jitter);\n                attempt += 1;\n            }\n        }\n        if (lastError) throw lastError;\n        throw new Error(\"FETCH_FAILED\");\n    }\n    async canFetch(url) {\n        try {\n            const parsed = new URL(url);\n            const domain = parsed.origin;\n            if (!this.robotsCache.has(domain)) {\n                try {\n                    const robotsUrl = `${domain}/robots.txt`;\n                    const response = await this.fetchWithLimit(robotsUrl);\n                    if (!response.ok) {\n                        this.robotsCache.set(domain, []);\n                    } else {\n                        const disallow = extractRobotsRules(response.text);\n                        this.robotsCache.set(domain, disallow);\n                    }\n                } catch  {\n                    this.robotsCache.set(domain, []);\n                }\n            }\n            const rules = this.robotsCache.get(domain) ?? [];\n            const path = parsed.pathname;\n            if (rules.includes(\"/\")) {\n                return false;\n            }\n            return !rules.some((rule)=>rule && path.startsWith(rule));\n        } catch  {\n            return false;\n        }\n    }\n    async fetchPage(url, options = {}) {\n        const canonicalUrl = canonicalizeUrl(url);\n        const domain = getDomain(canonicalUrl);\n        const cooldownUntil = this.domainCooldown.get(domain);\n        if (cooldownUntil && cooldownUntil > Date.now()) {\n            this.stats.blocked_count += 1;\n            this.stats.errors_count += 1;\n            this.recordError(domain, \"COOLDOWN\");\n            return {\n                blocked: true,\n                url: canonicalUrl\n            };\n        }\n        const allowed = await this.canFetch(canonicalUrl);\n        if (!allowed) {\n            this.stats.blocked_count += 1;\n            this.stats.errors_count += 1;\n            this.recordError(domain, \"ROBOTS\");\n            return {\n                blocked: true,\n                url: canonicalUrl\n            };\n        }\n        this.trace.push({\n            domain,\n            type: options.type || \"page\"\n        });\n        let response;\n        try {\n            response = await this.fetchWithLimit(canonicalUrl, {\n                timeoutMs: options.timeoutMs\n            });\n        } catch (error) {\n            const failures = (this.domainFailures.get(domain) ?? 0) + 1;\n            this.domainFailures.set(domain, failures);\n            if (failures >= 5) {\n                this.domainCooldown.set(domain, Date.now() + 10 * 60 * 1000);\n                this.recordWarning(`circuit-breaker:${domain}`);\n            }\n            this.stats.errors_count += 1;\n            this.recordError(domain, \"FETCH\");\n            return {\n                blocked: true,\n                url: canonicalUrl\n            };\n        }\n        if (!response.ok) {\n            this.stats.errors_count += 1;\n            this.recordError(domain, response.status);\n            const failures = (this.domainFailures.get(domain) ?? 0) + 1;\n            this.domainFailures.set(domain, failures);\n            if (failures >= 5) {\n                this.domainCooldown.set(domain, Date.now() + 10 * 60 * 1000);\n                this.recordWarning(`circuit-breaker:${domain}`);\n            }\n            return {\n                blocked: true,\n                url: canonicalUrl\n            };\n        }\n        this.domainFailures.set(domain, 0);\n        const html = response.text;\n        const title = extractTitle(html);\n        const text = stripHtml(html);\n        return {\n            url: canonicalUrl,\n            title,\n            html,\n            text\n        };\n    }\n    async search(query, engine = \"yandex\", limit = 5) {\n        const searchUrl = engine === \"yandex\" ? `https://yandex.ru/search/?text=${encodeURIComponent(query)}` : `https://duckduckgo.com/html/?q=${encodeURIComponent(query)}`;\n        const page = await this.fetchPage(searchUrl, {\n            timeoutMs: this.searchTimeoutMs,\n            type: \"search\"\n        });\n        if (\"blocked\" in page) {\n            return [];\n        }\n        const links = extractLinks(page.html).map((link)=>link.includes(\"yandex\") ? decodeYandexRedirect(link) : link).filter((link)=>link.startsWith(\"http\"));\n        const results = [];\n        const seen = new Set();\n        for (const link of links){\n            if (results.length >= limit) break;\n            try {\n                const url = new URL(link);\n                if (url.hostname.includes(\"yandex\") || url.hostname.includes(\"duckduckgo\")) {\n                    continue;\n                }\n            } catch  {\n                continue;\n            }\n            if (seen.has(link)) continue;\n            seen.add(link);\n            results.push({\n                url: canonicalizeUrl(link),\n                title: page.title,\n                snippet: query,\n                query,\n                engine,\n                source_url: searchUrl\n            });\n        }\n        return results;\n    }\n}\nmodule.exports = {\n    WebClient,\n    canonicalizeUrl\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWdlbnRzL3dlYkNsaWVudC5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsTUFBTUEsUUFBUSxDQUFDQyxLQUFPLElBQUlDLFFBQVEsQ0FBQ0MsVUFBWUMsV0FBV0QsU0FBU0Y7QUFFbkUsTUFBTUksY0FBYztJQUNsQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUVELE1BQU1DLGtCQUFrQjtJQUN0QkMsUUFBUTtJQUNSLG1CQUFtQjtJQUNuQixpQkFBaUI7SUFDakJDLFFBQVE7QUFDVjtBQUVBLE1BQU1DLFlBQVksQ0FBQ0M7SUFDakIsT0FBT0EsS0FDSkMsT0FBTyxDQUFDLCtCQUErQixLQUN2Q0EsT0FBTyxDQUFDLDZCQUE2QixLQUNyQ0EsT0FBTyxDQUFDLG1DQUFtQyxLQUMzQ0EsT0FBTyxDQUFDLFlBQVksS0FDcEJBLE9BQU8sQ0FBQyxZQUFZLEtBQ3BCQSxPQUFPLENBQUMsV0FBVyxLQUNuQkEsT0FBTyxDQUFDLFFBQVEsS0FDaEJDLElBQUk7QUFDVDtBQUVBLE1BQU1DLGVBQWUsQ0FBQ0g7SUFDcEIsTUFBTUksUUFBUUosS0FBS0ksS0FBSyxDQUFDO0lBQ3pCLE9BQU9BLFFBQVFBLEtBQUssQ0FBQyxFQUFFLENBQUNGLElBQUksS0FBSztBQUNuQztBQUVBLE1BQU1HLGVBQWUsQ0FBQ0w7SUFDcEIsTUFBTU0sUUFBUSxFQUFFO0lBQ2hCLE1BQU1DLFFBQVE7SUFDZCxJQUFJSCxRQUFRO0lBQ1osTUFBUUEsUUFBUUcsTUFBTUMsSUFBSSxDQUFDUixNQUFRO1FBQ2pDLE1BQU1TLE9BQU9MLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLElBQUlLLEtBQUtDLFVBQVUsQ0FBQyxTQUFTO1lBQzNCSixNQUFNSyxJQUFJLENBQUNGO1FBQ2I7SUFDRjtJQUNBLE9BQU9IO0FBQ1Q7QUFFQSxNQUFNTSx1QkFBdUIsQ0FBQ0M7SUFDNUIsSUFBSTtRQUNGLE1BQU1DLFNBQVMsSUFBSUMsSUFBSUY7UUFDdkIsTUFBTUcsU0FBU0YsT0FBT0csWUFBWSxDQUFDQyxHQUFHLENBQUM7UUFDdkMsT0FBT0YsU0FBU0csbUJBQW1CSCxVQUFVSDtJQUMvQyxFQUFFLE9BQU07UUFDTixPQUFPQTtJQUNUO0FBQ0Y7QUFFQSxNQUFNTyxxQkFBcUIsQ0FBQ0M7SUFDMUIsTUFBTUMsUUFBUUQsUUFBUUUsS0FBSyxDQUFDLE1BQU1DLEdBQUcsQ0FBQyxDQUFDQyxPQUFTQSxLQUFLdkIsSUFBSTtJQUN6RCxJQUFJd0IsUUFBUTtJQUNaLE1BQU1DLFdBQVcsRUFBRTtJQUNuQixLQUFLLE1BQU1GLFFBQVFILE1BQU87UUFDeEIsSUFBSSxDQUFDRyxRQUFRQSxLQUFLZixVQUFVLENBQUMsTUFBTTtRQUNuQyxNQUFNLENBQUNrQixRQUFRQyxTQUFTLEdBQUdKLEtBQUtGLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUNLLFVBQVVDLGFBQWFDLFdBQVc7UUFDdkMsTUFBTUMsTUFBTUgsT0FBTzFCLElBQUksR0FBRzhCLFdBQVc7UUFDckMsTUFBTUMsUUFBUUosU0FBUzNCLElBQUk7UUFDM0IsSUFBSTZCLFFBQVEsY0FBYztZQUN4QkwsUUFBUU8sVUFBVTtRQUNwQixPQUFPLElBQUlQLFNBQVNLLFFBQVEsWUFBWTtZQUN0Q0osU0FBU2hCLElBQUksQ0FBQ3NCO1FBQ2hCO0lBQ0Y7SUFDQSxPQUFPTjtBQUNUO0FBRUEsTUFBTU8sa0JBQWtCLENBQUNyQjtJQUN2QixJQUFJO1FBQ0YsTUFBTUMsU0FBUyxJQUFJQyxJQUFJRjtRQUN2QkMsT0FBT3FCLFFBQVEsR0FBRztRQUNsQixNQUFNQyxpQkFBaUIsRUFBRTtRQUN6QnRCLE9BQU9HLFlBQVksQ0FBQ29CLE9BQU8sQ0FBQyxDQUFDQyxHQUFHUDtZQUM5QixNQUFNUSxRQUFRUixJQUFJQyxXQUFXO1lBQzdCLElBQ0VPLE1BQU03QixVQUFVLENBQUMsV0FDakI7Z0JBQUM7Z0JBQVM7Z0JBQVM7Z0JBQVU7Z0JBQU87YUFBTyxDQUFDOEIsUUFBUSxDQUFDRCxRQUNyRDtnQkFDQUgsZUFBZXpCLElBQUksQ0FBQ29CO1lBQ3RCO1FBQ0Y7UUFDQUssZUFBZUMsT0FBTyxDQUFDLENBQUNOLE1BQVFqQixPQUFPRyxZQUFZLENBQUN3QixNQUFNLENBQUNWO1FBRTNELElBQUlXLFdBQVc1QixPQUFPNEIsUUFBUSxDQUFDVixXQUFXLEdBQUcvQixPQUFPLENBQUMsVUFBVTtRQUMvRGEsT0FBTzRCLFFBQVEsR0FBR0E7UUFFbEIsSUFBSUEsYUFBYSxVQUFVQSxhQUFhLGVBQWU7WUFDckQsSUFBSUMsT0FBTzdCLE9BQU84QixRQUFRLENBQUMzQyxPQUFPLENBQUMsUUFBUTtZQUMzQyxJQUFJMEMsS0FBS2pDLFVBQVUsQ0FBQyxRQUFRaUMsT0FBT0EsS0FBS0UsS0FBSyxDQUFDO1lBQzlDL0IsT0FBTzhCLFFBQVEsR0FBR0QsUUFBUTtZQUMxQjdCLE9BQU9nQyxNQUFNLEdBQUc7WUFDaEIsT0FBTyxDQUFDLFlBQVksRUFBRWhDLE9BQU84QixRQUFRLEVBQUU7UUFDekM7UUFFQSxJQUFJRixhQUFhLFVBQVU7WUFDekIsTUFBTUssUUFBUWpDLE9BQU84QixRQUFRLENBQUNyQixLQUFLLENBQUMsS0FBS3lCLE1BQU0sQ0FBQ0M7WUFDaERuQyxPQUFPOEIsUUFBUSxHQUFHRyxNQUFNRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUVILEtBQUssQ0FBQyxFQUFFLEVBQUUsR0FBRztZQUNsRGpDLE9BQU9nQyxNQUFNLEdBQUc7WUFDaEIsT0FBT2hDLE9BQU9xQyxRQUFRLEdBQUdsRCxPQUFPLENBQUMsT0FBTztRQUMxQztRQUVBYSxPQUFPOEIsUUFBUSxHQUFHOUIsT0FBTzhCLFFBQVEsQ0FBQzNDLE9BQU8sQ0FBQyxRQUFRLE9BQU87UUFDekRhLE9BQU9zQyxJQUFJLEdBQUc7UUFDZCxPQUFPdEMsT0FBT3FDLFFBQVE7SUFDeEIsRUFBRSxPQUFNO1FBQ04sT0FBT3RDO0lBQ1Q7QUFDRjtBQUVBLE1BQU13QyxZQUFZLENBQUN4QztJQUNqQixJQUFJO1FBQ0YsT0FBTyxJQUFJRSxJQUFJRixLQUFLNkIsUUFBUSxDQUFDekMsT0FBTyxDQUFDLFdBQVcsSUFBSStCLFdBQVc7SUFDakUsRUFBRSxPQUFNO1FBQ04sT0FBTztJQUNUO0FBQ0Y7QUFFQSxNQUFNc0I7SUFDSixZQUFZQyxPQUFPLENBQUU7UUFDbkIsSUFBSSxDQUFDQyxXQUFXLEdBQUdELFFBQVFDLFdBQVc7UUFDdEMsSUFBSSxDQUFDQyxVQUFVLEdBQUdGLFFBQVFFLFVBQVUsSUFBSTtRQUN4QyxJQUFJLENBQUNDLFVBQVUsR0FBR0gsUUFBUUcsVUFBVSxJQUFJL0Q7UUFDeEMsSUFBSSxDQUFDZ0UsU0FBUyxHQUFHSixRQUFRSSxTQUFTLElBQUk7UUFDdEMsSUFBSSxDQUFDQyxlQUFlLEdBQUdMLFFBQVFLLGVBQWUsSUFBSTtRQUNsRCxJQUFJLENBQUNDLGFBQWEsR0FBRztRQUNyQixJQUFJLENBQUNDLFNBQVMsR0FBR0MsS0FBS0MsR0FBRztRQUN6QixJQUFJLENBQUNDLEtBQUssR0FBRztZQUNYQyxlQUFlO1lBQ2ZDLGVBQWU7WUFDZkMsY0FBYztZQUNkQyxhQUFhO1lBQ2JDLFlBQVksRUFBRTtZQUNkQyxVQUFVLEVBQUU7UUFDZDtRQUNBLElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlDO1FBQ3ZCLElBQUksQ0FBQ0MsY0FBYyxHQUFHLElBQUlEO1FBQzFCLElBQUksQ0FBQ0UsY0FBYyxHQUFHLElBQUlGO1FBQzFCLElBQUksQ0FBQ0csb0JBQW9CLEdBQUc7UUFDNUIsSUFBSSxDQUFDQyxjQUFjLEdBQUc7UUFDdEIsSUFBSSxDQUFDQyxLQUFLLEdBQUcsRUFBRTtRQUNmLElBQUksQ0FBQ0MsV0FBVyxHQUFHLElBQUlOO0lBQ3pCO0lBRUFPLFdBQVc7UUFDVCxPQUFPO1lBQUUsR0FBRyxJQUFJLENBQUNmLEtBQUs7WUFBRUksYUFBYU4sS0FBS0MsR0FBRyxLQUFLLElBQUksQ0FBQ0YsU0FBUztRQUFDO0lBQ25FO0lBRUFtQixXQUFXO1FBQ1QsT0FBTztlQUFJLElBQUksQ0FBQ0gsS0FBSztTQUFDO0lBQ3hCO0lBRUFJLGNBQWNDLE9BQU8sRUFBRTtRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDbEIsS0FBSyxDQUFDTSxRQUFRLENBQUMvQixRQUFRLENBQUMyQyxVQUFVO1lBQzFDLElBQUksQ0FBQ2xCLEtBQUssQ0FBQ00sUUFBUSxDQUFDNUQsSUFBSSxDQUFDd0U7UUFDM0I7SUFDRjtJQUVBQyxZQUFZQyxNQUFNLEVBQUVDLElBQUksRUFBRTtRQUN4QixJQUFJLENBQUNELFFBQVE7UUFDYixNQUFNdEQsTUFBTSxHQUFHc0QsT0FBTyxDQUFDLEVBQUVDLFFBQVEsT0FBTztRQUN4QyxNQUFNQyxPQUFPLENBQUMsSUFBSSxDQUFDUixXQUFXLENBQUM3RCxHQUFHLENBQUNhLFFBQVEsS0FBSztRQUNoRCxJQUFJLENBQUNnRCxXQUFXLENBQUNTLEdBQUcsQ0FBQ3pELEtBQUt3RDtRQUMxQixNQUFNRSxVQUFVQyxNQUFNQyxJQUFJLENBQUMsSUFBSSxDQUFDWixXQUFXLENBQUNVLE9BQU8sSUFDaERqRSxHQUFHLENBQUMsQ0FBQyxDQUFDb0UsVUFBVUMsTUFBTTtZQUNyQixNQUFNLENBQUNDLGFBQWFDLFVBQVUsR0FBR0gsU0FBU3JFLEtBQUssQ0FBQztZQUNoRCxPQUFPO2dCQUFFOEQsUUFBUVM7Z0JBQWFSLE1BQU1TO2dCQUFXRjtZQUFNO1FBQ3ZELEdBQ0NHLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxFQUFFTCxLQUFLLEdBQUdJLEVBQUVKLEtBQUssRUFDaENoRCxLQUFLLENBQUMsR0FBRztRQUNaLElBQUksQ0FBQ29CLEtBQUssQ0FBQ0ssVUFBVSxHQUFHbUI7SUFDMUI7SUFFQSxNQUFNVSxXQUFXO1FBQ2YsTUFBTUMsUUFBUSxJQUFJLENBQUN2QixjQUFjLEdBQUd3QixLQUFLQyxHQUFHLENBQUMsSUFBSSxDQUFDN0MsVUFBVSxFQUFFLFFBQVEsSUFBSSxDQUFDQSxVQUFVO1FBQ3JGLE1BQU04QyxPQUFPeEMsS0FBS0MsR0FBRyxLQUFLLElBQUksQ0FBQ0gsYUFBYTtRQUM1QyxJQUFJMEMsT0FBT0gsT0FBTztZQUNoQixNQUFNOUcsTUFBTThHLFFBQVFHO1FBQ3RCO1FBQ0EsSUFBSSxDQUFDMUMsYUFBYSxHQUFHRSxLQUFLQyxHQUFHO0lBQy9CO0lBRUEsTUFBTXdDLGVBQWUzRixHQUFHLEVBQUUwQyxVQUFVLENBQUMsQ0FBQyxFQUFFO1FBQ3RDLElBQUksSUFBSSxDQUFDVSxLQUFLLENBQUNDLGFBQWEsSUFBSSxJQUFJLENBQUNWLFdBQVcsRUFBRTtZQUNoRCxNQUFNLElBQUlpRCxNQUFNO1FBQ2xCO1FBQ0EsTUFBTSxJQUFJLENBQUNOLFFBQVE7UUFDbkIsSUFBSSxDQUFDbEMsS0FBSyxDQUFDQyxhQUFhLElBQUk7UUFDNUIsTUFBTXdDLFlBQ0osSUFBSSxDQUFDaEQsVUFBVSxDQUFDMkMsS0FBS00sS0FBSyxDQUFDTixLQUFLTyxNQUFNLEtBQUssSUFBSSxDQUFDbEQsVUFBVSxDQUFDUixNQUFNLEVBQUU7UUFDckUsTUFBTTJELFVBQVU7WUFDZCxHQUFHakgsZUFBZTtZQUNsQixHQUFJMkQsUUFBUXNELE9BQU8sSUFBSSxDQUFDLENBQUM7WUFDekIsY0FBY0g7UUFDaEI7UUFDQSxNQUFNckIsU0FBU2hDLFVBQVV4QztRQUV6QixJQUFJaUcsVUFBVTtRQUNkLElBQUlDLFlBQVk7UUFFaEIsTUFBT0QsVUFBVSxFQUFHO1lBQ2xCLE1BQU1FLGFBQWEsSUFBSUM7WUFDdkIsTUFBTXRELFlBQVlKLFFBQVFJLFNBQVMsSUFBSSxJQUFJLENBQUNBLFNBQVM7WUFDckQsTUFBTXVELFVBQVV4SCxXQUFXLElBQU1zSCxXQUFXRyxLQUFLLElBQUl4RDtZQUNyRCxJQUFJO2dCQUNGLE1BQU15RCxXQUFXLE1BQU1DLE1BQU14RyxLQUFLO29CQUNoQ3lHLE9BQU87b0JBQ1BUO29CQUNBVSxRQUFRUCxXQUFXTyxNQUFNO2dCQUMzQjtnQkFDQSxNQUFNQyxPQUFPLE1BQU1KLFNBQVNJLElBQUk7Z0JBQ2hDQyxhQUFhUDtnQkFFYixJQUFJO29CQUFDO29CQUFLO29CQUFLO29CQUFLO2lCQUFJLENBQUMxRSxRQUFRLENBQUM0RSxTQUFTTSxNQUFNLEdBQUc7b0JBQ2xELElBQUksQ0FBQzlDLG9CQUFvQixJQUFJO29CQUM3QixJQUFJLENBQUNRLFdBQVcsQ0FBQ0MsUUFBUStCLFNBQVNNLE1BQU07b0JBQ3hDLElBQUksSUFBSSxDQUFDOUMsb0JBQW9CLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQ0MsY0FBYyxFQUFFO3dCQUMxRCxJQUFJLENBQUNBLGNBQWMsR0FBRzt3QkFDdEIsSUFBSSxDQUFDSyxhQUFhLENBQUM7d0JBQ25CLElBQUksQ0FBQzFCLFdBQVcsR0FBRzZDLEtBQUtDLEdBQUcsQ0FBQyxJQUFJRCxLQUFLTSxLQUFLLENBQUMsSUFBSSxDQUFDbkQsV0FBVyxHQUFHO29CQUNoRTtvQkFDQSxNQUFNNEMsUUFBUUMsS0FBS3NCLEdBQUcsQ0FBQyxNQUFNLE1BQU0sS0FBS2I7b0JBQ3hDLE1BQU1jLFNBQVN4QixRQUFTLE9BQU1DLEtBQUtPLE1BQU0sRUFBQztvQkFDMUMsTUFBTXRILE1BQU1zSTtvQkFDWmQsV0FBVztvQkFDWDtnQkFDRjtnQkFFQSxJQUFJLENBQUNsQyxvQkFBb0IsR0FBRztnQkFDNUIsT0FBTztvQkFBRWlELElBQUlULFNBQVNTLEVBQUU7b0JBQUVILFFBQVFOLFNBQVNNLE1BQU07b0JBQUVGO2dCQUFLO1lBQzFELEVBQUUsT0FBT00sT0FBTztnQkFDZEwsYUFBYVA7Z0JBQ2JILFlBQVllO2dCQUNaLElBQUksQ0FBQzdELEtBQUssQ0FBQ0csWUFBWSxJQUFJO2dCQUMzQixJQUFJLENBQUNnQixXQUFXLENBQUNDLFFBQVE7Z0JBQ3pCLE1BQU1lLFFBQVFDLEtBQUtzQixHQUFHLENBQUMsTUFBTSxNQUFNLEtBQUtiO2dCQUN4QyxNQUFNYyxTQUFTeEIsUUFBUyxPQUFNQyxLQUFLTyxNQUFNLEVBQUM7Z0JBQzFDLE1BQU10SCxNQUFNc0k7Z0JBQ1pkLFdBQVc7WUFDYjtRQUNGO1FBRUEsSUFBSUMsV0FBVyxNQUFNQTtRQUNyQixNQUFNLElBQUlOLE1BQU07SUFDbEI7SUFFQSxNQUFNc0IsU0FBU2xILEdBQUcsRUFBRTtRQUNsQixJQUFJO1lBQ0YsTUFBTUMsU0FBUyxJQUFJQyxJQUFJRjtZQUN2QixNQUFNd0UsU0FBU3ZFLE9BQU9rSCxNQUFNO1lBQzVCLElBQUksQ0FBQyxJQUFJLENBQUN4RCxXQUFXLENBQUN5RCxHQUFHLENBQUM1QyxTQUFTO2dCQUNqQyxJQUFJO29CQUNGLE1BQU02QyxZQUFZLEdBQUc3QyxPQUFPLFdBQVcsQ0FBQztvQkFDeEMsTUFBTStCLFdBQVcsTUFBTSxJQUFJLENBQUNaLGNBQWMsQ0FBQzBCO29CQUMzQyxJQUFJLENBQUNkLFNBQVNTLEVBQUUsRUFBRTt3QkFDaEIsSUFBSSxDQUFDckQsV0FBVyxDQUFDZ0IsR0FBRyxDQUFDSCxRQUFRLEVBQUU7b0JBQ2pDLE9BQU87d0JBQ0wsTUFBTTFELFdBQVdQLG1CQUFtQmdHLFNBQVNJLElBQUk7d0JBQ2pELElBQUksQ0FBQ2hELFdBQVcsQ0FBQ2dCLEdBQUcsQ0FBQ0gsUUFBUTFEO29CQUMvQjtnQkFDRixFQUFFLE9BQU07b0JBQ04sSUFBSSxDQUFDNkMsV0FBVyxDQUFDZ0IsR0FBRyxDQUFDSCxRQUFRLEVBQUU7Z0JBQ2pDO1lBQ0Y7WUFFQSxNQUFNOEMsUUFBUSxJQUFJLENBQUMzRCxXQUFXLENBQUN0RCxHQUFHLENBQUNtRSxXQUFXLEVBQUU7WUFDaEQsTUFBTTFDLE9BQU83QixPQUFPOEIsUUFBUTtZQUM1QixJQUFJdUYsTUFBTTNGLFFBQVEsQ0FBQyxNQUFNO2dCQUN2QixPQUFPO1lBQ1Q7WUFDQSxPQUFPLENBQUMyRixNQUFNQyxJQUFJLENBQUMsQ0FBQ0MsT0FBU0EsUUFBUTFGLEtBQUtqQyxVQUFVLENBQUMySDtRQUN2RCxFQUFFLE9BQU07WUFDTixPQUFPO1FBQ1Q7SUFDRjtJQUVBLE1BQU1DLFVBQVV6SCxHQUFHLEVBQUUwQyxVQUFVLENBQUMsQ0FBQyxFQUFFO1FBQ2pDLE1BQU1nRixlQUFlckcsZ0JBQWdCckI7UUFDckMsTUFBTXdFLFNBQVNoQyxVQUFVa0Y7UUFDekIsTUFBTUMsZ0JBQWdCLElBQUksQ0FBQzdELGNBQWMsQ0FBQ3pELEdBQUcsQ0FBQ21FO1FBQzlDLElBQUltRCxpQkFBaUJBLGdCQUFnQnpFLEtBQUtDLEdBQUcsSUFBSTtZQUMvQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0UsYUFBYSxJQUFJO1lBQzVCLElBQUksQ0FBQ0YsS0FBSyxDQUFDRyxZQUFZLElBQUk7WUFDM0IsSUFBSSxDQUFDZ0IsV0FBVyxDQUFDQyxRQUFRO1lBQ3pCLE9BQU87Z0JBQUVvRCxTQUFTO2dCQUFNNUgsS0FBSzBIO1lBQWE7UUFDNUM7UUFFQSxNQUFNRyxVQUFVLE1BQU0sSUFBSSxDQUFDWCxRQUFRLENBQUNRO1FBQ3BDLElBQUksQ0FBQ0csU0FBUztZQUNaLElBQUksQ0FBQ3pFLEtBQUssQ0FBQ0UsYUFBYSxJQUFJO1lBQzVCLElBQUksQ0FBQ0YsS0FBSyxDQUFDRyxZQUFZLElBQUk7WUFDM0IsSUFBSSxDQUFDZ0IsV0FBVyxDQUFDQyxRQUFRO1lBQ3pCLE9BQU87Z0JBQUVvRCxTQUFTO2dCQUFNNUgsS0FBSzBIO1lBQWE7UUFDNUM7UUFDQSxJQUFJLENBQUN6RCxLQUFLLENBQUNuRSxJQUFJLENBQUM7WUFBRTBFO1lBQVFzRCxNQUFNcEYsUUFBUW9GLElBQUksSUFBSTtRQUFPO1FBQ3ZELElBQUl2QjtRQUNKLElBQUk7WUFDRkEsV0FBVyxNQUFNLElBQUksQ0FBQ1osY0FBYyxDQUFDK0IsY0FBYztnQkFDakQ1RSxXQUFXSixRQUFRSSxTQUFTO1lBQzlCO1FBQ0YsRUFBRSxPQUFPbUUsT0FBTztZQUNkLE1BQU1jLFdBQVcsQ0FBQyxJQUFJLENBQUNsRSxjQUFjLENBQUN4RCxHQUFHLENBQUNtRSxXQUFXLEtBQUs7WUFDMUQsSUFBSSxDQUFDWCxjQUFjLENBQUNjLEdBQUcsQ0FBQ0gsUUFBUXVEO1lBQ2hDLElBQUlBLFlBQVksR0FBRztnQkFDakIsSUFBSSxDQUFDakUsY0FBYyxDQUFDYSxHQUFHLENBQUNILFFBQVF0QixLQUFLQyxHQUFHLEtBQUssS0FBSyxLQUFLO2dCQUN2RCxJQUFJLENBQUNrQixhQUFhLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRUcsUUFBUTtZQUNoRDtZQUNBLElBQUksQ0FBQ3BCLEtBQUssQ0FBQ0csWUFBWSxJQUFJO1lBQzNCLElBQUksQ0FBQ2dCLFdBQVcsQ0FBQ0MsUUFBUTtZQUN6QixPQUFPO2dCQUFFb0QsU0FBUztnQkFBTTVILEtBQUswSDtZQUFhO1FBQzVDO1FBQ0EsSUFBSSxDQUFDbkIsU0FBU1MsRUFBRSxFQUFFO1lBQ2hCLElBQUksQ0FBQzVELEtBQUssQ0FBQ0csWUFBWSxJQUFJO1lBQzNCLElBQUksQ0FBQ2dCLFdBQVcsQ0FBQ0MsUUFBUStCLFNBQVNNLE1BQU07WUFDeEMsTUFBTWtCLFdBQVcsQ0FBQyxJQUFJLENBQUNsRSxjQUFjLENBQUN4RCxHQUFHLENBQUNtRSxXQUFXLEtBQUs7WUFDMUQsSUFBSSxDQUFDWCxjQUFjLENBQUNjLEdBQUcsQ0FBQ0gsUUFBUXVEO1lBQ2hDLElBQUlBLFlBQVksR0FBRztnQkFDakIsSUFBSSxDQUFDakUsY0FBYyxDQUFDYSxHQUFHLENBQUNILFFBQVF0QixLQUFLQyxHQUFHLEtBQUssS0FBSyxLQUFLO2dCQUN2RCxJQUFJLENBQUNrQixhQUFhLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRUcsUUFBUTtZQUNoRDtZQUNBLE9BQU87Z0JBQUVvRCxTQUFTO2dCQUFNNUgsS0FBSzBIO1lBQWE7UUFDNUM7UUFDQSxJQUFJLENBQUM3RCxjQUFjLENBQUNjLEdBQUcsQ0FBQ0gsUUFBUTtRQUNoQyxNQUFNckYsT0FBT29ILFNBQVNJLElBQUk7UUFDMUIsTUFBTXFCLFFBQVExSSxhQUFhSDtRQUMzQixNQUFNd0gsT0FBT3pILFVBQVVDO1FBQ3ZCLE9BQU87WUFBRWEsS0FBSzBIO1lBQWNNO1lBQU83STtZQUFNd0g7UUFBSztJQUNoRDtJQUVBLE1BQU0xRSxPQUFPZ0csS0FBSyxFQUFFQyxTQUFTLFFBQVEsRUFBRUMsUUFBUSxDQUFDLEVBQUU7UUFDaEQsTUFBTUMsWUFDSkYsV0FBVyxXQUNQLENBQUMsK0JBQStCLEVBQUVHLG1CQUFtQkosUUFBUSxHQUM3RCxDQUFDLCtCQUErQixFQUFFSSxtQkFBbUJKLFFBQVE7UUFFbkUsTUFBTUssT0FBTyxNQUFNLElBQUksQ0FBQ2IsU0FBUyxDQUFDVyxXQUFXO1lBQzNDdEYsV0FBVyxJQUFJLENBQUNDLGVBQWU7WUFDL0IrRSxNQUFNO1FBQ1I7UUFDQSxJQUFJLGFBQWFRLE1BQU07WUFDckIsT0FBTyxFQUFFO1FBQ1g7UUFFQSxNQUFNN0ksUUFBUUQsYUFBYThJLEtBQUtuSixJQUFJLEVBQ2pDd0IsR0FBRyxDQUFDLENBQUM0SCxPQUFVQSxLQUFLNUcsUUFBUSxDQUFDLFlBQVk1QixxQkFBcUJ3SSxRQUFRQSxNQUN0RXBHLE1BQU0sQ0FBQyxDQUFDb0csT0FBU0EsS0FBSzFJLFVBQVUsQ0FBQztRQUVwQyxNQUFNMkksVUFBVSxFQUFFO1FBQ2xCLE1BQU1DLE9BQU8sSUFBSUM7UUFFakIsS0FBSyxNQUFNSCxRQUFROUksTUFBTztZQUN4QixJQUFJK0ksUUFBUW5HLE1BQU0sSUFBSThGLE9BQU87WUFDN0IsSUFBSTtnQkFDRixNQUFNbkksTUFBTSxJQUFJRSxJQUFJcUk7Z0JBQ3BCLElBQUl2SSxJQUFJNkIsUUFBUSxDQUFDRixRQUFRLENBQUMsYUFBYTNCLElBQUk2QixRQUFRLENBQUNGLFFBQVEsQ0FBQyxlQUFlO29CQUMxRTtnQkFDRjtZQUNGLEVBQUUsT0FBTTtnQkFDTjtZQUNGO1lBQ0EsSUFBSThHLEtBQUtyQixHQUFHLENBQUNtQixPQUFPO1lBQ3BCRSxLQUFLRSxHQUFHLENBQUNKO1lBQ1RDLFFBQVExSSxJQUFJLENBQUM7Z0JBQ1hFLEtBQUtxQixnQkFBZ0JrSDtnQkFDckJQLE9BQU9NLEtBQUtOLEtBQUs7Z0JBQ2pCWSxTQUFTWDtnQkFDVEE7Z0JBQ0FDO2dCQUNBVyxZQUFZVDtZQUNkO1FBQ0Y7UUFFQSxPQUFPSTtJQUNUO0FBQ0Y7QUFFQU0sT0FBT0MsT0FBTyxHQUFHO0lBQ2Z0RztJQUNBcEI7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FidXphZGEvRGVza3RvcC9hZ2VudE9TL2xpYi9hZ2VudHMvd2ViQ2xpZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNsZWVwID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuXG5jb25zdCBVU0VSX0FHRU5UUyA9IFtcbiAgXCJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIyLjAuMC4wIFNhZmFyaS81MzcuMzZcIixcbiAgXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxM181KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIxLjAuMC4wIFNhZmFyaS81MzcuMzZcIixcbiAgXCJNb3ppbGxhLzUuMCAoWDExOyBMaW51eCB4ODZfNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNlwiLFxuICBcIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQ7IHJ2OjEyMi4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzEyMi4wXCIsXG4gIFwiTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTRfMTsgcnY6MTIxLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTIxLjBcIixcbiAgXCJNb3ppbGxhLzUuMCAoaVBob25lOyBDUFUgaVBob25lIE9TIDE3XzEgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNjA1LjEuMTUgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzE3LjEgTW9iaWxlLzE1RTE0OCBTYWZhcmkvNjA0LjFcIlxuXTtcblxuY29uc3QgREVGQVVMVF9IRUFERVJTID0ge1xuICBBY2NlcHQ6IFwidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksKi8qO3E9MC44XCIsXG4gIFwiQWNjZXB0LUxhbmd1YWdlXCI6IFwicnUtUlUscnU7cT0wLjksZW47cT0wLjhcIixcbiAgXCJDYWNoZS1Db250cm9sXCI6IFwibm8tY2FjaGVcIixcbiAgUHJhZ21hOiBcIm5vLWNhY2hlXCJcbn07XG5cbmNvbnN0IHN0cmlwSHRtbCA9IChodG1sKSA9PiB7XG4gIHJldHVybiBodG1sXG4gICAgLnJlcGxhY2UoLzxzY3JpcHRbXFxzXFxTXSo/PFxcL3NjcmlwdD4vZ2ksIFwiIFwiKVxuICAgIC5yZXBsYWNlKC88c3R5bGVbXFxzXFxTXSo/PFxcL3N0eWxlPi9naSwgXCIgXCIpXG4gICAgLnJlcGxhY2UoLzxub3NjcmlwdFtcXHNcXFNdKj88XFwvbm9zY3JpcHQ+L2dpLCBcIiBcIilcbiAgICAucmVwbGFjZSgvPFtePl0rPi9nLCBcIiBcIilcbiAgICAucmVwbGFjZSgvJm5ic3A7L2dpLCBcIiBcIilcbiAgICAucmVwbGFjZSgvJmFtcDsvZ2ksIFwiJlwiKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKVxuICAgIC50cmltKCk7XG59O1xuXG5jb25zdCBleHRyYWN0VGl0bGUgPSAoaHRtbCkgPT4ge1xuICBjb25zdCBtYXRjaCA9IGh0bWwubWF0Y2goLzx0aXRsZVtePl0qPihbXjxdKyk8XFwvdGl0bGU+L2kpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS50cmltKCkgOiBcIlwiO1xufTtcblxuY29uc3QgZXh0cmFjdExpbmtzID0gKGh0bWwpID0+IHtcbiAgY29uc3QgbGlua3MgPSBbXTtcbiAgY29uc3QgcmVnZXggPSAvaHJlZlxccyo9XFxzKltcIiddKFteXCInXSspW1wiJ10vZ2k7XG4gIGxldCBtYXRjaCA9IG51bGw7XG4gIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKGh0bWwpKSkge1xuICAgIGNvbnN0IGhyZWYgPSBtYXRjaFsxXTtcbiAgICBpZiAoaHJlZi5zdGFydHNXaXRoKFwiaHR0cFwiKSkge1xuICAgICAgbGlua3MucHVzaChocmVmKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpbmtzO1xufTtcblxuY29uc3QgZGVjb2RlWWFuZGV4UmVkaXJlY3QgPSAodXJsKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gbmV3IFVSTCh1cmwpO1xuICAgIGNvbnN0IHRhcmdldCA9IHBhcnNlZC5zZWFyY2hQYXJhbXMuZ2V0KFwidXJsXCIpO1xuICAgIHJldHVybiB0YXJnZXQgPyBkZWNvZGVVUklDb21wb25lbnQodGFyZ2V0KSA6IHVybDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxufTtcblxuY29uc3QgZXh0cmFjdFJvYm90c1J1bGVzID0gKGNvbnRlbnQpID0+IHtcbiAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpLm1hcCgobGluZSkgPT4gbGluZS50cmltKCkpO1xuICBsZXQgYXBwbHkgPSBmYWxzZTtcbiAgY29uc3QgZGlzYWxsb3cgPSBbXTtcbiAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgaWYgKCFsaW5lIHx8IGxpbmUuc3RhcnRzV2l0aChcIiNcIikpIGNvbnRpbnVlO1xuICAgIGNvbnN0IFtyYXdLZXksIHJhd1ZhbHVlXSA9IGxpbmUuc3BsaXQoXCI6XCIpO1xuICAgIGlmICghcmF3S2V5IHx8IHJhd1ZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgIGNvbnN0IGtleSA9IHJhd0tleS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCB2YWx1ZSA9IHJhd1ZhbHVlLnRyaW0oKTtcbiAgICBpZiAoa2V5ID09PSBcInVzZXItYWdlbnRcIikge1xuICAgICAgYXBwbHkgPSB2YWx1ZSA9PT0gXCIqXCI7XG4gICAgfSBlbHNlIGlmIChhcHBseSAmJiBrZXkgPT09IFwiZGlzYWxsb3dcIikge1xuICAgICAgZGlzYWxsb3cucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkaXNhbGxvdztcbn07XG5cbmNvbnN0IGNhbm9uaWNhbGl6ZVVybCA9ICh1cmwpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWQgPSBuZXcgVVJMKHVybCk7XG4gICAgcGFyc2VkLnByb3RvY29sID0gXCJodHRwczpcIjtcbiAgICBjb25zdCBwYXJhbXNUb1JlbW92ZSA9IFtdO1xuICAgIHBhcnNlZC5zZWFyY2hQYXJhbXMuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICBjb25zdCBsb3dlciA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKFxuICAgICAgICBsb3dlci5zdGFydHNXaXRoKFwidXRtX1wiKSB8fFxuICAgICAgICBbXCJnY2xpZFwiLCBcInljbGlkXCIsIFwiZmJjbGlkXCIsIFwicmVmXCIsIFwiZnJvbVwiXS5pbmNsdWRlcyhsb3dlcilcbiAgICAgICkge1xuICAgICAgICBwYXJhbXNUb1JlbW92ZS5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW1zVG9SZW1vdmUuZm9yRWFjaCgoa2V5KSA9PiBwYXJzZWQuc2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpKTtcblxuICAgIGxldCBob3N0bmFtZSA9IHBhcnNlZC5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL153d3dcXC4vLCBcIlwiKTtcbiAgICBwYXJzZWQuaG9zdG5hbWUgPSBob3N0bmFtZTtcblxuICAgIGlmIChob3N0bmFtZSA9PT0gXCJ0Lm1lXCIgfHwgaG9zdG5hbWUgPT09IFwidGVsZWdyYW0ubWVcIikge1xuICAgICAgbGV0IHBhdGggPSBwYXJzZWQucGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCBcIlwiKTtcbiAgICAgIGlmIChwYXRoLnN0YXJ0c1dpdGgoXCIvcy9cIikpIHBhdGggPSBwYXRoLnNsaWNlKDIpO1xuICAgICAgcGFyc2VkLnBhdGhuYW1lID0gcGF0aCB8fCBcIi9cIjtcbiAgICAgIHBhcnNlZC5zZWFyY2ggPSBcIlwiO1xuICAgICAgcmV0dXJuIGBodHRwczovL3QubWUke3BhcnNlZC5wYXRobmFtZX1gO1xuICAgIH1cblxuICAgIGlmIChob3N0bmFtZSA9PT0gXCJ2ay5jb21cIikge1xuICAgICAgY29uc3QgcGFydHMgPSBwYXJzZWQucGF0aG5hbWUuc3BsaXQoXCIvXCIpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIHBhcnNlZC5wYXRobmFtZSA9IHBhcnRzLmxlbmd0aCA/IGAvJHtwYXJ0c1swXX1gIDogXCIvXCI7XG4gICAgICBwYXJzZWQuc2VhcmNoID0gXCJcIjtcbiAgICAgIHJldHVybiBwYXJzZWQudG9TdHJpbmcoKS5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG4gICAgfVxuXG4gICAgcGFyc2VkLnBhdGhuYW1lID0gcGFyc2VkLnBhdGhuYW1lLnJlcGxhY2UoL1xcLyskLywgXCJcIikgfHwgXCIvXCI7XG4gICAgcGFyc2VkLmhhc2ggPSBcIlwiO1xuICAgIHJldHVybiBwYXJzZWQudG9TdHJpbmcoKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxufTtcblxuY29uc3QgZ2V0RG9tYWluID0gKHVybCkgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVVJMKHVybCkuaG9zdG5hbWUucmVwbGFjZSgvXnd3d1xcXFwuLywgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbn07XG5cbmNsYXNzIFdlYkNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm1heFJlcXVlc3RzID0gb3B0aW9ucy5tYXhSZXF1ZXN0cztcbiAgICB0aGlzLm1pbkRlbGF5TXMgPSBvcHRpb25zLm1pbkRlbGF5TXMgPz8gNjAwO1xuICAgIHRoaXMudXNlckFnZW50cyA9IG9wdGlvbnMudXNlckFnZW50cyA/PyBVU0VSX0FHRU5UUztcbiAgICB0aGlzLnRpbWVvdXRNcyA9IG9wdGlvbnMudGltZW91dE1zID8/IDE1MDAwO1xuICAgIHRoaXMuc2VhcmNoVGltZW91dE1zID0gb3B0aW9ucy5zZWFyY2hUaW1lb3V0TXMgPz8gMTIwMDA7XG4gICAgdGhpcy5sYXN0UmVxdWVzdEF0ID0gMDtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5zdGF0cyA9IHtcbiAgICAgIHJlcXVlc3RzX21hZGU6IDAsXG4gICAgICBibG9ja2VkX2NvdW50OiAwLFxuICAgICAgZXJyb3JzX2NvdW50OiAwLFxuICAgICAgZHVyYXRpb25fbXM6IDAsXG4gICAgICB0b3BfZXJyb3JzOiBbXSxcbiAgICAgIHdhcm5pbmdzOiBbXVxuICAgIH07XG4gICAgdGhpcy5yb2JvdHNDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmRvbWFpbkZhaWx1cmVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZG9tYWluQ29vbGRvd24gPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5jb25zZWN1dGl2ZVJhdGVMaW1pdCA9IDA7XG4gICAgdGhpcy5sb3dUcmFmZmljTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMudHJhY2UgPSBbXTtcbiAgICB0aGlzLmVycm9yQ291bnRzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgZ2V0U3RhdHMoKSB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5zdGF0cywgZHVyYXRpb25fbXM6IERhdGUubm93KCkgLSB0aGlzLnN0YXJ0VGltZSB9O1xuICB9XG5cbiAgZ2V0VHJhY2UoKSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLnRyYWNlXTtcbiAgfVxuXG4gIHJlY29yZFdhcm5pbmcobWVzc2FnZSkge1xuICAgIGlmICghdGhpcy5zdGF0cy53YXJuaW5ncy5pbmNsdWRlcyhtZXNzYWdlKSkge1xuICAgICAgdGhpcy5zdGF0cy53YXJuaW5ncy5wdXNoKG1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHJlY29yZEVycm9yKGRvbWFpbiwgY29kZSkge1xuICAgIGlmICghZG9tYWluKSByZXR1cm47XG4gICAgY29uc3Qga2V5ID0gYCR7ZG9tYWlufToke2NvZGUgfHwgXCJFUlJcIn1gO1xuICAgIGNvbnN0IG5leHQgPSAodGhpcy5lcnJvckNvdW50cy5nZXQoa2V5KSA/PyAwKSArIDE7XG4gICAgdGhpcy5lcnJvckNvdW50cy5zZXQoa2V5LCBuZXh0KTtcbiAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuZnJvbSh0aGlzLmVycm9yQ291bnRzLmVudHJpZXMoKSlcbiAgICAgIC5tYXAoKFtlbnRyeUtleSwgY291bnRdKSA9PiB7XG4gICAgICAgIGNvbnN0IFtlbnRyeURvbWFpbiwgZW50cnlDb2RlXSA9IGVudHJ5S2V5LnNwbGl0KFwiOlwiKTtcbiAgICAgICAgcmV0dXJuIHsgZG9tYWluOiBlbnRyeURvbWFpbiwgY29kZTogZW50cnlDb2RlLCBjb3VudCB9O1xuICAgICAgfSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudClcbiAgICAgIC5zbGljZSgwLCA1KTtcbiAgICB0aGlzLnN0YXRzLnRvcF9lcnJvcnMgPSBlbnRyaWVzO1xuICB9XG5cbiAgYXN5bmMgdGhyb3R0bGUoKSB7XG4gICAgY29uc3QgZGVsYXkgPSB0aGlzLmxvd1RyYWZmaWNNb2RlID8gTWF0aC5tYXgodGhpcy5taW5EZWxheU1zLCAyMDAwKSA6IHRoaXMubWluRGVsYXlNcztcbiAgICBjb25zdCBkaWZmID0gRGF0ZS5ub3coKSAtIHRoaXMubGFzdFJlcXVlc3RBdDtcbiAgICBpZiAoZGlmZiA8IGRlbGF5KSB7XG4gICAgICBhd2FpdCBzbGVlcChkZWxheSAtIGRpZmYpO1xuICAgIH1cbiAgICB0aGlzLmxhc3RSZXF1ZXN0QXQgPSBEYXRlLm5vdygpO1xuICB9XG5cbiAgYXN5bmMgZmV0Y2hXaXRoTGltaXQodXJsLCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAodGhpcy5zdGF0cy5yZXF1ZXN0c19tYWRlID49IHRoaXMubWF4UmVxdWVzdHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldFQl9SRVFVRVNUX0xJTUlUXCIpO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnRocm90dGxlKCk7XG4gICAgdGhpcy5zdGF0cy5yZXF1ZXN0c19tYWRlICs9IDE7XG4gICAgY29uc3QgdXNlckFnZW50ID1cbiAgICAgIHRoaXMudXNlckFnZW50c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnVzZXJBZ2VudHMubGVuZ3RoKV07XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgIC4uLkRFRkFVTFRfSEVBREVSUyxcbiAgICAgIC4uLihvcHRpb25zLmhlYWRlcnMgfHwge30pLFxuICAgICAgXCJVc2VyLUFnZW50XCI6IHVzZXJBZ2VudFxuICAgIH07XG4gICAgY29uc3QgZG9tYWluID0gZ2V0RG9tYWluKHVybCk7XG5cbiAgICBsZXQgYXR0ZW1wdCA9IDA7XG4gICAgbGV0IGxhc3RFcnJvciA9IG51bGw7XG5cbiAgICB3aGlsZSAoYXR0ZW1wdCA8IDMpIHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCB0aW1lb3V0TXMgPSBvcHRpb25zLnRpbWVvdXRNcyA/PyB0aGlzLnRpbWVvdXRNcztcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dE1zKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuICAgICAgICBpZiAoWzQyOSwgNTAzLCA1MjAsIDUyMl0uaW5jbHVkZXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgICAgICAgIHRoaXMuY29uc2VjdXRpdmVSYXRlTGltaXQgKz0gMTtcbiAgICAgICAgICB0aGlzLnJlY29yZEVycm9yKGRvbWFpbiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICBpZiAodGhpcy5jb25zZWN1dGl2ZVJhdGVMaW1pdCA+PSAyICYmICF0aGlzLmxvd1RyYWZmaWNNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmxvd1RyYWZmaWNNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkV2FybmluZyhcInJhdGUtbGltaXRlZCwgc3dpdGNoZWQgdG8gbG93LXRyYWZmaWMgbW9kZVwiKTtcbiAgICAgICAgICAgIHRoaXMubWF4UmVxdWVzdHMgPSBNYXRoLm1heCgxMCwgTWF0aC5mbG9vcih0aGlzLm1heFJlcXVlc3RzICogMC44KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGRlbGF5ID0gTWF0aC5taW4oODAwMCwgNDAwICogMiAqKiBhdHRlbXB0KTtcbiAgICAgICAgICBjb25zdCBqaXR0ZXIgPSBkZWxheSAqICgwLjUgKyBNYXRoLnJhbmRvbSgpKTtcbiAgICAgICAgICBhd2FpdCBzbGVlcChqaXR0ZXIpO1xuICAgICAgICAgIGF0dGVtcHQgKz0gMTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uc2VjdXRpdmVSYXRlTGltaXQgPSAwO1xuICAgICAgICByZXR1cm4geyBvazogcmVzcG9uc2Uub2ssIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLCB0ZXh0IH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIGxhc3RFcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLnN0YXRzLmVycm9yc19jb3VudCArPSAxO1xuICAgICAgICB0aGlzLnJlY29yZEVycm9yKGRvbWFpbiwgXCJGRVRDSFwiKTtcbiAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1pbig4MDAwLCA0MDAgKiAyICoqIGF0dGVtcHQpO1xuICAgICAgICBjb25zdCBqaXR0ZXIgPSBkZWxheSAqICgwLjUgKyBNYXRoLnJhbmRvbSgpKTtcbiAgICAgICAgYXdhaXQgc2xlZXAoaml0dGVyKTtcbiAgICAgICAgYXR0ZW1wdCArPSAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsYXN0RXJyb3IpIHRocm93IGxhc3RFcnJvcjtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGRVRDSF9GQUlMRURcIik7XG4gIH1cblxuICBhc3luYyBjYW5GZXRjaCh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkID0gbmV3IFVSTCh1cmwpO1xuICAgICAgY29uc3QgZG9tYWluID0gcGFyc2VkLm9yaWdpbjtcbiAgICAgIGlmICghdGhpcy5yb2JvdHNDYWNoZS5oYXMoZG9tYWluKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJvYm90c1VybCA9IGAke2RvbWFpbn0vcm9ib3RzLnR4dGA7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aExpbWl0KHJvYm90c1VybCk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhpcy5yb2JvdHNDYWNoZS5zZXQoZG9tYWluLCBbXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2FsbG93ID0gZXh0cmFjdFJvYm90c1J1bGVzKHJlc3BvbnNlLnRleHQpO1xuICAgICAgICAgICAgdGhpcy5yb2JvdHNDYWNoZS5zZXQoZG9tYWluLCBkaXNhbGxvdyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICB0aGlzLnJvYm90c0NhY2hlLnNldChkb21haW4sIFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBydWxlcyA9IHRoaXMucm9ib3RzQ2FjaGUuZ2V0KGRvbWFpbikgPz8gW107XG4gICAgICBjb25zdCBwYXRoID0gcGFyc2VkLnBhdGhuYW1lO1xuICAgICAgaWYgKHJ1bGVzLmluY2x1ZGVzKFwiL1wiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gIXJ1bGVzLnNvbWUoKHJ1bGUpID0+IHJ1bGUgJiYgcGF0aC5zdGFydHNXaXRoKHJ1bGUpKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBmZXRjaFBhZ2UodXJsLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBjYW5vbmljYWxVcmwgPSBjYW5vbmljYWxpemVVcmwodXJsKTtcbiAgICBjb25zdCBkb21haW4gPSBnZXREb21haW4oY2Fub25pY2FsVXJsKTtcbiAgICBjb25zdCBjb29sZG93blVudGlsID0gdGhpcy5kb21haW5Db29sZG93bi5nZXQoZG9tYWluKTtcbiAgICBpZiAoY29vbGRvd25VbnRpbCAmJiBjb29sZG93blVudGlsID4gRGF0ZS5ub3coKSkge1xuICAgICAgdGhpcy5zdGF0cy5ibG9ja2VkX2NvdW50ICs9IDE7XG4gICAgICB0aGlzLnN0YXRzLmVycm9yc19jb3VudCArPSAxO1xuICAgICAgdGhpcy5yZWNvcmRFcnJvcihkb21haW4sIFwiQ09PTERPV05cIik7XG4gICAgICByZXR1cm4geyBibG9ja2VkOiB0cnVlLCB1cmw6IGNhbm9uaWNhbFVybCB9O1xuICAgIH1cblxuICAgIGNvbnN0IGFsbG93ZWQgPSBhd2FpdCB0aGlzLmNhbkZldGNoKGNhbm9uaWNhbFVybCk7XG4gICAgaWYgKCFhbGxvd2VkKSB7XG4gICAgICB0aGlzLnN0YXRzLmJsb2NrZWRfY291bnQgKz0gMTtcbiAgICAgIHRoaXMuc3RhdHMuZXJyb3JzX2NvdW50ICs9IDE7XG4gICAgICB0aGlzLnJlY29yZEVycm9yKGRvbWFpbiwgXCJST0JPVFNcIik7XG4gICAgICByZXR1cm4geyBibG9ja2VkOiB0cnVlLCB1cmw6IGNhbm9uaWNhbFVybCB9O1xuICAgIH1cbiAgICB0aGlzLnRyYWNlLnB1c2goeyBkb21haW4sIHR5cGU6IG9wdGlvbnMudHlwZSB8fCBcInBhZ2VcIiB9KTtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaFdpdGhMaW1pdChjYW5vbmljYWxVcmwsIHtcbiAgICAgICAgdGltZW91dE1zOiBvcHRpb25zLnRpbWVvdXRNc1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IGZhaWx1cmVzID0gKHRoaXMuZG9tYWluRmFpbHVyZXMuZ2V0KGRvbWFpbikgPz8gMCkgKyAxO1xuICAgICAgdGhpcy5kb21haW5GYWlsdXJlcy5zZXQoZG9tYWluLCBmYWlsdXJlcyk7XG4gICAgICBpZiAoZmFpbHVyZXMgPj0gNSkge1xuICAgICAgICB0aGlzLmRvbWFpbkNvb2xkb3duLnNldChkb21haW4sIERhdGUubm93KCkgKyAxMCAqIDYwICogMTAwMCk7XG4gICAgICAgIHRoaXMucmVjb3JkV2FybmluZyhgY2lyY3VpdC1icmVha2VyOiR7ZG9tYWlufWApO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0cy5lcnJvcnNfY291bnQgKz0gMTtcbiAgICAgIHRoaXMucmVjb3JkRXJyb3IoZG9tYWluLCBcIkZFVENIXCIpO1xuICAgICAgcmV0dXJuIHsgYmxvY2tlZDogdHJ1ZSwgdXJsOiBjYW5vbmljYWxVcmwgfTtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhpcy5zdGF0cy5lcnJvcnNfY291bnQgKz0gMTtcbiAgICAgIHRoaXMucmVjb3JkRXJyb3IoZG9tYWluLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgY29uc3QgZmFpbHVyZXMgPSAodGhpcy5kb21haW5GYWlsdXJlcy5nZXQoZG9tYWluKSA/PyAwKSArIDE7XG4gICAgICB0aGlzLmRvbWFpbkZhaWx1cmVzLnNldChkb21haW4sIGZhaWx1cmVzKTtcbiAgICAgIGlmIChmYWlsdXJlcyA+PSA1KSB7XG4gICAgICAgIHRoaXMuZG9tYWluQ29vbGRvd24uc2V0KGRvbWFpbiwgRGF0ZS5ub3coKSArIDEwICogNjAgKiAxMDAwKTtcbiAgICAgICAgdGhpcy5yZWNvcmRXYXJuaW5nKGBjaXJjdWl0LWJyZWFrZXI6JHtkb21haW59YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBibG9ja2VkOiB0cnVlLCB1cmw6IGNhbm9uaWNhbFVybCB9O1xuICAgIH1cbiAgICB0aGlzLmRvbWFpbkZhaWx1cmVzLnNldChkb21haW4sIDApO1xuICAgIGNvbnN0IGh0bWwgPSByZXNwb25zZS50ZXh0O1xuICAgIGNvbnN0IHRpdGxlID0gZXh0cmFjdFRpdGxlKGh0bWwpO1xuICAgIGNvbnN0IHRleHQgPSBzdHJpcEh0bWwoaHRtbCk7XG4gICAgcmV0dXJuIHsgdXJsOiBjYW5vbmljYWxVcmwsIHRpdGxlLCBodG1sLCB0ZXh0IH07XG4gIH1cblxuICBhc3luYyBzZWFyY2gocXVlcnksIGVuZ2luZSA9IFwieWFuZGV4XCIsIGxpbWl0ID0gNSkge1xuICAgIGNvbnN0IHNlYXJjaFVybCA9XG4gICAgICBlbmdpbmUgPT09IFwieWFuZGV4XCJcbiAgICAgICAgPyBgaHR0cHM6Ly95YW5kZXgucnUvc2VhcmNoLz90ZXh0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gXG4gICAgICAgIDogYGh0dHBzOi8vZHVja2R1Y2tnby5jb20vaHRtbC8/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YDtcblxuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCB0aGlzLmZldGNoUGFnZShzZWFyY2hVcmwsIHtcbiAgICAgIHRpbWVvdXRNczogdGhpcy5zZWFyY2hUaW1lb3V0TXMsXG4gICAgICB0eXBlOiBcInNlYXJjaFwiXG4gICAgfSk7XG4gICAgaWYgKFwiYmxvY2tlZFwiIGluIHBhZ2UpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBsaW5rcyA9IGV4dHJhY3RMaW5rcyhwYWdlLmh0bWwpXG4gICAgICAubWFwKChsaW5rKSA9PiAobGluay5pbmNsdWRlcyhcInlhbmRleFwiKSA/IGRlY29kZVlhbmRleFJlZGlyZWN0KGxpbmspIDogbGluaykpXG4gICAgICAuZmlsdGVyKChsaW5rKSA9PiBsaW5rLnN0YXJ0c1dpdGgoXCJodHRwXCIpKTtcblxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuXG4gICAgZm9yIChjb25zdCBsaW5rIG9mIGxpbmtzKSB7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPj0gbGltaXQpIGJyZWFrO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChsaW5rKTtcbiAgICAgICAgaWYgKHVybC5ob3N0bmFtZS5pbmNsdWRlcyhcInlhbmRleFwiKSB8fCB1cmwuaG9zdG5hbWUuaW5jbHVkZXMoXCJkdWNrZHVja2dvXCIpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWVuLmhhcyhsaW5rKSkgY29udGludWU7XG4gICAgICBzZWVuLmFkZChsaW5rKTtcbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIHVybDogY2Fub25pY2FsaXplVXJsKGxpbmspLFxuICAgICAgICB0aXRsZTogcGFnZS50aXRsZSxcbiAgICAgICAgc25pcHBldDogcXVlcnksXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBlbmdpbmUsXG4gICAgICAgIHNvdXJjZV91cmw6IHNlYXJjaFVybFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFdlYkNsaWVudCxcbiAgY2Fub25pY2FsaXplVXJsXG59O1xuIl0sIm5hbWVzIjpbInNsZWVwIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJVU0VSX0FHRU5UUyIsIkRFRkFVTFRfSEVBREVSUyIsIkFjY2VwdCIsIlByYWdtYSIsInN0cmlwSHRtbCIsImh0bWwiLCJyZXBsYWNlIiwidHJpbSIsImV4dHJhY3RUaXRsZSIsIm1hdGNoIiwiZXh0cmFjdExpbmtzIiwibGlua3MiLCJyZWdleCIsImV4ZWMiLCJocmVmIiwic3RhcnRzV2l0aCIsInB1c2giLCJkZWNvZGVZYW5kZXhSZWRpcmVjdCIsInVybCIsInBhcnNlZCIsIlVSTCIsInRhcmdldCIsInNlYXJjaFBhcmFtcyIsImdldCIsImRlY29kZVVSSUNvbXBvbmVudCIsImV4dHJhY3RSb2JvdHNSdWxlcyIsImNvbnRlbnQiLCJsaW5lcyIsInNwbGl0IiwibWFwIiwibGluZSIsImFwcGx5IiwiZGlzYWxsb3ciLCJyYXdLZXkiLCJyYXdWYWx1ZSIsInVuZGVmaW5lZCIsImtleSIsInRvTG93ZXJDYXNlIiwidmFsdWUiLCJjYW5vbmljYWxpemVVcmwiLCJwcm90b2NvbCIsInBhcmFtc1RvUmVtb3ZlIiwiZm9yRWFjaCIsIl8iLCJsb3dlciIsImluY2x1ZGVzIiwiZGVsZXRlIiwiaG9zdG5hbWUiLCJwYXRoIiwicGF0aG5hbWUiLCJzbGljZSIsInNlYXJjaCIsInBhcnRzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImxlbmd0aCIsInRvU3RyaW5nIiwiaGFzaCIsImdldERvbWFpbiIsIldlYkNsaWVudCIsIm9wdGlvbnMiLCJtYXhSZXF1ZXN0cyIsIm1pbkRlbGF5TXMiLCJ1c2VyQWdlbnRzIiwidGltZW91dE1zIiwic2VhcmNoVGltZW91dE1zIiwibGFzdFJlcXVlc3RBdCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJzdGF0cyIsInJlcXVlc3RzX21hZGUiLCJibG9ja2VkX2NvdW50IiwiZXJyb3JzX2NvdW50IiwiZHVyYXRpb25fbXMiLCJ0b3BfZXJyb3JzIiwid2FybmluZ3MiLCJyb2JvdHNDYWNoZSIsIk1hcCIsImRvbWFpbkZhaWx1cmVzIiwiZG9tYWluQ29vbGRvd24iLCJjb25zZWN1dGl2ZVJhdGVMaW1pdCIsImxvd1RyYWZmaWNNb2RlIiwidHJhY2UiLCJlcnJvckNvdW50cyIsImdldFN0YXRzIiwiZ2V0VHJhY2UiLCJyZWNvcmRXYXJuaW5nIiwibWVzc2FnZSIsInJlY29yZEVycm9yIiwiZG9tYWluIiwiY29kZSIsIm5leHQiLCJzZXQiLCJlbnRyaWVzIiwiQXJyYXkiLCJmcm9tIiwiZW50cnlLZXkiLCJjb3VudCIsImVudHJ5RG9tYWluIiwiZW50cnlDb2RlIiwic29ydCIsImEiLCJiIiwidGhyb3R0bGUiLCJkZWxheSIsIk1hdGgiLCJtYXgiLCJkaWZmIiwiZmV0Y2hXaXRoTGltaXQiLCJFcnJvciIsInVzZXJBZ2VudCIsImZsb29yIiwicmFuZG9tIiwiaGVhZGVycyIsImF0dGVtcHQiLCJsYXN0RXJyb3IiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dCIsImFib3J0IiwicmVzcG9uc2UiLCJmZXRjaCIsImNhY2hlIiwic2lnbmFsIiwidGV4dCIsImNsZWFyVGltZW91dCIsInN0YXR1cyIsIm1pbiIsImppdHRlciIsIm9rIiwiZXJyb3IiLCJjYW5GZXRjaCIsIm9yaWdpbiIsImhhcyIsInJvYm90c1VybCIsInJ1bGVzIiwic29tZSIsInJ1bGUiLCJmZXRjaFBhZ2UiLCJjYW5vbmljYWxVcmwiLCJjb29sZG93blVudGlsIiwiYmxvY2tlZCIsImFsbG93ZWQiLCJ0eXBlIiwiZmFpbHVyZXMiLCJ0aXRsZSIsInF1ZXJ5IiwiZW5naW5lIiwibGltaXQiLCJzZWFyY2hVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYWdlIiwibGluayIsInJlc3VsdHMiLCJzZWVuIiwiU2V0IiwiYWRkIiwic25pcHBldCIsInNvdXJjZV91cmwiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/agents/webClient.js\n");

/***/ }),

/***/ "(rsc)/./lib/llm/provider.js":
/*!*****************************!*\
  !*** ./lib/llm/provider.js ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst fs = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst path = __webpack_require__(/*! node:path */ \"node:path\");\nconst DEFAULT_PROVIDER = \"fake\";\nconst normalizeProviderName = (value)=>{\n    const normalized = String(value || \"\").trim().toLowerCase();\n    return normalized === \"real\" ? \"real\" : \"fake\";\n};\nconst getConfiguredProviderName = ()=>normalizeProviderName(process.env.LLM_PROVIDER || DEFAULT_PROVIDER);\nconst hasRealProviderCredentials = ()=>Boolean(String(process.env.OPENAI_API_KEY || \"\").trim());\nconst AGENT_ID_ALIASES = {\n    platon: \"platon-prospect-research-ru\",\n    anatoly: \"anatoly-account-research-ru\",\n    maxim: \"maxim-local-leads-ru\"\n};\nconst canonicalAgentId = (agentId)=>{\n    if (!agentId) return \"\";\n    const normalized = String(agentId).trim();\n    return AGENT_ID_ALIASES[normalized] || normalized;\n};\nconst resolveFixtureOutputPath = (agentId, fixturesRoot)=>{\n    const canonical = canonicalAgentId(agentId);\n    if (!canonical) return \"\";\n    const root = fixturesRoot || path.join(process.cwd(), \"fixtures\", \"agents\");\n    return path.join(root, canonical, \"output.json\");\n};\nconst hasFixtureForAgent = (agentId, fixturesRoot)=>{\n    const outputPath = resolveFixtureOutputPath(agentId, fixturesRoot);\n    return Boolean(outputPath && fs.existsSync(outputPath));\n};\nconst stripVolatile = (value)=>{\n    if (!value || typeof value !== \"object\") return value;\n    if (Array.isArray(value)) return value.map((item)=>stripVolatile(item));\n    const next = {};\n    Object.entries(value).forEach(([key, val])=>{\n        if (key === \"generated_at\") {\n            next[key] = \"1970-01-01T00:00:00.000Z\";\n            return;\n        }\n        if (key === \"run_id\" || key === \"trace_id\") {\n            next[key] = \"stub-run\";\n            return;\n        }\n        if (key === \"duration_ms\") {\n            next[key] = 0;\n            return;\n        }\n        next[key] = stripVolatile(val);\n    });\n    return next;\n};\nconst cloneJson = (value)=>{\n    try {\n        return JSON.parse(JSON.stringify(value));\n    } catch  {\n        return value;\n    }\n};\nconst pickSchemaNode = (schema)=>{\n    if (!schema || typeof schema !== \"object\") return {};\n    if (Array.isArray(schema.oneOf) && schema.oneOf.length) return schema.oneOf[0] || {};\n    if (Array.isArray(schema.anyOf) && schema.anyOf.length) return schema.anyOf[0] || {};\n    if (Array.isArray(schema.allOf) && schema.allOf.length) {\n        return schema.allOf.reduce((acc, item)=>({\n                ...acc,\n                ...item\n            }), {});\n    }\n    return schema;\n};\nconst schemaType = (schema)=>{\n    const node = pickSchemaNode(schema);\n    if (!node || typeof node !== \"object\") return \"object\";\n    if (node.const !== undefined) return typeof node.const;\n    if (node.default !== undefined) return typeof node.default;\n    if (Array.isArray(node.enum) && node.enum.length) return typeof node.enum[0];\n    if (Array.isArray(node.type)) return node.type[0] || \"object\";\n    return node.type || \"object\";\n};\nconst valueForFormat = (format)=>{\n    if (format === \"date-time\") return \"1970-01-01T00:00:00.000Z\";\n    if (format === \"date\") return \"1970-01-01\";\n    if (format === \"email\") return \"stub@example.com\";\n    if (format === \"uri\" || format === \"url\") return \"https://example.com\";\n    return \"stub\";\n};\nconst buildFromSchema = (schema, keyHint = \"\")=>{\n    const node = pickSchemaNode(schema);\n    if (!node || typeof node !== \"object\") return {};\n    if (Object.prototype.hasOwnProperty.call(node, \"const\")) return cloneJson(node.const);\n    if (Object.prototype.hasOwnProperty.call(node, \"default\")) return cloneJson(node.default);\n    if (Array.isArray(node.enum) && node.enum.length) return cloneJson(node.enum[0]);\n    const type = schemaType(node);\n    if (type === \"string\") {\n        if (node.format) return valueForFormat(node.format);\n        if (keyHint.toLowerCase().includes(\"email\")) return \"stub@example.com\";\n        if (keyHint.toLowerCase().includes(\"url\") || keyHint.toLowerCase().includes(\"link\")) {\n            return \"https://example.com\";\n        }\n        return \"stub\";\n    }\n    if (type === \"number\" || type === \"integer\") {\n        if (Number.isFinite(node.minimum)) return Number(node.minimum);\n        return 0;\n    }\n    if (type === \"boolean\") return false;\n    if (type === \"array\") {\n        const itemSchema = node.items || {};\n        return [\n            buildFromSchema(itemSchema, keyHint ? `${keyHint}_item` : \"item\")\n        ];\n    }\n    if (type === \"object\") {\n        const properties = node.properties && typeof node.properties === \"object\" ? node.properties : {};\n        const required = Array.isArray(node.required) ? node.required : [];\n        const keys = new Set([\n            ...required,\n            ...Object.keys(properties)\n        ]);\n        const result = {};\n        if (keys.size === 0) {\n            return keyHint === \"meta\" ? {\n                generated_at: \"1970-01-01T00:00:00.000Z\"\n            } : {};\n        }\n        keys.forEach((key)=>{\n            const childSchema = properties[key] || {};\n            result[key] = buildFromSchema(childSchema, key);\n        });\n        return result;\n    }\n    return {};\n};\nclass FakeLLMProvider {\n    constructor(options = {}){\n        this.name = \"fake\";\n        this.fixturesRoot = options.fixturesRoot || path.join(process.cwd(), \"fixtures\", \"agents\");\n    }\n    loadFixtureData(agentId) {\n        const outputPath = resolveFixtureOutputPath(agentId, this.fixturesRoot);\n        if (!outputPath || !fs.existsSync(outputPath)) return null;\n        try {\n            const parsed = JSON.parse(fs.readFileSync(outputPath, \"utf8\"));\n            const legacyData = parsed && parsed.data ? parsed.data : parsed;\n            return stripVolatile(cloneJson(legacyData));\n        } catch  {\n            return null;\n        }\n    }\n    async generateJson({ schema, meta } = {}) {\n        const agentId = meta && typeof meta === \"object\" ? meta.agent_id || meta.agentId : \"\";\n        const fixtureData = agentId ? this.loadFixtureData(agentId) : null;\n        if (fixtureData) {\n            return fixtureData;\n        }\n        return buildFromSchema(schema || {}, \"root\");\n    }\n}\nconst sanitizeSchemaName = (value)=>{\n    const normalized = String(value || \"agent_output\").replace(/[^a-zA-Z0-9_]/g, \"_\").replace(/_+/g, \"_\").replace(/^_+|_+$/g, \"\");\n    return normalized || \"agent_output\";\n};\nconst stripCodeFences = (value)=>String(value || \"\").replace(/```json/gi, \"```\").replace(/^```/, \"\").replace(/```$/, \"\").trim();\nconst parseJsonString = (value)=>{\n    if (typeof value !== \"string\") return null;\n    const direct = value.trim();\n    if (!direct) return null;\n    try {\n        return JSON.parse(direct);\n    } catch  {\n    // continue\n    }\n    const stripped = stripCodeFences(direct);\n    if (!stripped) return null;\n    try {\n        return JSON.parse(stripped);\n    } catch  {\n        return null;\n    }\n};\nconst extractErrorMessage = (payload)=>{\n    if (!payload || typeof payload !== \"object\") return \"\";\n    if (payload.error && typeof payload.error === \"object\") {\n        const message = payload.error.message || payload.error.code;\n        if (message) return String(message);\n    }\n    return \"\";\n};\nconst getNumericOption = (value, fallback)=>{\n    const numeric = Number(value);\n    return Number.isFinite(numeric) ? numeric : fallback;\n};\nclass RealLLMProvider {\n    constructor(options = {}){\n        this.name = \"real\";\n        this.apiKey = options.apiKey || process.env.OPENAI_API_KEY || \"\";\n        this.baseUrl = String(options.baseUrl || process.env.OPENAI_BASE_URL || \"https://api.openai.com/v1\").replace(/\\/+$/, \"\");\n        this.model = options.model || process.env.OPENAI_MODEL || \"gpt-5-mini\";\n        this.timeoutMs = getNumericOption(options.timeoutMs || process.env.OPENAI_TIMEOUT_MS, 45000);\n        this.fetchImpl = options.fetch || globalThis.fetch;\n    }\n    async requestChatCompletions(payload) {\n        if (typeof this.fetchImpl !== \"function\") {\n            throw new Error(\"Global fetch is not available for RealLLMProvider.\");\n        }\n        const controller = new AbortController();\n        const timeout = setTimeout(()=>controller.abort(), this.timeoutMs);\n        let response;\n        try {\n            response = await this.fetchImpl(`${this.baseUrl}/chat/completions`, {\n                method: \"POST\",\n                headers: {\n                    \"content-type\": \"application/json\",\n                    authorization: `Bearer ${this.apiKey}`\n                },\n                body: JSON.stringify(payload),\n                signal: controller.signal\n            });\n        } catch (error) {\n            const message = error && typeof error === \"object\" && error.name === \"AbortError\" ? `OpenAI request timed out after ${this.timeoutMs}ms` : `OpenAI request failed: ${error instanceof Error ? error.message : \"unknown error\"}`;\n            throw new Error(message);\n        } finally{\n            clearTimeout(timeout);\n        }\n        const text = await response.text();\n        const parsed = parseJsonString(text) || {};\n        if (!response.ok) {\n            const apiMessage = extractErrorMessage(parsed);\n            const reason = apiMessage || text.slice(0, 300) || `HTTP ${response.status}`;\n            const error = new Error(`OpenAI request failed (${response.status}): ${reason}`);\n            error.status = response.status;\n            throw error;\n        }\n        return parsed;\n    }\n    extractMessageText(payload) {\n        const content = payload?.choices?.[0]?.message?.content;\n        if (typeof content === \"string\") return content;\n        if (Array.isArray(content)) {\n            return content.map((part)=>{\n                if (!part || typeof part !== \"object\") return \"\";\n                if (typeof part.text === \"string\") return part.text;\n                if (part.text && typeof part.text === \"object\" && typeof part.text.value === \"string\") {\n                    return part.text.value;\n                }\n                if (typeof part.content === \"string\") return part.content;\n                return \"\";\n            }).join(\"\").trim();\n        }\n        return \"\";\n    }\n    buildMessages(system, prompt, schema) {\n        const baseSystem = typeof system === \"string\" && system.trim() ? system.trim() : \"You are a strict JSON assistant.\";\n        const schemaHint = schema && typeof schema === \"object\" && Object.keys(schema).length ? `Return only JSON that matches this schema:\\n${JSON.stringify(schema)}` : \"Return only valid JSON.\";\n        const userPrompt = typeof prompt === \"string\" && prompt.trim() ? prompt.trim() : \"{}\";\n        return [\n            {\n                role: \"system\",\n                content: `${baseSystem}\\n\\n${schemaHint}`\n            },\n            {\n                role: \"user\",\n                content: userPrompt\n            }\n        ];\n    }\n    async generateJson({ system, prompt, schema, temperature, maxTokens, meta } = {}) {\n        if (!this.apiKey) {\n            throw new Error(\"OPENAI_API_KEY is required when LLM_PROVIDER=real.\");\n        }\n        const requestedModel = meta && typeof meta === \"object\" && typeof meta.model === \"string\" ? meta.model.trim() : \"\";\n        const model = requestedModel || this.model;\n        const messages = this.buildMessages(system, prompt, schema);\n        const cappedTemperature = Math.min(Math.max(getNumericOption(temperature, 0.2), 0), 1.5);\n        const tokenLimit = Math.max(200, Math.min(6000, getNumericOption(maxTokens, 1800)));\n        const hasSchema = Boolean(schema && typeof schema === \"object\" && Object.keys(schema).length);\n        const schemaName = sanitizeSchemaName(meta && typeof meta === \"object\" ? meta.agent_id || meta.agentId || \"agent_output\" : \"agent_output\");\n        const withSchemaPayload = {\n            model,\n            messages,\n            temperature: cappedTemperature,\n            max_tokens: tokenLimit,\n            response_format: hasSchema ? {\n                type: \"json_schema\",\n                json_schema: {\n                    name: schemaName,\n                    strict: true,\n                    schema\n                }\n            } : {\n                type: \"json_object\"\n            }\n        };\n        let firstResult;\n        try {\n            firstResult = await this.requestChatCompletions(withSchemaPayload);\n        } catch (error) {\n            // Some models/endpoints may reject json_schema; fallback to plain json_object.\n            const fallbackPayload = {\n                model,\n                messages,\n                temperature: cappedTemperature,\n                max_tokens: tokenLimit,\n                response_format: {\n                    type: \"json_object\"\n                }\n            };\n            firstResult = await this.requestChatCompletions(fallbackPayload);\n        }\n        const text = this.extractMessageText(firstResult);\n        const parsed = parseJsonString(text);\n        if (parsed && typeof parsed === \"object\") {\n            return parsed;\n        }\n        throw new Error(\"OpenAI returned non-JSON output for generateJson().\");\n    }\n}\nconst createLLMProvider = ({ provider, fixturesRoot } = {})=>{\n    const mode = normalizeProviderName(provider || getConfiguredProviderName());\n    if (mode === \"real\") return new RealLLMProvider();\n    return new FakeLLMProvider({\n        fixturesRoot\n    });\n};\nlet singleton = null;\nconst getLLMProvider = (options = {})=>{\n    if (options.forceNew) return createLLMProvider(options);\n    if (!singleton) singleton = createLLMProvider(options);\n    return singleton;\n};\nconst isFakeLLMProvider = (provider)=>{\n    const name = provider && typeof provider === \"object\" ? provider.name : \"\";\n    return normalizeProviderName(name) === \"fake\";\n};\nmodule.exports = {\n    FakeLLMProvider,\n    RealLLMProvider,\n    buildFromSchema,\n    canonicalAgentId,\n    createLLMProvider,\n    getConfiguredProviderName,\n    getLLMProvider,\n    hasRealProviderCredentials,\n    hasFixtureForAgent,\n    isFakeLLMProvider,\n    resolveFixtureOutputPath,\n    stripVolatile\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TDtJQUN6QixNQUFNckYsT0FBT3FGLFlBQVksT0FBT0EsYUFBYSxXQUFXQSxTQUFTckYsSUFBSSxHQUFHO0lBQ3hFLE9BQU9qRixzQkFBc0JpRixVQUFVO0FBQ3pDO0FBRUEyRixPQUFPQyxPQUFPLEdBQUc7SUFDZjlGO0lBQ0EwQjtJQUNBN0M7SUFDQTNDO0lBQ0FvSjtJQUNBL0o7SUFDQW1LO0lBQ0EvSjtJQUNBZTtJQUNBa0o7SUFDQXhKO0lBQ0FTO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy9saWIvbGxtL3Byb3ZpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZShcIm5vZGU6ZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcIm5vZGU6cGF0aFwiKTtcblxuY29uc3QgREVGQVVMVF9QUk9WSURFUiA9IFwiZmFrZVwiO1xuXG5jb25zdCBub3JtYWxpemVQcm92aWRlck5hbWUgPSAodmFsdWUpID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IFN0cmluZyh2YWx1ZSB8fCBcIlwiKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPT09IFwicmVhbFwiID8gXCJyZWFsXCIgOiBcImZha2VcIjtcbn07XG5cbmNvbnN0IGdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUgPSAoKSA9PiBub3JtYWxpemVQcm92aWRlck5hbWUocHJvY2Vzcy5lbnYuTExNX1BST1ZJREVSIHx8IERFRkFVTFRfUFJPVklERVIpO1xuY29uc3QgaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMgPSAoKSA9PlxuICBCb29sZWFuKFN0cmluZyhwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB8fCBcIlwiKS50cmltKCkpO1xuXG5jb25zdCBBR0VOVF9JRF9BTElBU0VTID0ge1xuICBwbGF0b246IFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCIsXG4gIGFuYXRvbHk6IFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIsXG4gIG1heGltOiBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCJcbn07XG5cbmNvbnN0IGNhbm9uaWNhbEFnZW50SWQgPSAoYWdlbnRJZCkgPT4ge1xuICBpZiAoIWFnZW50SWQpIHJldHVybiBcIlwiO1xuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKGFnZW50SWQpLnRyaW0oKTtcbiAgcmV0dXJuIEFHRU5UX0lEX0FMSUFTRVNbbm9ybWFsaXplZF0gfHwgbm9ybWFsaXplZDtcbn07XG5cbmNvbnN0IHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aCA9IChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpID0+IHtcbiAgY29uc3QgY2Fub25pY2FsID0gY2Fub25pY2FsQWdlbnRJZChhZ2VudElkKTtcbiAgaWYgKCFjYW5vbmljYWwpIHJldHVybiBcIlwiO1xuICBjb25zdCByb290ID0gZml4dHVyZXNSb290IHx8IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcImZpeHR1cmVzXCIsIFwiYWdlbnRzXCIpO1xuICByZXR1cm4gcGF0aC5qb2luKHJvb3QsIGNhbm9uaWNhbCwgXCJvdXRwdXQuanNvblwiKTtcbn07XG5cbmNvbnN0IGhhc0ZpeHR1cmVGb3JBZ2VudCA9IChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpID0+IHtcbiAgY29uc3Qgb3V0cHV0UGF0aCA9IHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aChhZ2VudElkLCBmaXh0dXJlc1Jvb3QpO1xuICByZXR1cm4gQm9vbGVhbihvdXRwdXRQYXRoICYmIGZzLmV4aXN0c1N5bmMob3V0cHV0UGF0aCkpO1xufTtcblxuY29uc3Qgc3RyaXBWb2xhdGlsZSA9ICh2YWx1ZSkgPT4ge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZS5tYXAoKGl0ZW0pID0+IHN0cmlwVm9sYXRpbGUoaXRlbSkpO1xuXG4gIGNvbnN0IG5leHQgPSB7fTtcbiAgT2JqZWN0LmVudHJpZXModmFsdWUpLmZvckVhY2goKFtrZXksIHZhbF0pID0+IHtcbiAgICBpZiAoa2V5ID09PSBcImdlbmVyYXRlZF9hdFwiKSB7XG4gICAgICBuZXh0W2tleV0gPSBcIjE5NzAtMDEtMDFUMDA6MDA6MDAuMDAwWlwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcInJ1bl9pZFwiIHx8IGtleSA9PT0gXCJ0cmFjZV9pZFwiKSB7XG4gICAgICBuZXh0W2tleV0gPSBcInN0dWItcnVuXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwiZHVyYXRpb25fbXNcIikge1xuICAgICAgbmV4dFtrZXldID0gMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmV4dFtrZXldID0gc3RyaXBWb2xhdGlsZSh2YWwpO1xuICB9KTtcbiAgcmV0dXJuIG5leHQ7XG59O1xuXG5jb25zdCBjbG9uZUpzb24gPSAodmFsdWUpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmNvbnN0IHBpY2tTY2hlbWFOb2RlID0gKHNjaGVtYSkgPT4ge1xuICBpZiAoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hICE9PSBcIm9iamVjdFwiKSByZXR1cm4ge307XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5vbmVPZikgJiYgc2NoZW1hLm9uZU9mLmxlbmd0aCkgcmV0dXJuIHNjaGVtYS5vbmVPZlswXSB8fCB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFueU9mKSAmJiBzY2hlbWEuYW55T2YubGVuZ3RoKSByZXR1cm4gc2NoZW1hLmFueU9mWzBdIHx8IHt9O1xuICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpICYmIHNjaGVtYS5hbGxPZi5sZW5ndGgpIHtcbiAgICByZXR1cm4gc2NoZW1hLmFsbE9mLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiAoeyAuLi5hY2MsIC4uLml0ZW0gfSksIHt9KTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcblxuY29uc3Qgc2NoZW1hVHlwZSA9IChzY2hlbWEpID0+IHtcbiAgY29uc3Qgbm9kZSA9IHBpY2tTY2hlbWFOb2RlKHNjaGVtYSk7XG4gIGlmICghbm9kZSB8fCB0eXBlb2Ygbm9kZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIFwib2JqZWN0XCI7XG4gIGlmIChub2RlLmNvbnN0ICE9PSB1bmRlZmluZWQpIHJldHVybiB0eXBlb2Ygbm9kZS5jb25zdDtcbiAgaWYgKG5vZGUuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdHlwZW9mIG5vZGUuZGVmYXVsdDtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5lbnVtKSAmJiBub2RlLmVudW0ubGVuZ3RoKSByZXR1cm4gdHlwZW9mIG5vZGUuZW51bVswXTtcbiAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS50eXBlKSkgcmV0dXJuIG5vZGUudHlwZVswXSB8fCBcIm9iamVjdFwiO1xuICByZXR1cm4gbm9kZS50eXBlIHx8IFwib2JqZWN0XCI7XG59O1xuXG5jb25zdCB2YWx1ZUZvckZvcm1hdCA9IChmb3JtYXQpID0+IHtcbiAgaWYgKGZvcm1hdCA9PT0gXCJkYXRlLXRpbWVcIikgcmV0dXJuIFwiMTk3MC0wMS0wMVQwMDowMDowMC4wMDBaXCI7XG4gIGlmIChmb3JtYXQgPT09IFwiZGF0ZVwiKSByZXR1cm4gXCIxOTcwLTAxLTAxXCI7XG4gIGlmIChmb3JtYXQgPT09IFwiZW1haWxcIikgcmV0dXJuIFwic3R1YkBleGFtcGxlLmNvbVwiO1xuICBpZiAoZm9ybWF0ID09PSBcInVyaVwiIHx8IGZvcm1hdCA9PT0gXCJ1cmxcIikgcmV0dXJuIFwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiO1xuICByZXR1cm4gXCJzdHViXCI7XG59O1xuXG5jb25zdCBidWlsZEZyb21TY2hlbWEgPSAoc2NoZW1hLCBrZXlIaW50ID0gXCJcIikgPT4ge1xuICBjb25zdCBub2RlID0gcGlja1NjaGVtYU5vZGUoc2NoZW1hKTtcbiAgaWYgKCFub2RlIHx8IHR5cGVvZiBub2RlICE9PSBcIm9iamVjdFwiKSByZXR1cm4ge307XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChub2RlLCBcImNvbnN0XCIpKSByZXR1cm4gY2xvbmVKc29uKG5vZGUuY29uc3QpO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5vZGUsIFwiZGVmYXVsdFwiKSkgcmV0dXJuIGNsb25lSnNvbihub2RlLmRlZmF1bHQpO1xuICBpZiAoQXJyYXkuaXNBcnJheShub2RlLmVudW0pICYmIG5vZGUuZW51bS5sZW5ndGgpIHJldHVybiBjbG9uZUpzb24obm9kZS5lbnVtWzBdKTtcblxuICBjb25zdCB0eXBlID0gc2NoZW1hVHlwZShub2RlKTtcblxuICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChub2RlLmZvcm1hdCkgcmV0dXJuIHZhbHVlRm9yRm9ybWF0KG5vZGUuZm9ybWF0KTtcbiAgICBpZiAoa2V5SGludC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiZW1haWxcIikpIHJldHVybiBcInN0dWJAZXhhbXBsZS5jb21cIjtcbiAgICBpZiAoa2V5SGludC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwidXJsXCIpIHx8IGtleUhpbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImxpbmtcIikpIHtcbiAgICAgIHJldHVybiBcImh0dHBzOi8vZXhhbXBsZS5jb21cIjtcbiAgICB9XG4gICAgcmV0dXJuIFwic3R1YlwiO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJpbnRlZ2VyXCIpIHtcbiAgICBpZiAoTnVtYmVyLmlzRmluaXRlKG5vZGUubWluaW11bSkpIHJldHVybiBOdW1iZXIobm9kZS5taW5pbXVtKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmICh0eXBlID09PSBcImJvb2xlYW5cIikgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlID09PSBcImFycmF5XCIpIHtcbiAgICBjb25zdCBpdGVtU2NoZW1hID0gbm9kZS5pdGVtcyB8fCB7fTtcbiAgICByZXR1cm4gW2J1aWxkRnJvbVNjaGVtYShpdGVtU2NoZW1hLCBrZXlIaW50ID8gYCR7a2V5SGludH1faXRlbWAgOiBcIml0ZW1cIildO1xuICB9XG5cbiAgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gbm9kZS5wcm9wZXJ0aWVzICYmIHR5cGVvZiBub2RlLnByb3BlcnRpZXMgPT09IFwib2JqZWN0XCIgPyBub2RlLnByb3BlcnRpZXMgOiB7fTtcbiAgICBjb25zdCByZXF1aXJlZCA9IEFycmF5LmlzQXJyYXkobm9kZS5yZXF1aXJlZCkgPyBub2RlLnJlcXVpcmVkIDogW107XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoWy4uLnJlcXVpcmVkLCAuLi5PYmplY3Qua2V5cyhwcm9wZXJ0aWVzKV0pO1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuXG4gICAgaWYgKGtleXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGtleUhpbnQgPT09IFwibWV0YVwiID8geyBnZW5lcmF0ZWRfYXQ6IFwiMTk3MC0wMS0wMVQwMDowMDowMC4wMDBaXCIgfSA6IHt9O1xuICAgIH1cblxuICAgIGtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBjaGlsZFNjaGVtYSA9IHByb3BlcnRpZXNba2V5XSB8fCB7fTtcbiAgICAgIHJlc3VsdFtrZXldID0gYnVpbGRGcm9tU2NoZW1hKGNoaWxkU2NoZW1hLCBrZXkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiB7fTtcbn07XG5cbmNsYXNzIEZha2VMTE1Qcm92aWRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMubmFtZSA9IFwiZmFrZVwiO1xuICAgIHRoaXMuZml4dHVyZXNSb290ID0gb3B0aW9ucy5maXh0dXJlc1Jvb3QgfHwgcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwiZml4dHVyZXNcIiwgXCJhZ2VudHNcIik7XG4gIH1cblxuICBsb2FkRml4dHVyZURhdGEoYWdlbnRJZCkge1xuICAgIGNvbnN0IG91dHB1dFBhdGggPSByZXNvbHZlRml4dHVyZU91dHB1dFBhdGgoYWdlbnRJZCwgdGhpcy5maXh0dXJlc1Jvb3QpO1xuICAgIGlmICghb3V0cHV0UGF0aCB8fCAhZnMuZXhpc3RzU3luYyhvdXRwdXRQYXRoKSkgcmV0dXJuIG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZnMucmVhZEZpbGVTeW5jKG91dHB1dFBhdGgsIFwidXRmOFwiKSk7XG4gICAgICBjb25zdCBsZWdhY3lEYXRhID0gcGFyc2VkICYmIHBhcnNlZC5kYXRhID8gcGFyc2VkLmRhdGEgOiBwYXJzZWQ7XG4gICAgICByZXR1cm4gc3RyaXBWb2xhdGlsZShjbG9uZUpzb24obGVnYWN5RGF0YSkpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2VuZXJhdGVKc29uKHsgc2NoZW1hLCBtZXRhIH0gPSB7fSkge1xuICAgIGNvbnN0IGFnZW50SWQgPSBtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiID8gbWV0YS5hZ2VudF9pZCB8fCBtZXRhLmFnZW50SWQgOiBcIlwiO1xuICAgIGNvbnN0IGZpeHR1cmVEYXRhID0gYWdlbnRJZCA/IHRoaXMubG9hZEZpeHR1cmVEYXRhKGFnZW50SWQpIDogbnVsbDtcbiAgICBpZiAoZml4dHVyZURhdGEpIHtcbiAgICAgIHJldHVybiBmaXh0dXJlRGF0YTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVpbGRGcm9tU2NoZW1hKHNjaGVtYSB8fCB7fSwgXCJyb290XCIpO1xuICB9XG59XG5cbmNvbnN0IHNhbml0aXplU2NoZW1hTmFtZSA9ICh2YWx1ZSkgPT4ge1xuICBjb25zdCBub3JtYWxpemVkID0gU3RyaW5nKHZhbHVlIHx8IFwiYWdlbnRfb3V0cHV0XCIpXG4gICAgLnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgXCJfXCIpXG4gICAgLnJlcGxhY2UoL18rL2csIFwiX1wiKVxuICAgIC5yZXBsYWNlKC9eXyt8XyskL2csIFwiXCIpO1xuICByZXR1cm4gbm9ybWFsaXplZCB8fCBcImFnZW50X291dHB1dFwiO1xufTtcblxuY29uc3Qgc3RyaXBDb2RlRmVuY2VzID0gKHZhbHVlKSA9PlxuICBTdHJpbmcodmFsdWUgfHwgXCJcIilcbiAgICAucmVwbGFjZSgvYGBganNvbi9naSwgXCJgYGBcIilcbiAgICAucmVwbGFjZSgvXmBgYC8sIFwiXCIpXG4gICAgLnJlcGxhY2UoL2BgYCQvLCBcIlwiKVxuICAgIC50cmltKCk7XG5cbmNvbnN0IHBhcnNlSnNvblN0cmluZyA9ICh2YWx1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgZGlyZWN0ID0gdmFsdWUudHJpbSgpO1xuICBpZiAoIWRpcmVjdCkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGlyZWN0KTtcbiAgfSBjYXRjaCB7XG4gICAgLy8gY29udGludWVcbiAgfVxuICBjb25zdCBzdHJpcHBlZCA9IHN0cmlwQ29kZUZlbmNlcyhkaXJlY3QpO1xuICBpZiAoIXN0cmlwcGVkKSByZXR1cm4gbnVsbDtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJpcHBlZCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5jb25zdCBleHRyYWN0RXJyb3JNZXNzYWdlID0gKHBheWxvYWQpID0+IHtcbiAgaWYgKCFwYXlsb2FkIHx8IHR5cGVvZiBwYXlsb2FkICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgaWYgKHBheWxvYWQuZXJyb3IgJiYgdHlwZW9mIHBheWxvYWQuZXJyb3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gcGF5bG9hZC5lcnJvci5tZXNzYWdlIHx8IHBheWxvYWQuZXJyb3IuY29kZTtcbiAgICBpZiAobWVzc2FnZSkgcmV0dXJuIFN0cmluZyhtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn07XG5cbmNvbnN0IGdldE51bWVyaWNPcHRpb24gPSAodmFsdWUsIGZhbGxiYWNrKSA9PiB7XG4gIGNvbnN0IG51bWVyaWMgPSBOdW1iZXIodmFsdWUpO1xuICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG51bWVyaWMpID8gbnVtZXJpYyA6IGZhbGxiYWNrO1xufTtcblxuY2xhc3MgUmVhbExMTVByb3ZpZGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5uYW1lID0gXCJyZWFsXCI7XG4gICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleSB8fCBwcm9jZXNzLmVudi5PUEVOQUlfQVBJX0tFWSB8fCBcIlwiO1xuICAgIHRoaXMuYmFzZVVybCA9IFN0cmluZyhcbiAgICAgIG9wdGlvbnMuYmFzZVVybCB8fCBwcm9jZXNzLmVudi5PUEVOQUlfQkFTRV9VUkwgfHwgXCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXCJcbiAgICApLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG4gICAgdGhpcy5tb2RlbCA9IG9wdGlvbnMubW9kZWwgfHwgcHJvY2Vzcy5lbnYuT1BFTkFJX01PREVMIHx8IFwiZ3B0LTUtbWluaVwiO1xuICAgIHRoaXMudGltZW91dE1zID0gZ2V0TnVtZXJpY09wdGlvbihvcHRpb25zLnRpbWVvdXRNcyB8fCBwcm9jZXNzLmVudi5PUEVOQUlfVElNRU9VVF9NUywgNDUwMDApO1xuICAgIHRoaXMuZmV0Y2hJbXBsID0gb3B0aW9ucy5mZXRjaCB8fCBnbG9iYWxUaGlzLmZldGNoO1xuICB9XG5cbiAgYXN5bmMgcmVxdWVzdENoYXRDb21wbGV0aW9ucyhwYXlsb2FkKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmZldGNoSW1wbCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHbG9iYWwgZmV0Y2ggaXMgbm90IGF2YWlsYWJsZSBmb3IgUmVhbExMTVByb3ZpZGVyLlwiKTtcbiAgICB9XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIHRoaXMudGltZW91dE1zKTtcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaEltcGwoYCR7dGhpcy5iYXNlVXJsfS9jaGF0L2NvbXBsZXRpb25zYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXBpS2V5fWBcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiXG4gICAgICAgICAgPyBgT3BlbkFJIHJlcXVlc3QgdGltZWQgb3V0IGFmdGVyICR7dGhpcy50aW1lb3V0TXN9bXNgXG4gICAgICAgICAgOiBgT3BlbkFJIHJlcXVlc3QgZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJ1bmtub3duIGVycm9yXCJ9YDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH1cblxuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc3QgcGFyc2VkID0gcGFyc2VKc29uU3RyaW5nKHRleHQpIHx8IHt9O1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGFwaU1lc3NhZ2UgPSBleHRyYWN0RXJyb3JNZXNzYWdlKHBhcnNlZCk7XG4gICAgICBjb25zdCByZWFzb24gPSBhcGlNZXNzYWdlIHx8IHRleHQuc2xpY2UoMCwgMzAwKSB8fCBgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gO1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoYE9wZW5BSSByZXF1ZXN0IGZhaWxlZCAoJHtyZXNwb25zZS5zdGF0dXN9KTogJHtyZWFzb259YCk7XG4gICAgICBlcnJvci5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbiAgfVxuXG4gIGV4dHJhY3RNZXNzYWdlVGV4dChwYXlsb2FkKSB7XG4gICAgY29uc3QgY29udGVudCA9IHBheWxvYWQ/LmNob2ljZXM/LlswXT8ubWVzc2FnZT8uY29udGVudDtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBjb250ZW50O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRlbnQpKSB7XG4gICAgICByZXR1cm4gY29udGVudFxuICAgICAgICAubWFwKChwYXJ0KSA9PiB7XG4gICAgICAgICAgaWYgKCFwYXJ0IHx8IHR5cGVvZiBwYXJ0ICE9PSBcIm9iamVjdFwiKSByZXR1cm4gXCJcIjtcbiAgICAgICAgICBpZiAodHlwZW9mIHBhcnQudGV4dCA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHBhcnQudGV4dDtcbiAgICAgICAgICBpZiAocGFydC50ZXh0ICYmIHR5cGVvZiBwYXJ0LnRleHQgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHBhcnQudGV4dC52YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnQudGV4dC52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJ0LmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHJldHVybiBwYXJ0LmNvbnRlbnQ7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKFwiXCIpXG4gICAgICAgIC50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgYnVpbGRNZXNzYWdlcyhzeXN0ZW0sIHByb21wdCwgc2NoZW1hKSB7XG4gICAgY29uc3QgYmFzZVN5c3RlbSA9XG4gICAgICB0eXBlb2Ygc3lzdGVtID09PSBcInN0cmluZ1wiICYmIHN5c3RlbS50cmltKClcbiAgICAgICAgPyBzeXN0ZW0udHJpbSgpXG4gICAgICAgIDogXCJZb3UgYXJlIGEgc3RyaWN0IEpTT04gYXNzaXN0YW50LlwiO1xuICAgIGNvbnN0IHNjaGVtYUhpbnQgPVxuICAgICAgc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMoc2NoZW1hKS5sZW5ndGhcbiAgICAgICAgPyBgUmV0dXJuIG9ubHkgSlNPTiB0aGF0IG1hdGNoZXMgdGhpcyBzY2hlbWE6XFxuJHtKU09OLnN0cmluZ2lmeShzY2hlbWEpfWBcbiAgICAgICAgOiBcIlJldHVybiBvbmx5IHZhbGlkIEpTT04uXCI7XG4gICAgY29uc3QgdXNlclByb21wdCA9IHR5cGVvZiBwcm9tcHQgPT09IFwic3RyaW5nXCIgJiYgcHJvbXB0LnRyaW0oKSA/IHByb21wdC50cmltKCkgOiBcInt9XCI7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgcm9sZTogXCJzeXN0ZW1cIiwgY29udGVudDogYCR7YmFzZVN5c3RlbX1cXG5cXG4ke3NjaGVtYUhpbnR9YCB9LFxuICAgICAgeyByb2xlOiBcInVzZXJcIiwgY29udGVudDogdXNlclByb21wdCB9XG4gICAgXTtcbiAgfVxuXG4gIGFzeW5jIGdlbmVyYXRlSnNvbih7IHN5c3RlbSwgcHJvbXB0LCBzY2hlbWEsIHRlbXBlcmF0dXJlLCBtYXhUb2tlbnMsIG1ldGEgfSA9IHt9KSB7XG4gICAgaWYgKCF0aGlzLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT1BFTkFJX0FQSV9LRVkgaXMgcmVxdWlyZWQgd2hlbiBMTE1fUFJPVklERVI9cmVhbC5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgcmVxdWVzdGVkTW9kZWwgPVxuICAgICAgbWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbWV0YS5tb2RlbCA9PT0gXCJzdHJpbmdcIlxuICAgICAgICA/IG1ldGEubW9kZWwudHJpbSgpXG4gICAgICAgIDogXCJcIjtcbiAgICBjb25zdCBtb2RlbCA9IHJlcXVlc3RlZE1vZGVsIHx8IHRoaXMubW9kZWw7XG4gICAgY29uc3QgbWVzc2FnZXMgPSB0aGlzLmJ1aWxkTWVzc2FnZXMoc3lzdGVtLCBwcm9tcHQsIHNjaGVtYSk7XG4gICAgY29uc3QgY2FwcGVkVGVtcGVyYXR1cmUgPSBNYXRoLm1pbihNYXRoLm1heChnZXROdW1lcmljT3B0aW9uKHRlbXBlcmF0dXJlLCAwLjIpLCAwKSwgMS41KTtcbiAgICBjb25zdCB0b2tlbkxpbWl0ID0gTWF0aC5tYXgoMjAwLCBNYXRoLm1pbig2MDAwLCBnZXROdW1lcmljT3B0aW9uKG1heFRva2VucywgMTgwMCkpKTtcbiAgICBjb25zdCBoYXNTY2hlbWEgPSBCb29sZWFuKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoKTtcbiAgICBjb25zdCBzY2hlbWFOYW1lID0gc2FuaXRpemVTY2hlbWFOYW1lKFxuICAgICAgbWV0YSAmJiB0eXBlb2YgbWV0YSA9PT0gXCJvYmplY3RcIiA/IG1ldGEuYWdlbnRfaWQgfHwgbWV0YS5hZ2VudElkIHx8IFwiYWdlbnRfb3V0cHV0XCIgOiBcImFnZW50X291dHB1dFwiXG4gICAgKTtcblxuICAgIGNvbnN0IHdpdGhTY2hlbWFQYXlsb2FkID0ge1xuICAgICAgbW9kZWwsXG4gICAgICBtZXNzYWdlcyxcbiAgICAgIHRlbXBlcmF0dXJlOiBjYXBwZWRUZW1wZXJhdHVyZSxcbiAgICAgIG1heF90b2tlbnM6IHRva2VuTGltaXQsXG4gICAgICByZXNwb25zZV9mb3JtYXQ6IGhhc1NjaGVtYVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHR5cGU6IFwianNvbl9zY2hlbWFcIixcbiAgICAgICAgICAgIGpzb25fc2NoZW1hOiB7IG5hbWU6IHNjaGVtYU5hbWUsIHN0cmljdDogdHJ1ZSwgc2NoZW1hIH1cbiAgICAgICAgICB9XG4gICAgICAgIDogeyB0eXBlOiBcImpzb25fb2JqZWN0XCIgfVxuICAgIH07XG5cbiAgICBsZXQgZmlyc3RSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIGZpcnN0UmVzdWx0ID0gYXdhaXQgdGhpcy5yZXF1ZXN0Q2hhdENvbXBsZXRpb25zKHdpdGhTY2hlbWFQYXlsb2FkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gU29tZSBtb2RlbHMvZW5kcG9pbnRzIG1heSByZWplY3QganNvbl9zY2hlbWE7IGZhbGxiYWNrIHRvIHBsYWluIGpzb25fb2JqZWN0LlxuICAgICAgY29uc3QgZmFsbGJhY2tQYXlsb2FkID0ge1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIHRlbXBlcmF0dXJlOiBjYXBwZWRUZW1wZXJhdHVyZSxcbiAgICAgICAgbWF4X3Rva2VuczogdG9rZW5MaW1pdCxcbiAgICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6IFwianNvbl9vYmplY3RcIiB9XG4gICAgICB9O1xuICAgICAgZmlyc3RSZXN1bHQgPSBhd2FpdCB0aGlzLnJlcXVlc3RDaGF0Q29tcGxldGlvbnMoZmFsbGJhY2tQYXlsb2FkKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5leHRyYWN0TWVzc2FnZVRleHQoZmlyc3RSZXN1bHQpO1xuICAgIGNvbnN0IHBhcnNlZCA9IHBhcnNlSnNvblN0cmluZyh0ZXh0KTtcbiAgICBpZiAocGFyc2VkICYmIHR5cGVvZiBwYXJzZWQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT3BlbkFJIHJldHVybmVkIG5vbi1KU09OIG91dHB1dCBmb3IgZ2VuZXJhdGVKc29uKCkuXCIpO1xuICB9XG59XG5cbmNvbnN0IGNyZWF0ZUxMTVByb3ZpZGVyID0gKHsgcHJvdmlkZXIsIGZpeHR1cmVzUm9vdCB9ID0ge30pID0+IHtcbiAgY29uc3QgbW9kZSA9IG5vcm1hbGl6ZVByb3ZpZGVyTmFtZShwcm92aWRlciB8fCBnZXRDb25maWd1cmVkUHJvdmlkZXJOYW1lKCkpO1xuICBpZiAobW9kZSA9PT0gXCJyZWFsXCIpIHJldHVybiBuZXcgUmVhbExMTVByb3ZpZGVyKCk7XG4gIHJldHVybiBuZXcgRmFrZUxMTVByb3ZpZGVyKHsgZml4dHVyZXNSb290IH0pO1xufTtcblxubGV0IHNpbmdsZXRvbiA9IG51bGw7XG5cbmNvbnN0IGdldExMTVByb3ZpZGVyID0gKG9wdGlvbnMgPSB7fSkgPT4ge1xuICBpZiAob3B0aW9ucy5mb3JjZU5ldykgcmV0dXJuIGNyZWF0ZUxMTVByb3ZpZGVyKG9wdGlvbnMpO1xuICBpZiAoIXNpbmdsZXRvbikgc2luZ2xldG9uID0gY3JlYXRlTExNUHJvdmlkZXIob3B0aW9ucyk7XG4gIHJldHVybiBzaW5nbGV0b247XG59O1xuXG5jb25zdCBpc0Zha2VMTE1Qcm92aWRlciA9IChwcm92aWRlcikgPT4ge1xuICBjb25zdCBuYW1lID0gcHJvdmlkZXIgJiYgdHlwZW9mIHByb3ZpZGVyID09PSBcIm9iamVjdFwiID8gcHJvdmlkZXIubmFtZSA6IFwiXCI7XG4gIHJldHVybiBub3JtYWxpemVQcm92aWRlck5hbWUobmFtZSkgPT09IFwiZmFrZVwiO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEZha2VMTE1Qcm92aWRlcixcbiAgUmVhbExMTVByb3ZpZGVyLFxuICBidWlsZEZyb21TY2hlbWEsXG4gIGNhbm9uaWNhbEFnZW50SWQsXG4gIGNyZWF0ZUxMTVByb3ZpZGVyLFxuICBnZXRDb25maWd1cmVkUHJvdmlkZXJOYW1lLFxuICBnZXRMTE1Qcm92aWRlcixcbiAgaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMsXG4gIGhhc0ZpeHR1cmVGb3JBZ2VudCxcbiAgaXNGYWtlTExNUHJvdmlkZXIsXG4gIHJlc29sdmVGaXh0dXJlT3V0cHV0UGF0aCxcbiAgc3RyaXBWb2xhdGlsZVxufTtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJwYXRoIiwiREVGQVVMVF9QUk9WSURFUiIsIm5vcm1hbGl6ZVByb3ZpZGVyTmFtZSIsInZhbHVlIiwibm9ybWFsaXplZCIsIlN0cmluZyIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsImdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUiLCJwcm9jZXNzIiwiZW52IiwiTExNX1BST1ZJREVSIiwiaGFzUmVhbFByb3ZpZGVyQ3JlZGVudGlhbHMiLCJCb29sZWFuIiwiT1BFTkFJX0FQSV9LRVkiLCJBR0VOVF9JRF9BTElBU0VTIiwicGxhdG9uIiwiYW5hdG9seSIsIm1heGltIiwiY2Fub25pY2FsQWdlbnRJZCIsImFnZW50SWQiLCJyZXNvbHZlRml4dHVyZU91dHB1dFBhdGgiLCJmaXh0dXJlc1Jvb3QiLCJjYW5vbmljYWwiLCJyb290Iiwiam9pbiIsImN3ZCIsImhhc0ZpeHR1cmVGb3JBZ2VudCIsIm91dHB1dFBhdGgiLCJleGlzdHNTeW5jIiwic3RyaXBWb2xhdGlsZSIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsIml0ZW0iLCJuZXh0IiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWwiLCJjbG9uZUpzb24iLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJwaWNrU2NoZW1hTm9kZSIsInNjaGVtYSIsIm9uZU9mIiwibGVuZ3RoIiwiYW55T2YiLCJhbGxPZiIsInJlZHVjZSIsImFjYyIsInNjaGVtYVR5cGUiLCJub2RlIiwiY29uc3QiLCJ1bmRlZmluZWQiLCJkZWZhdWx0IiwiZW51bSIsInR5cGUiLCJ2YWx1ZUZvckZvcm1hdCIsImZvcm1hdCIsImJ1aWxkRnJvbVNjaGVtYSIsImtleUhpbnQiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbmNsdWRlcyIsIk51bWJlciIsImlzRmluaXRlIiwibWluaW11bSIsIml0ZW1TY2hlbWEiLCJpdGVtcyIsInByb3BlcnRpZXMiLCJyZXF1aXJlZCIsImtleXMiLCJTZXQiLCJyZXN1bHQiLCJzaXplIiwiZ2VuZXJhdGVkX2F0IiwiY2hpbGRTY2hlbWEiLCJGYWtlTExNUHJvdmlkZXIiLCJvcHRpb25zIiwibmFtZSIsImxvYWRGaXh0dXJlRGF0YSIsInBhcnNlZCIsInJlYWRGaWxlU3luYyIsImxlZ2FjeURhdGEiLCJkYXRhIiwiZ2VuZXJhdGVKc29uIiwibWV0YSIsImFnZW50X2lkIiwiZml4dHVyZURhdGEiLCJzYW5pdGl6ZVNjaGVtYU5hbWUiLCJyZXBsYWNlIiwic3RyaXBDb2RlRmVuY2VzIiwicGFyc2VKc29uU3RyaW5nIiwiZGlyZWN0Iiwic3RyaXBwZWQiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwicGF5bG9hZCIsImVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJnZXROdW1lcmljT3B0aW9uIiwiZmFsbGJhY2siLCJudW1lcmljIiwiUmVhbExMTVByb3ZpZGVyIiwiYXBpS2V5IiwiYmFzZVVybCIsIk9QRU5BSV9CQVNFX1VSTCIsIm1vZGVsIiwiT1BFTkFJX01PREVMIiwidGltZW91dE1zIiwiT1BFTkFJX1RJTUVPVVRfTVMiLCJmZXRjaEltcGwiLCJmZXRjaCIsImdsb2JhbFRoaXMiLCJyZXF1ZXN0Q2hhdENvbXBsZXRpb25zIiwiRXJyb3IiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJhYm9ydCIsInJlc3BvbnNlIiwibWV0aG9kIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJib2R5Iiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0IiwidGV4dCIsIm9rIiwiYXBpTWVzc2FnZSIsInJlYXNvbiIsInNsaWNlIiwic3RhdHVzIiwiZXh0cmFjdE1lc3NhZ2VUZXh0IiwiY29udGVudCIsImNob2ljZXMiLCJwYXJ0IiwiYnVpbGRNZXNzYWdlcyIsInN5c3RlbSIsInByb21wdCIsImJhc2VTeXN0ZW0iLCJzY2hlbWFIaW50IiwidXNlclByb21wdCIsInJvbGUiLCJ0ZW1wZXJhdHVyZSIsIm1heFRva2VucyIsInJlcXVlc3RlZE1vZGVsIiwibWVzc2FnZXMiLCJjYXBwZWRUZW1wZXJhdHVyZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJ0b2tlbkxpbWl0IiwiaGFzU2NoZW1hIiwic2NoZW1hTmFtZSIsIndpdGhTY2hlbWFQYXlsb2FkIiwibWF4X3Rva2VucyIsInJlc3BvbnNlX2Zvcm1hdCIsImpzb25fc2NoZW1hIiwic3RyaWN0IiwiZmlyc3RSZXN1bHQiLCJmYWxsYmFja1BheWxvYWQiLCJjcmVhdGVMTE1Qcm92aWRlciIsInByb3ZpZGVyIiwibW9kZSIsInNpbmdsZXRvbiIsImdldExMTVByb3ZpZGVyIiwiZm9yY2VOZXciLCJpc0Zha2VMTE1Qcm92aWRlciIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/llm/provider.js\n");

/***/ }),

/***/ "(rsc)/./utils/agentEnvelope.js":
/*!********************************!*\
  !*** ./utils/agentEnvelope.js ***!
  \********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst { randomUUID } = __webpack_require__(/*! crypto */ \"crypto\");\nconst { getAgentSchema } = __webpack_require__(/*! ./agentSchemas */ \"(rsc)/./utils/agentSchemas.js\");\nconst { validateAgentResponse } = __webpack_require__(/*! ./validateAgentResponse */ \"(rsc)/./utils/validateAgentResponse.js\");\nconst { buildHandoff } = __webpack_require__(/*! ./handoff */ \"(rsc)/./utils/handoff.js\");\nconst { getConfiguredProviderName, hasRealProviderCredentials } = __webpack_require__(/*! ../lib/llm/provider.js */ \"(rsc)/./lib/llm/provider.js\");\nconst makeRunId = ()=>{\n    if (typeof randomUUID === \"function\") {\n        return randomUUID();\n    }\n    const rand = Math.random().toString(36).slice(2, 8);\n    return `run_${Date.now()}_${rand}`;\n};\nconst deriveQualityChecks = (legacyMeta = {})=>{\n    const legacy = legacyMeta && legacyMeta.quality_checks ? legacyMeta.quality_checks : {};\n    const providerName = getConfiguredProviderName();\n    const withinLimits = typeof legacy.within_max_words === \"boolean\" ? legacy.within_max_words : typeof legacy.within_limits === \"boolean\" ? legacy.within_limits : true;\n    const noFabrication = typeof legacy.no_fabrication === \"boolean\" ? legacy.no_fabrication : typeof legacy.no_gray_scraping === \"boolean\" ? legacy.no_gray_scraping : true;\n    const dedupeOk = typeof legacy.dedupe_ok === \"boolean\" ? legacy.dedupe_ok : true;\n    const groundingOk = typeof legacy.grounded_claims_ok === \"boolean\" ? legacy.grounded_claims_ok : typeof legacy.grounding_ok === \"boolean\" ? legacy.grounding_ok : true;\n    const llmConnectedByEnv = providerName === \"real\" && hasRealProviderCredentials();\n    return {\n        no_fabrication: noFabrication,\n        within_limits: withinLimits,\n        dedupe_ok: dedupeOk,\n        grounding_ok: groundingOk,\n        llm_connected: typeof legacy.llm_connected === \"boolean\" ? legacy.llm_connected : llmConnectedByEnv,\n        schema_valid: true\n    };\n};\nconst unwrapLegacy = (payload)=>{\n    if (payload && payload.data && payload.meta) return payload.data;\n    return payload;\n};\nconst sanitizeInputEcho = (input)=>{\n    if (!input || typeof input !== \"object\") return input;\n    const clone = Array.isArray(input) ? [\n        ...input\n    ] : {\n        ...input\n    };\n    if (Array.isArray(clone)) return clone;\n    Object.keys(clone).forEach((key)=>{\n        if (key.startsWith(\"__\")) {\n            delete clone[key];\n        }\n    });\n    return clone;\n};\nconst wrapAgentOutput = ({ agentId, inputEcho, mode, legacyOutput, webStatsOverride, traceId })=>{\n    const data = legacyOutput || {};\n    const legacyMeta = data && data.meta ? data.meta : {};\n    const schema = getAgentSchema(agentId);\n    const validation = validateAgentResponse(data, schema);\n    const qualityChecks = deriveQualityChecks(legacyMeta);\n    qualityChecks.schema_valid = validation.ok;\n    const limitations = Array.isArray(legacyMeta.limitations) ? legacyMeta.limitations : [];\n    const assumptions = Array.isArray(legacyMeta.assumptions) ? legacyMeta.assumptions : [];\n    const warnings = Array.isArray(legacyMeta.warnings) ? legacyMeta.warnings : [];\n    const budgetApplied = legacyMeta && typeof legacyMeta.budget_applied === \"object\" ? legacyMeta.budget_applied : null;\n    const knowledgeUsed = legacyMeta && legacyMeta.knowledge_used || inputEcho && inputEcho.__knowledge_used || {\n        workspace_items: 0,\n        agent_items: 0,\n        top_ids: []\n    };\n    const web_stats = webStatsOverride || (legacyMeta && legacyMeta.web_stats ? legacyMeta.web_stats : null);\n    const handoff = buildHandoff(agentId, data);\n    const envelopeMeta = {\n        agent_id: agentId,\n        generated_at: new Date().toISOString(),\n        run_id: makeRunId(),\n        mode: mode || \"\",\n        input_echo: sanitizeInputEcho(inputEcho) || {},\n        quality_checks: qualityChecks,\n        limitations,\n        assumptions,\n        handoff,\n        web_stats,\n        knowledge_used: knowledgeUsed\n    };\n    if (warnings.length) {\n        envelopeMeta.warnings = warnings;\n    }\n    if (budgetApplied) {\n        envelopeMeta.budget_applied = budgetApplied;\n    }\n    const hasWebStats = web_stats && typeof web_stats === \"object\";\n    const trace_id = traceId || (hasWebStats ? envelopeMeta.run_id : undefined);\n    if (trace_id) {\n        envelopeMeta.trace_id = trace_id;\n    }\n    return {\n        data,\n        meta: envelopeMeta,\n        validation\n    };\n};\nmodule.exports = {\n    wrapAgentOutput,\n    unwrapLegacy\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsSUFBSUgsU0FBU2lCLE1BQU0sRUFBRTtRQUNuQk4sYUFBYVgsUUFBUSxHQUFHQTtJQUMxQjtJQUNBLElBQUlDLGVBQWU7UUFDakJVLGFBQWFULGNBQWMsR0FBR0Q7SUFDaEM7SUFFQSxNQUFNaUIsY0FBY1QsYUFBYSxPQUFPQSxjQUFjO0lBQ3RELE1BQU1VLFdBQVcxQixXQUFZeUIsQ0FBQUEsY0FBY1AsYUFBYUksTUFBTSxHQUFHSyxTQUFRO0lBQ3pFLElBQUlELFVBQVU7UUFDWlIsYUFBYVEsUUFBUSxHQUFHQTtJQUMxQjtJQUVBLE9BQU87UUFBRTVDO1FBQU1DLE1BQU1tQztRQUFjaEI7SUFBVztBQUNoRDtBQUVBMEIsT0FBT0MsT0FBTyxHQUFHO0lBQ2ZuQztJQUNBZDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYWdlbnRFbnZlbG9wZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IHJhbmRvbVVVSUQgfSA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5jb25zdCB7IGdldEFnZW50U2NoZW1hIH0gPSByZXF1aXJlKFwiLi9hZ2VudFNjaGVtYXNcIik7XG5jb25zdCB7IHZhbGlkYXRlQWdlbnRSZXNwb25zZSB9ID0gcmVxdWlyZShcIi4vdmFsaWRhdGVBZ2VudFJlc3BvbnNlXCIpO1xuY29uc3QgeyBidWlsZEhhbmRvZmYgfSA9IHJlcXVpcmUoXCIuL2hhbmRvZmZcIik7XG5jb25zdCB7XG4gIGdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUsXG4gIGhhc1JlYWxQcm92aWRlckNyZWRlbnRpYWxzXG59ID0gcmVxdWlyZShcIi4uL2xpYi9sbG0vcHJvdmlkZXIuanNcIik7XG5cbmNvbnN0IG1ha2VSdW5JZCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiByYW5kb21VVUlEID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcmFuZG9tVVVJRCgpO1xuICB9XG4gIGNvbnN0IHJhbmQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA4KTtcbiAgcmV0dXJuIGBydW5fJHtEYXRlLm5vdygpfV8ke3JhbmR9YDtcbn07XG5cbmNvbnN0IGRlcml2ZVF1YWxpdHlDaGVja3MgPSAobGVnYWN5TWV0YSA9IHt9KSA9PiB7XG4gIGNvbnN0IGxlZ2FjeSA9IGxlZ2FjeU1ldGEgJiYgbGVnYWN5TWV0YS5xdWFsaXR5X2NoZWNrcyA/IGxlZ2FjeU1ldGEucXVhbGl0eV9jaGVja3MgOiB7fTtcbiAgY29uc3QgcHJvdmlkZXJOYW1lID0gZ2V0Q29uZmlndXJlZFByb3ZpZGVyTmFtZSgpO1xuICBjb25zdCB3aXRoaW5MaW1pdHMgPVxuICAgIHR5cGVvZiBsZWdhY3kud2l0aGluX21heF93b3JkcyA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5LndpdGhpbl9tYXhfd29yZHNcbiAgICAgIDogdHlwZW9mIGxlZ2FjeS53aXRoaW5fbGltaXRzID09PSBcImJvb2xlYW5cIlxuICAgICAgICA/IGxlZ2FjeS53aXRoaW5fbGltaXRzXG4gICAgICAgIDogdHJ1ZTtcbiAgY29uc3Qgbm9GYWJyaWNhdGlvbiA9XG4gICAgdHlwZW9mIGxlZ2FjeS5ub19mYWJyaWNhdGlvbiA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5Lm5vX2ZhYnJpY2F0aW9uXG4gICAgICA6IHR5cGVvZiBsZWdhY3kubm9fZ3JheV9zY3JhcGluZyA9PT0gXCJib29sZWFuXCJcbiAgICAgICAgPyBsZWdhY3kubm9fZ3JheV9zY3JhcGluZ1xuICAgICAgICA6IHRydWU7XG4gIGNvbnN0IGRlZHVwZU9rID0gdHlwZW9mIGxlZ2FjeS5kZWR1cGVfb2sgPT09IFwiYm9vbGVhblwiID8gbGVnYWN5LmRlZHVwZV9vayA6IHRydWU7XG4gIGNvbnN0IGdyb3VuZGluZ09rID1cbiAgICB0eXBlb2YgbGVnYWN5Lmdyb3VuZGVkX2NsYWltc19vayA9PT0gXCJib29sZWFuXCJcbiAgICAgID8gbGVnYWN5Lmdyb3VuZGVkX2NsYWltc19va1xuICAgICAgOiB0eXBlb2YgbGVnYWN5Lmdyb3VuZGluZ19vayA9PT0gXCJib29sZWFuXCJcbiAgICAgICAgPyBsZWdhY3kuZ3JvdW5kaW5nX29rXG4gICAgICAgIDogdHJ1ZTtcbiAgY29uc3QgbGxtQ29ubmVjdGVkQnlFbnYgPSBwcm92aWRlck5hbWUgPT09IFwicmVhbFwiICYmIGhhc1JlYWxQcm92aWRlckNyZWRlbnRpYWxzKCk7XG4gIHJldHVybiB7XG4gICAgbm9fZmFicmljYXRpb246IG5vRmFicmljYXRpb24sXG4gICAgd2l0aGluX2xpbWl0czogd2l0aGluTGltaXRzLFxuICAgIGRlZHVwZV9vazogZGVkdXBlT2ssXG4gICAgZ3JvdW5kaW5nX29rOiBncm91bmRpbmdPayxcbiAgICBsbG1fY29ubmVjdGVkOlxuICAgICAgdHlwZW9mIGxlZ2FjeS5sbG1fY29ubmVjdGVkID09PSBcImJvb2xlYW5cIlxuICAgICAgICA/IGxlZ2FjeS5sbG1fY29ubmVjdGVkXG4gICAgICAgIDogbGxtQ29ubmVjdGVkQnlFbnYsXG4gICAgc2NoZW1hX3ZhbGlkOiB0cnVlXG4gIH07XG59O1xuXG5jb25zdCB1bndyYXBMZWdhY3kgPSAocGF5bG9hZCkgPT4ge1xuICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLmRhdGEgJiYgcGF5bG9hZC5tZXRhKSByZXR1cm4gcGF5bG9hZC5kYXRhO1xuICByZXR1cm4gcGF5bG9hZDtcbn07XG5cbmNvbnN0IHNhbml0aXplSW5wdXRFY2hvID0gKGlucHV0KSA9PiB7XG4gIGlmICghaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiKSByZXR1cm4gaW5wdXQ7XG4gIGNvbnN0IGNsb25lID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBbLi4uaW5wdXRdIDogeyAuLi5pbnB1dCB9O1xuICBpZiAoQXJyYXkuaXNBcnJheShjbG9uZSkpIHJldHVybiBjbG9uZTtcbiAgT2JqZWN0LmtleXMoY2xvbmUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fXCIpKSB7XG4gICAgICBkZWxldGUgY2xvbmVba2V5XTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xvbmU7XG59O1xuXG5jb25zdCB3cmFwQWdlbnRPdXRwdXQgPSAoe1xuICBhZ2VudElkLFxuICBpbnB1dEVjaG8sXG4gIG1vZGUsXG4gIGxlZ2FjeU91dHB1dCxcbiAgd2ViU3RhdHNPdmVycmlkZSxcbiAgdHJhY2VJZFxufSkgPT4ge1xuICBjb25zdCBkYXRhID0gbGVnYWN5T3V0cHV0IHx8IHt9O1xuICBjb25zdCBsZWdhY3lNZXRhID0gZGF0YSAmJiBkYXRhLm1ldGEgPyBkYXRhLm1ldGEgOiB7fTtcbiAgY29uc3Qgc2NoZW1hID0gZ2V0QWdlbnRTY2hlbWEoYWdlbnRJZCk7XG4gIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZUFnZW50UmVzcG9uc2UoZGF0YSwgc2NoZW1hKTtcblxuICBjb25zdCBxdWFsaXR5Q2hlY2tzID0gZGVyaXZlUXVhbGl0eUNoZWNrcyhsZWdhY3lNZXRhKTtcbiAgcXVhbGl0eUNoZWNrcy5zY2hlbWFfdmFsaWQgPSB2YWxpZGF0aW9uLm9rO1xuXG4gIGNvbnN0IGxpbWl0YXRpb25zID0gQXJyYXkuaXNBcnJheShsZWdhY3lNZXRhLmxpbWl0YXRpb25zKSA/IGxlZ2FjeU1ldGEubGltaXRhdGlvbnMgOiBbXTtcbiAgY29uc3QgYXNzdW1wdGlvbnMgPSBBcnJheS5pc0FycmF5KGxlZ2FjeU1ldGEuYXNzdW1wdGlvbnMpID8gbGVnYWN5TWV0YS5hc3N1bXB0aW9ucyA6IFtdO1xuICBjb25zdCB3YXJuaW5ncyA9IEFycmF5LmlzQXJyYXkobGVnYWN5TWV0YS53YXJuaW5ncykgPyBsZWdhY3lNZXRhLndhcm5pbmdzIDogW107XG4gIGNvbnN0IGJ1ZGdldEFwcGxpZWQgPVxuICAgIGxlZ2FjeU1ldGEgJiYgdHlwZW9mIGxlZ2FjeU1ldGEuYnVkZ2V0X2FwcGxpZWQgPT09IFwib2JqZWN0XCJcbiAgICAgID8gbGVnYWN5TWV0YS5idWRnZXRfYXBwbGllZFxuICAgICAgOiBudWxsO1xuICBjb25zdCBrbm93bGVkZ2VVc2VkID1cbiAgICAobGVnYWN5TWV0YSAmJiBsZWdhY3lNZXRhLmtub3dsZWRnZV91c2VkKSB8fFxuICAgIChpbnB1dEVjaG8gJiYgaW5wdXRFY2hvLl9fa25vd2xlZGdlX3VzZWQpIHx8XG4gICAgeyB3b3Jrc3BhY2VfaXRlbXM6IDAsIGFnZW50X2l0ZW1zOiAwLCB0b3BfaWRzOiBbXSB9O1xuXG4gIGNvbnN0IHdlYl9zdGF0cyA9XG4gICAgd2ViU3RhdHNPdmVycmlkZSB8fCAobGVnYWN5TWV0YSAmJiBsZWdhY3lNZXRhLndlYl9zdGF0cyA/IGxlZ2FjeU1ldGEud2ViX3N0YXRzIDogbnVsbCk7XG5cbiAgY29uc3QgaGFuZG9mZiA9IGJ1aWxkSGFuZG9mZihhZ2VudElkLCBkYXRhKTtcblxuICBjb25zdCBlbnZlbG9wZU1ldGEgPSB7XG4gICAgYWdlbnRfaWQ6IGFnZW50SWQsXG4gICAgZ2VuZXJhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgcnVuX2lkOiBtYWtlUnVuSWQoKSxcbiAgICBtb2RlOiBtb2RlIHx8IFwiXCIsXG4gICAgaW5wdXRfZWNobzogc2FuaXRpemVJbnB1dEVjaG8oaW5wdXRFY2hvKSB8fCB7fSxcbiAgICBxdWFsaXR5X2NoZWNrczogcXVhbGl0eUNoZWNrcyxcbiAgICBsaW1pdGF0aW9ucyxcbiAgICBhc3N1bXB0aW9ucyxcbiAgICBoYW5kb2ZmLFxuICAgIHdlYl9zdGF0cyxcbiAgICBrbm93bGVkZ2VfdXNlZDoga25vd2xlZGdlVXNlZFxuICB9O1xuXG4gIGlmICh3YXJuaW5ncy5sZW5ndGgpIHtcbiAgICBlbnZlbG9wZU1ldGEud2FybmluZ3MgPSB3YXJuaW5ncztcbiAgfVxuICBpZiAoYnVkZ2V0QXBwbGllZCkge1xuICAgIGVudmVsb3BlTWV0YS5idWRnZXRfYXBwbGllZCA9IGJ1ZGdldEFwcGxpZWQ7XG4gIH1cblxuICBjb25zdCBoYXNXZWJTdGF0cyA9IHdlYl9zdGF0cyAmJiB0eXBlb2Ygd2ViX3N0YXRzID09PSBcIm9iamVjdFwiO1xuICBjb25zdCB0cmFjZV9pZCA9IHRyYWNlSWQgfHwgKGhhc1dlYlN0YXRzID8gZW52ZWxvcGVNZXRhLnJ1bl9pZCA6IHVuZGVmaW5lZCk7XG4gIGlmICh0cmFjZV9pZCkge1xuICAgIGVudmVsb3BlTWV0YS50cmFjZV9pZCA9IHRyYWNlX2lkO1xuICB9XG5cbiAgcmV0dXJuIHsgZGF0YSwgbWV0YTogZW52ZWxvcGVNZXRhLCB2YWxpZGF0aW9uIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgd3JhcEFnZW50T3V0cHV0LFxuICB1bndyYXBMZWdhY3lcbn07XG4iXSwibmFtZXMiOlsicmFuZG9tVVVJRCIsInJlcXVpcmUiLCJnZXRBZ2VudFNjaGVtYSIsInZhbGlkYXRlQWdlbnRSZXNwb25zZSIsImJ1aWxkSGFuZG9mZiIsImdldENvbmZpZ3VyZWRQcm92aWRlck5hbWUiLCJoYXNSZWFsUHJvdmlkZXJDcmVkZW50aWFscyIsIm1ha2VSdW5JZCIsInJhbmQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsIkRhdGUiLCJub3ciLCJkZXJpdmVRdWFsaXR5Q2hlY2tzIiwibGVnYWN5TWV0YSIsImxlZ2FjeSIsInF1YWxpdHlfY2hlY2tzIiwicHJvdmlkZXJOYW1lIiwid2l0aGluTGltaXRzIiwid2l0aGluX21heF93b3JkcyIsIndpdGhpbl9saW1pdHMiLCJub0ZhYnJpY2F0aW9uIiwibm9fZmFicmljYXRpb24iLCJub19ncmF5X3NjcmFwaW5nIiwiZGVkdXBlT2siLCJkZWR1cGVfb2siLCJncm91bmRpbmdPayIsImdyb3VuZGVkX2NsYWltc19vayIsImdyb3VuZGluZ19vayIsImxsbUNvbm5lY3RlZEJ5RW52IiwibGxtX2Nvbm5lY3RlZCIsInNjaGVtYV92YWxpZCIsInVud3JhcExlZ2FjeSIsInBheWxvYWQiLCJkYXRhIiwibWV0YSIsInNhbml0aXplSW5wdXRFY2hvIiwiaW5wdXQiLCJjbG9uZSIsIkFycmF5IiwiaXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic3RhcnRzV2l0aCIsIndyYXBBZ2VudE91dHB1dCIsImFnZW50SWQiLCJpbnB1dEVjaG8iLCJtb2RlIiwibGVnYWN5T3V0cHV0Iiwid2ViU3RhdHNPdmVycmlkZSIsInRyYWNlSWQiLCJzY2hlbWEiLCJ2YWxpZGF0aW9uIiwicXVhbGl0eUNoZWNrcyIsIm9rIiwibGltaXRhdGlvbnMiLCJhc3N1bXB0aW9ucyIsIndhcm5pbmdzIiwiYnVkZ2V0QXBwbGllZCIsImJ1ZGdldF9hcHBsaWVkIiwia25vd2xlZGdlVXNlZCIsImtub3dsZWRnZV91c2VkIiwiX19rbm93bGVkZ2VfdXNlZCIsIndvcmtzcGFjZV9pdGVtcyIsImFnZW50X2l0ZW1zIiwidG9wX2lkcyIsIndlYl9zdGF0cyIsImhhbmRvZmYiLCJlbnZlbG9wZU1ldGEiLCJhZ2VudF9pZCIsImdlbmVyYXRlZF9hdCIsInRvSVNPU3RyaW5nIiwicnVuX2lkIiwiaW5wdXRfZWNobyIsImxlbmd0aCIsImhhc1dlYlN0YXRzIiwidHJhY2VfaWQiLCJ1bmRlZmluZWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./utils/agentEnvelope.js\n");

/***/ }),

/***/ "(rsc)/./utils/agentSchemas.js":
/*!*******************************!*\
  !*** ./utils/agentSchemas.js ***!
  \*******************************/
/***/ ((module) => {

eval("\nconst platonSchema = {\n    required: {\n        segments: \"array\",\n        company_candidates: \"array\",\n        meta: \"object\"\n    }\n};\nconst agentSchemas = {\n    \"platon-prospect-research-ru\": platonSchema,\n    platon: platonSchema,\n    \"anatoly-account-research-ru\": {\n        required: {\n            account_card: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"timofey-competitor-analysis-ru\": {\n        required: {\n            competitors: \"array\",\n            comparison_table: \"array\",\n            win_angles: \"array\",\n            agentos_positioning: \"object\",\n            offers: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"maxim-local-leads-ru\": {\n        required: {\n            leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"fedor-b2b-leads-ru\": {\n        required: {\n            leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"artem-hot-leads-ru\": {\n        required: {\n            hot_leads: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"leonid-outreach-dm-ru\": {\n        required: {\n            dm_pack: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"emelyan-cold-email-ru\": {\n        required: {\n            email_sequences: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"boris-bdr-operator-ru\": {\n        required: {\n            bdr_table: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"pavel-reels-analysis-ru\": {\n        required: {\n            analysis: \"object\",\n            script_skeleton: \"object\",\n            improvements: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"trofim-shorts-analogs-ru\": {\n        required: {\n            formats: \"array\",\n            recommendations: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"irina-content-ideation-ru\": {\n        required: {\n            pillars: \"array\",\n            topics: \"array\",\n            cta_bank: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"hariton-viral-hooks-ru\": {\n        required: {\n            hooks: \"array\",\n            posts: \"array\",\n            scripts: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"kostya-image-generation-ru\": {\n        required: {\n            concepts: \"array\",\n            meta: \"object\"\n        }\n    },\n    \"seva-content-repurposing-ru\": {\n        required: {\n            pack: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"mitya-workflow-diagram-ru\": {\n        required: {\n            diagram: \"object\",\n            landing_text: \"object\",\n            deck_script: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-ceo-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-cto-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-cfo-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    },\n    \"board-chair-ru\": {\n        required: {\n            review: \"object\",\n            meta: \"object\"\n        }\n    }\n};\nconst getAgentSchema = (agentId)=>agentSchemas[agentId] || null;\nmodule.exports = {\n    agentSchemas,\n    getAgentSchema\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9hZ2VudFNjaGVtYXMuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLGVBQWU7SUFDbkJDLFVBQVU7UUFBRUMsVUFBVTtRQUFTQyxvQkFBb0I7UUFBU0MsTUFBTTtJQUFTO0FBQzdFO0FBRUEsTUFBTUMsZUFBZTtJQUNuQiwrQkFBK0JMO0lBQy9CTSxRQUFRTjtJQUNSLCtCQUErQjtRQUM3QkMsVUFBVTtZQUFFTSxjQUFjO1lBQVVILE1BQU07UUFBUztJQUNyRDtJQUNBLGtDQUFrQztRQUNoQ0gsVUFBVTtZQUNSTyxhQUFhO1lBQ2JDLGtCQUFrQjtZQUNsQkMsWUFBWTtZQUNaQyxxQkFBcUI7WUFDckJDLFFBQVE7WUFDUlIsTUFBTTtRQUNSO0lBQ0Y7SUFDQSx3QkFBd0I7UUFDdEJILFVBQVU7WUFBRVksT0FBTztZQUFTVCxNQUFNO1FBQVM7SUFDN0M7SUFDQSxzQkFBc0I7UUFDcEJILFVBQVU7WUFBRVksT0FBTztZQUFTVCxNQUFNO1FBQVM7SUFDN0M7SUFDQSxzQkFBc0I7UUFDcEJILFVBQVU7WUFBRWEsV0FBVztZQUFTVixNQUFNO1FBQVM7SUFDakQ7SUFDQSx5QkFBeUI7UUFDdkJILFVBQVU7WUFBRWMsU0FBUztZQUFVWCxNQUFNO1FBQVM7SUFDaEQ7SUFDQSx5QkFBeUI7UUFDdkJILFVBQVU7WUFBRWUsaUJBQWlCO1lBQVNaLE1BQU07UUFBUztJQUN2RDtJQUNBLHlCQUF5QjtRQUN2QkgsVUFBVTtZQUFFZ0IsV0FBVztZQUFTYixNQUFNO1FBQVM7SUFDakQ7SUFDQSwyQkFBMkI7UUFDekJILFVBQVU7WUFBRWlCLFVBQVU7WUFBVUMsaUJBQWlCO1lBQVVDLGNBQWM7WUFBVWhCLE1BQU07UUFBUztJQUNwRztJQUNBLDRCQUE0QjtRQUMxQkgsVUFBVTtZQUFFb0IsU0FBUztZQUFTQyxpQkFBaUI7WUFBVWxCLE1BQU07UUFBUztJQUMxRTtJQUNBLDZCQUE2QjtRQUMzQkgsVUFBVTtZQUFFc0IsU0FBUztZQUFTQyxRQUFRO1lBQVNDLFVBQVU7WUFBVXJCLE1BQU07UUFBUztJQUNwRjtJQUNBLDBCQUEwQjtRQUN4QkgsVUFBVTtZQUFFeUIsT0FBTztZQUFTQyxPQUFPO1lBQVNDLFNBQVM7WUFBU3hCLE1BQU07UUFBUztJQUMvRTtJQUNBLDhCQUE4QjtRQUM1QkgsVUFBVTtZQUFFNEIsVUFBVTtZQUFTekIsTUFBTTtRQUFTO0lBQ2hEO0lBQ0EsK0JBQStCO1FBQzdCSCxVQUFVO1lBQUU2QixNQUFNO1lBQVUxQixNQUFNO1FBQVM7SUFDN0M7SUFDQSw2QkFBNkI7UUFDM0JILFVBQVU7WUFBRThCLFNBQVM7WUFBVUMsY0FBYztZQUFVQyxhQUFhO1lBQVU3QixNQUFNO1FBQVM7SUFDL0Y7SUFDQSxnQkFBZ0I7UUFDZEgsVUFBVTtZQUFFaUMsUUFBUTtZQUFVOUIsTUFBTTtRQUFTO0lBQy9DO0lBQ0EsZ0JBQWdCO1FBQ2RILFVBQVU7WUFBRWlDLFFBQVE7WUFBVTlCLE1BQU07UUFBUztJQUMvQztJQUNBLGdCQUFnQjtRQUNkSCxVQUFVO1lBQUVpQyxRQUFRO1lBQVU5QixNQUFNO1FBQVM7SUFDL0M7SUFDQSxrQkFBa0I7UUFDaEJILFVBQVU7WUFBRWlDLFFBQVE7WUFBVTlCLE1BQU07UUFBUztJQUMvQztBQUNGO0FBRUEsTUFBTStCLGlCQUFpQixDQUFDQyxVQUFZL0IsWUFBWSxDQUFDK0IsUUFBUSxJQUFJO0FBRTdEQyxPQUFPQyxPQUFPLEdBQUc7SUFBRWpDO0lBQWM4QjtBQUFlIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYWdlbnRTY2hlbWFzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHBsYXRvblNjaGVtYSA9IHtcbiAgcmVxdWlyZWQ6IHsgc2VnbWVudHM6IFwiYXJyYXlcIiwgY29tcGFueV9jYW5kaWRhdGVzOiBcImFycmF5XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxufTtcblxuY29uc3QgYWdlbnRTY2hlbWFzID0ge1xuICBcInBsYXRvbi1wcm9zcGVjdC1yZXNlYXJjaC1ydVwiOiBwbGF0b25TY2hlbWEsXG4gIHBsYXRvbjogcGxhdG9uU2NoZW1hLFxuICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgYWNjb3VudF9jYXJkOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJ0aW1vZmV5LWNvbXBldGl0b3ItYW5hbHlzaXMtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7XG4gICAgICBjb21wZXRpdG9yczogXCJhcnJheVwiLFxuICAgICAgY29tcGFyaXNvbl90YWJsZTogXCJhcnJheVwiLFxuICAgICAgd2luX2FuZ2xlczogXCJhcnJheVwiLFxuICAgICAgYWdlbnRvc19wb3NpdGlvbmluZzogXCJvYmplY3RcIixcbiAgICAgIG9mZmVyczogXCJvYmplY3RcIixcbiAgICAgIG1ldGE6IFwib2JqZWN0XCJcbiAgICB9XG4gIH0sXG4gIFwibWF4aW0tbG9jYWwtbGVhZHMtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGxlYWRzOiBcImFycmF5XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxuICB9LFxuICBcImZlZG9yLWIyYi1sZWFkcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgbGVhZHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiYXJ0ZW0taG90LWxlYWRzLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBob3RfbGVhZHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBkbV9wYWNrOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGVtYWlsX3NlcXVlbmNlczogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGJkcl90YWJsZTogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJwYXZlbC1yZWVscy1hbmFseXNpcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgYW5hbHlzaXM6IFwib2JqZWN0XCIsIHNjcmlwdF9za2VsZXRvbjogXCJvYmplY3RcIiwgaW1wcm92ZW1lbnRzOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJ0cm9maW0tc2hvcnRzLWFuYWxvZ3MtcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IGZvcm1hdHM6IFwiYXJyYXlcIiwgcmVjb21tZW5kYXRpb25zOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJpcmluYS1jb250ZW50LWlkZWF0aW9uLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBwaWxsYXJzOiBcImFycmF5XCIsIHRvcGljczogXCJhcnJheVwiLCBjdGFfYmFuazogXCJvYmplY3RcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgaG9va3M6IFwiYXJyYXlcIiwgcG9zdHM6IFwiYXJyYXlcIiwgc2NyaXB0czogXCJhcnJheVwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgY29uY2VwdHM6IFwiYXJyYXlcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwic2V2YS1jb250ZW50LXJlcHVycG9zaW5nLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBwYWNrOiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJtaXR5YS13b3JrZmxvdy1kaWFncmFtLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyBkaWFncmFtOiBcIm9iamVjdFwiLCBsYW5kaW5nX3RleHQ6IFwib2JqZWN0XCIsIGRlY2tfc2NyaXB0OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib2FyZC1jZW8tcnVcIjoge1xuICAgIHJlcXVpcmVkOiB7IHJldmlldzogXCJvYmplY3RcIiwgbWV0YTogXCJvYmplY3RcIiB9XG4gIH0sXG4gIFwiYm9hcmQtY3RvLXJ1XCI6IHtcbiAgICByZXF1aXJlZDogeyByZXZpZXc6IFwib2JqZWN0XCIsIG1ldGE6IFwib2JqZWN0XCIgfVxuICB9LFxuICBcImJvYXJkLWNmby1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgcmV2aWV3OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfSxcbiAgXCJib2FyZC1jaGFpci1ydVwiOiB7XG4gICAgcmVxdWlyZWQ6IHsgcmV2aWV3OiBcIm9iamVjdFwiLCBtZXRhOiBcIm9iamVjdFwiIH1cbiAgfVxufTtcblxuY29uc3QgZ2V0QWdlbnRTY2hlbWEgPSAoYWdlbnRJZCkgPT4gYWdlbnRTY2hlbWFzW2FnZW50SWRdIHx8IG51bGw7XG5cbm1vZHVsZS5leHBvcnRzID0geyBhZ2VudFNjaGVtYXMsIGdldEFnZW50U2NoZW1hIH07XG4iXSwibmFtZXMiOlsicGxhdG9uU2NoZW1hIiwicmVxdWlyZWQiLCJzZWdtZW50cyIsImNvbXBhbnlfY2FuZGlkYXRlcyIsIm1ldGEiLCJhZ2VudFNjaGVtYXMiLCJwbGF0b24iLCJhY2NvdW50X2NhcmQiLCJjb21wZXRpdG9ycyIsImNvbXBhcmlzb25fdGFibGUiLCJ3aW5fYW5nbGVzIiwiYWdlbnRvc19wb3NpdGlvbmluZyIsIm9mZmVycyIsImxlYWRzIiwiaG90X2xlYWRzIiwiZG1fcGFjayIsImVtYWlsX3NlcXVlbmNlcyIsImJkcl90YWJsZSIsImFuYWx5c2lzIiwic2NyaXB0X3NrZWxldG9uIiwiaW1wcm92ZW1lbnRzIiwiZm9ybWF0cyIsInJlY29tbWVuZGF0aW9ucyIsInBpbGxhcnMiLCJ0b3BpY3MiLCJjdGFfYmFuayIsImhvb2tzIiwicG9zdHMiLCJzY3JpcHRzIiwiY29uY2VwdHMiLCJwYWNrIiwiZGlhZ3JhbSIsImxhbmRpbmdfdGV4dCIsImRlY2tfc2NyaXB0IiwicmV2aWV3IiwiZ2V0QWdlbnRTY2hlbWEiLCJhZ2VudElkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/agentSchemas.js\n");

/***/ }),

/***/ "(rsc)/./utils/budget.js":
/*!*************************!*\
  !*** ./utils/budget.js ***!
  \*************************/
/***/ ((module) => {

eval("\nconst isFiniteNumber = (value)=>typeof value === \"number\" && Number.isFinite(value);\nconst getPath = (obj, path)=>{\n    if (!obj || !Array.isArray(path)) return undefined;\n    return path.reduce((acc, key)=>acc && typeof acc === \"object\" ? acc[key] : undefined, obj);\n};\nconst setPath = (obj, path, value)=>{\n    if (!obj || !Array.isArray(path)) return;\n    let cursor = obj;\n    for(let i = 0; i < path.length - 1; i += 1){\n        const key = path[i];\n        if (!cursor[key] || typeof cursor[key] !== \"object\") {\n            cursor[key] = {};\n        }\n        cursor = cursor[key];\n    }\n    cursor[path[path.length - 1]] = value;\n};\nconst clampValue = (current, maxValue)=>{\n    if (!isFiniteNumber(maxValue)) return current;\n    if (!isFiniteNumber(current)) return Math.round(maxValue);\n    return Math.min(current, maxValue);\n};\nconst applyBudget = (input, budget, options = {})=>{\n    const applied = {};\n    const warnings = new Set();\n    if (!budget || typeof budget !== \"object\") {\n        return {\n            budget_applied: null,\n            warnings: []\n        };\n    }\n    const { maxWebRequestsPath, maxItemsPaths = [], maxWordsPath } = options;\n    if (isFiniteNumber(budget.max_web_requests) && maxWebRequestsPath) {\n        const current = getPath(input, maxWebRequestsPath);\n        const clamped = clampValue(current, budget.max_web_requests);\n        if (isFiniteNumber(current) && clamped < current) warnings.add(\"budget_clamped\");\n        setPath(input, maxWebRequestsPath, Math.round(clamped));\n        applied.max_web_requests = Math.round(clamped);\n    }\n    if (isFiniteNumber(budget.max_items) && Array.isArray(maxItemsPaths) && maxItemsPaths.length) {\n        maxItemsPaths.forEach((path)=>{\n            const current = getPath(input, path);\n            const clamped = clampValue(current, budget.max_items);\n            if (isFiniteNumber(current) && clamped < current) warnings.add(\"budget_clamped\");\n            setPath(input, path, Math.round(clamped));\n        });\n        applied.max_items = Math.round(budget.max_items);\n    }\n    if (isFiniteNumber(budget.max_words) && maxWordsPath) {\n        const current = getPath(input, maxWordsPath);\n        const clamped = clampValue(current, budget.max_words);\n        if (isFiniteNumber(current) && clamped < current) warnings.add(\"budget_clamped\");\n        setPath(input, maxWordsPath, Math.round(clamped));\n        applied.max_words = Math.round(clamped);\n    }\n    return {\n        budget_applied: Object.keys(applied).length ? applied : null,\n        warnings: Array.from(warnings)\n    };\n};\nconst applyBudgetMeta = (meta, input)=>{\n    if (!meta || typeof meta !== \"object\" || !input || typeof input !== \"object\") return;\n    if (input.budget_applied) {\n        meta.budget_applied = input.budget_applied;\n    }\n    if (Array.isArray(input.budget_warnings) && input.budget_warnings.length) {\n        if (!Array.isArray(meta.warnings)) {\n            meta.warnings = [];\n        }\n        input.budget_warnings.forEach((warning)=>{\n            if (!meta.warnings.includes(warning)) meta.warnings.push(warning);\n        });\n    }\n};\nmodule.exports = {\n    applyBudget,\n    applyBudgetMeta\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVkLFFBQVFvQixPQUFPUztRQUMvQixNQUFNRSxVQUFVbEIsV0FBV0MsU0FBU08sT0FBT2MsU0FBUztRQUNwRCxJQUFJdkMsZUFBZWtCLFlBQVlpQixVQUFVakIsU0FBU1UsU0FBU1EsR0FBRyxDQUFDO1FBQy9EdkIsUUFBUVcsT0FBT1MsY0FBY2IsS0FBS0MsS0FBSyxDQUFDYztRQUN4Q1IsUUFBUVksU0FBUyxHQUFHbkIsS0FBS0MsS0FBSyxDQUFDYztJQUNqQztJQUVBLE9BQU87UUFDTEwsZ0JBQWdCVSxPQUFPQyxJQUFJLENBQUNkLFNBQVNYLE1BQU0sR0FBR1csVUFBVTtRQUN4REMsVUFBVXJCLE1BQU1tQyxJQUFJLENBQUNkO0lBQ3ZCO0FBQ0Y7QUFFQSxNQUFNZSxrQkFBa0IsQ0FBQ0MsTUFBTXBCO0lBQzdCLElBQUksQ0FBQ29CLFFBQVEsT0FBT0EsU0FBUyxZQUFZLENBQUNwQixTQUFTLE9BQU9BLFVBQVUsVUFBVTtJQUM5RSxJQUFJQSxNQUFNTSxjQUFjLEVBQUU7UUFDeEJjLEtBQUtkLGNBQWMsR0FBR04sTUFBTU0sY0FBYztJQUM1QztJQUNBLElBQUl2QixNQUFNQyxPQUFPLENBQUNnQixNQUFNcUIsZUFBZSxLQUFLckIsTUFBTXFCLGVBQWUsQ0FBQzdCLE1BQU0sRUFBRTtRQUN4RSxJQUFJLENBQUNULE1BQU1DLE9BQU8sQ0FBQ29DLEtBQUtoQixRQUFRLEdBQUc7WUFDakNnQixLQUFLaEIsUUFBUSxHQUFHLEVBQUU7UUFDcEI7UUFDQUosTUFBTXFCLGVBQWUsQ0FBQ1AsT0FBTyxDQUFDLENBQUNRO1lBQzdCLElBQUksQ0FBQ0YsS0FBS2hCLFFBQVEsQ0FBQ21CLFFBQVEsQ0FBQ0QsVUFBVUYsS0FBS2hCLFFBQVEsQ0FBQ29CLElBQUksQ0FBQ0Y7UUFDM0Q7SUFDRjtBQUNGO0FBRUFHLE9BQU9DLE9BQU8sR0FBRztJQUFFM0I7SUFBYW9CO0FBQWdCIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvYnVkZ2V0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGlzRmluaXRlTnVtYmVyID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcblxuY29uc3QgZ2V0UGF0aCA9IChvYmosIHBhdGgpID0+IHtcbiAgaWYgKCFvYmogfHwgIUFycmF5LmlzQXJyYXkocGF0aCkpIHJldHVybiB1bmRlZmluZWQ7XG4gIHJldHVybiBwYXRoLnJlZHVjZSgoYWNjLCBrZXkpID0+IChhY2MgJiYgdHlwZW9mIGFjYyA9PT0gXCJvYmplY3RcIiA/IGFjY1trZXldIDogdW5kZWZpbmVkKSwgb2JqKTtcbn07XG5cbmNvbnN0IHNldFBhdGggPSAob2JqLCBwYXRoLCB2YWx1ZSkgPT4ge1xuICBpZiAoIW9iaiB8fCAhQXJyYXkuaXNBcnJheShwYXRoKSkgcmV0dXJuO1xuICBsZXQgY3Vyc29yID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoIC0gMTsgaSArPSAxKSB7XG4gICAgY29uc3Qga2V5ID0gcGF0aFtpXTtcbiAgICBpZiAoIWN1cnNvcltrZXldIHx8IHR5cGVvZiBjdXJzb3Jba2V5XSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgY3Vyc29yW2tleV0gPSB7fTtcbiAgICB9XG4gICAgY3Vyc29yID0gY3Vyc29yW2tleV07XG4gIH1cbiAgY3Vyc29yW3BhdGhbcGF0aC5sZW5ndGggLSAxXV0gPSB2YWx1ZTtcbn07XG5cbmNvbnN0IGNsYW1wVmFsdWUgPSAoY3VycmVudCwgbWF4VmFsdWUpID0+IHtcbiAgaWYgKCFpc0Zpbml0ZU51bWJlcihtYXhWYWx1ZSkpIHJldHVybiBjdXJyZW50O1xuICBpZiAoIWlzRmluaXRlTnVtYmVyKGN1cnJlbnQpKSByZXR1cm4gTWF0aC5yb3VuZChtYXhWYWx1ZSk7XG4gIHJldHVybiBNYXRoLm1pbihjdXJyZW50LCBtYXhWYWx1ZSk7XG59O1xuXG5jb25zdCBhcHBseUJ1ZGdldCA9IChpbnB1dCwgYnVkZ2V0LCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgYXBwbGllZCA9IHt9O1xuICBjb25zdCB3YXJuaW5ncyA9IG5ldyBTZXQoKTtcbiAgaWYgKCFidWRnZXQgfHwgdHlwZW9mIGJ1ZGdldCAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiB7IGJ1ZGdldF9hcHBsaWVkOiBudWxsLCB3YXJuaW5nczogW10gfTtcbiAgfVxuXG4gIGNvbnN0IHsgbWF4V2ViUmVxdWVzdHNQYXRoLCBtYXhJdGVtc1BhdGhzID0gW10sIG1heFdvcmRzUGF0aCB9ID0gb3B0aW9ucztcblxuICBpZiAoaXNGaW5pdGVOdW1iZXIoYnVkZ2V0Lm1heF93ZWJfcmVxdWVzdHMpICYmIG1heFdlYlJlcXVlc3RzUGF0aCkge1xuICAgIGNvbnN0IGN1cnJlbnQgPSBnZXRQYXRoKGlucHV0LCBtYXhXZWJSZXF1ZXN0c1BhdGgpO1xuICAgIGNvbnN0IGNsYW1wZWQgPSBjbGFtcFZhbHVlKGN1cnJlbnQsIGJ1ZGdldC5tYXhfd2ViX3JlcXVlc3RzKTtcbiAgICBpZiAoaXNGaW5pdGVOdW1iZXIoY3VycmVudCkgJiYgY2xhbXBlZCA8IGN1cnJlbnQpIHdhcm5pbmdzLmFkZChcImJ1ZGdldF9jbGFtcGVkXCIpO1xuICAgIHNldFBhdGgoaW5wdXQsIG1heFdlYlJlcXVlc3RzUGF0aCwgTWF0aC5yb3VuZChjbGFtcGVkKSk7XG4gICAgYXBwbGllZC5tYXhfd2ViX3JlcXVlc3RzID0gTWF0aC5yb3VuZChjbGFtcGVkKTtcbiAgfVxuXG4gIGlmIChpc0Zpbml0ZU51bWJlcihidWRnZXQubWF4X2l0ZW1zKSAmJiBBcnJheS5pc0FycmF5KG1heEl0ZW1zUGF0aHMpICYmIG1heEl0ZW1zUGF0aHMubGVuZ3RoKSB7XG4gICAgbWF4SXRlbXNQYXRocy5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gZ2V0UGF0aChpbnB1dCwgcGF0aCk7XG4gICAgICBjb25zdCBjbGFtcGVkID0gY2xhbXBWYWx1ZShjdXJyZW50LCBidWRnZXQubWF4X2l0ZW1zKTtcbiAgICAgIGlmIChpc0Zpbml0ZU51bWJlcihjdXJyZW50KSAmJiBjbGFtcGVkIDwgY3VycmVudCkgd2FybmluZ3MuYWRkKFwiYnVkZ2V0X2NsYW1wZWRcIik7XG4gICAgICBzZXRQYXRoKGlucHV0LCBwYXRoLCBNYXRoLnJvdW5kKGNsYW1wZWQpKTtcbiAgICB9KTtcbiAgICBhcHBsaWVkLm1heF9pdGVtcyA9IE1hdGgucm91bmQoYnVkZ2V0Lm1heF9pdGVtcyk7XG4gIH1cblxuICBpZiAoaXNGaW5pdGVOdW1iZXIoYnVkZ2V0Lm1heF93b3JkcykgJiYgbWF4V29yZHNQYXRoKSB7XG4gICAgY29uc3QgY3VycmVudCA9IGdldFBhdGgoaW5wdXQsIG1heFdvcmRzUGF0aCk7XG4gICAgY29uc3QgY2xhbXBlZCA9IGNsYW1wVmFsdWUoY3VycmVudCwgYnVkZ2V0Lm1heF93b3Jkcyk7XG4gICAgaWYgKGlzRmluaXRlTnVtYmVyKGN1cnJlbnQpICYmIGNsYW1wZWQgPCBjdXJyZW50KSB3YXJuaW5ncy5hZGQoXCJidWRnZXRfY2xhbXBlZFwiKTtcbiAgICBzZXRQYXRoKGlucHV0LCBtYXhXb3Jkc1BhdGgsIE1hdGgucm91bmQoY2xhbXBlZCkpO1xuICAgIGFwcGxpZWQubWF4X3dvcmRzID0gTWF0aC5yb3VuZChjbGFtcGVkKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYnVkZ2V0X2FwcGxpZWQ6IE9iamVjdC5rZXlzKGFwcGxpZWQpLmxlbmd0aCA/IGFwcGxpZWQgOiBudWxsLFxuICAgIHdhcm5pbmdzOiBBcnJheS5mcm9tKHdhcm5pbmdzKVxuICB9O1xufTtcblxuY29uc3QgYXBwbHlCdWRnZXRNZXRhID0gKG1ldGEsIGlucHV0KSA9PiB7XG4gIGlmICghbWV0YSB8fCB0eXBlb2YgbWV0YSAhPT0gXCJvYmplY3RcIiB8fCAhaW5wdXQgfHwgdHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiKSByZXR1cm47XG4gIGlmIChpbnB1dC5idWRnZXRfYXBwbGllZCkge1xuICAgIG1ldGEuYnVkZ2V0X2FwcGxpZWQgPSBpbnB1dC5idWRnZXRfYXBwbGllZDtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dC5idWRnZXRfd2FybmluZ3MpICYmIGlucHV0LmJ1ZGdldF93YXJuaW5ncy5sZW5ndGgpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWV0YS53YXJuaW5ncykpIHtcbiAgICAgIG1ldGEud2FybmluZ3MgPSBbXTtcbiAgICB9XG4gICAgaW5wdXQuYnVkZ2V0X3dhcm5pbmdzLmZvckVhY2goKHdhcm5pbmcpID0+IHtcbiAgICAgIGlmICghbWV0YS53YXJuaW5ncy5pbmNsdWRlcyh3YXJuaW5nKSkgbWV0YS53YXJuaW5ncy5wdXNoKHdhcm5pbmcpO1xuICAgIH0pO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHsgYXBwbHlCdWRnZXQsIGFwcGx5QnVkZ2V0TWV0YSB9O1xuIl0sIm5hbWVzIjpbImlzRmluaXRlTnVtYmVyIiwidmFsdWUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImdldFBhdGgiLCJvYmoiLCJwYXRoIiwiQXJyYXkiLCJpc0FycmF5IiwidW5kZWZpbmVkIiwicmVkdWNlIiwiYWNjIiwia2V5Iiwic2V0UGF0aCIsImN1cnNvciIsImkiLCJsZW5ndGgiLCJjbGFtcFZhbHVlIiwiY3VycmVudCIsIm1heFZhbHVlIiwiTWF0aCIsInJvdW5kIiwibWluIiwiYXBwbHlCdWRnZXQiLCJpbnB1dCIsImJ1ZGdldCIsIm9wdGlvbnMiLCJhcHBsaWVkIiwid2FybmluZ3MiLCJTZXQiLCJidWRnZXRfYXBwbGllZCIsIm1heFdlYlJlcXVlc3RzUGF0aCIsIm1heEl0ZW1zUGF0aHMiLCJtYXhXb3Jkc1BhdGgiLCJtYXhfd2ViX3JlcXVlc3RzIiwiY2xhbXBlZCIsImFkZCIsIm1heF9pdGVtcyIsImZvckVhY2giLCJtYXhfd29yZHMiLCJPYmplY3QiLCJrZXlzIiwiZnJvbSIsImFwcGx5QnVkZ2V0TWV0YSIsIm1ldGEiLCJidWRnZXRfd2FybmluZ3MiLCJ3YXJuaW5nIiwiaW5jbHVkZXMiLCJwdXNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/budget.js\n");

/***/ }),

/***/ "(rsc)/./utils/handoff.js":
/*!**************************!*\
  !*** ./utils/handoff.js ***!
  \**************************/
/***/ ((module) => {

eval("\nconst HANDOFF_VERSION = \"1.0\";\nconst COMPAT_BY_TYPE = {\n    leads_table: [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    account_card: [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    hot_leads: [\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    messages_pack: [\n        \"boris-bdr-operator-ru\"\n    ],\n    bdr_queue: [],\n    board_review: [],\n    content_pack: []\n};\nconst RECOMMENDED_NEXT = {\n    \"platon-prospect-research-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    platon: [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"maxim-local-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"fedor-b2b-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"artem-hot-leads-ru\": [\n        \"anatoly-account-research-ru\",\n        \"leonid-outreach-dm-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"anatoly-account-research-ru\": [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"timofey-competitor-analysis-ru\": [\n        \"platon-prospect-research-ru\",\n        \"anatoly-account-research-ru\",\n        \"boris-bdr-operator-ru\"\n    ],\n    \"leonid-outreach-dm-ru\": [\n        \"boris-bdr-operator-ru\"\n    ],\n    \"emelyan-cold-email-ru\": [\n        \"boris-bdr-operator-ru\"\n    ],\n    \"boris-bdr-operator-ru\": [\n        \"leonid-outreach-dm-ru\",\n        \"emelyan-cold-email-ru\"\n    ],\n    \"pavel-reels-analysis-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"trofim-shorts-analogs-ru\"\n    ],\n    \"trofim-shorts-analogs-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"pavel-reels-analysis-ru\"\n    ],\n    \"irina-content-ideation-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"kostya-image-generation-ru\"\n    ],\n    \"hariton-viral-hooks-ru\": [\n        \"kostya-image-generation-ru\",\n        \"seva-content-repurposing-ru\"\n    ],\n    \"kostya-image-generation-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"irina-content-ideation-ru\"\n    ],\n    \"seva-content-repurposing-ru\": [\n        \"hariton-viral-hooks-ru\",\n        \"kostya-image-generation-ru\"\n    ],\n    \"mitya-workflow-diagram-ru\": [\n        \"kostya-image-generation-ru\",\n        \"irina-content-ideation-ru\"\n    ],\n    \"board-ceo-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-cto-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-cfo-ru\": [\n        \"board-chair-ru\"\n    ],\n    \"board-chair-ru\": []\n};\nconst normalizeLead = (lead)=>{\n    if (!lead || typeof lead !== \"object\") return null;\n    const leadName = lead.name || lead.company_name || lead.title || lead.name_placeholder || lead.lead_label || lead.link || lead.url || \"Lead\";\n    const contact = {\n        email: lead.email || (lead.public_contacts ? lead.public_contacts.email : undefined) || undefined,\n        phone: lead.phone || (lead.public_contacts ? lead.public_contacts.phone : undefined) || undefined,\n        website: lead.website || lead.domain || undefined,\n        url: lead.link || lead.url || lead.source_url || undefined\n    };\n    const source = lead.source || lead.channel || lead.source_type || \"\";\n    return {\n        lead_name: String(leadName),\n        dedupe_key: lead.dedupe_key || lead.dedupe_key_raw || \"\",\n        contact,\n        source,\n        proof_refs: lead.proof_refs || undefined\n    };\n};\nconst buildLeadsTableEntities = (data)=>{\n    const list = data && data.leads || data && data.company_candidates || data && data.hot_leads || [];\n    const leads = Array.isArray(list) ? list.map(normalizeLead).filter(Boolean) : [];\n    return {\n        leads\n    };\n};\nconst buildAccountCardEntities = (data)=>{\n    const card = data && data.account_card ? data.account_card : {};\n    const meta = data && data.meta ? data.meta : {};\n    return {\n        company_name: card.company_name || \"\",\n        discovered_channels: card.discovered_channels || {},\n        hooks: card.top_personalization_hooks || [],\n        pains: card.pain_hypotheses || [],\n        proof_items: Array.isArray(meta.proof_items) ? meta.proof_items : []\n    };\n};\nconst buildMessagesPackEntities = (data, channelOverride)=>{\n    if (data && data.dm_pack) {\n        return {\n            lead_label: data.dm_pack.lead_label || \"lead\",\n            channel: data.dm_pack.channel || channelOverride || \"dm\",\n            messages: data.dm_pack.messages || data.dm_pack.variants || []\n        };\n    }\n    if (data && data.email_sequences) {\n        return {\n            lead_label: \"lead\",\n            channel: channelOverride || \"email\",\n            email_sequences: data.email_sequences\n        };\n    }\n    return {\n        lead_label: \"lead\",\n        channel: channelOverride || \"\",\n        messages: []\n    };\n};\nconst buildContentPackEntities = (data)=>{\n    if (!data || typeof data !== \"object\") return {};\n    const entities = {\n        ...data\n    };\n    if (entities.meta) delete entities.meta;\n    return entities;\n};\nconst buildBoardReviewEntities = (data)=>{\n    const review = data && typeof data.review === \"object\" ? data.review : {};\n    return {\n        role: review.role || \"\",\n        decision: review.decision || review.stance || review.recommendation || review.feasibility || \"\",\n        summary: review.final_summary || review.verdict || review.unit_economics_view || \"\",\n        references: review.references || {}\n    };\n};\nconst buildHandoff = (agentId, data)=>{\n    const recommended_next_agents = RECOMMENDED_NEXT[agentId] || [\n        \"boris-bdr-operator-ru\"\n    ];\n    if (agentId === \"platon\" || agentId === \"platon-prospect-research-ru\" || agentId === \"maxim-local-leads-ru\" || agentId === \"fedor-b2b-leads-ru\") {\n        const type = \"leads_table\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildLeadsTableEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"artem-hot-leads-ru\") {\n        const type = \"hot_leads\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildLeadsTableEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"anatoly-account-research-ru\") {\n        const type = \"account_card\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildAccountCardEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"leonid-outreach-dm-ru\") {\n        const type = \"messages_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildMessagesPackEntities(data, \"dm\"),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"emelyan-cold-email-ru\") {\n        const type = \"messages_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildMessagesPackEntities(data, \"email\"),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"boris-bdr-operator-ru\") {\n        const type = \"bdr_queue\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: {\n                rows: Array.isArray(data.bdr_table) ? data.bdr_table : []\n            },\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"timofey-competitor-analysis-ru\") {\n        const type = \"content_pack\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: {\n                competitors: data.competitors || [],\n                comparison_table: data.comparison_table || [],\n                offers: data.offers || {},\n                win_angles: data.win_angles || [],\n                agentos_positioning: data.agentos_positioning || {}\n            },\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    if (agentId === \"board-ceo-ru\" || agentId === \"board-cto-ru\" || agentId === \"board-cfo-ru\" || agentId === \"board-chair-ru\") {\n        const type = \"board_review\";\n        return {\n            type,\n            version: HANDOFF_VERSION,\n            entities: buildBoardReviewEntities(data),\n            recommended_next_agents,\n            compat: COMPAT_BY_TYPE[type] || []\n        };\n    }\n    const type = \"content_pack\";\n    return {\n        type,\n        version: HANDOFF_VERSION,\n        entities: buildContentPackEntities(data),\n        recommended_next_agents,\n        compat: COMPAT_BY_TYPE[type] || []\n    };\n};\nconst getHandoffTypeForAgent = (agentId)=>{\n    if (agentId === \"platon\" || agentId === \"platon-prospect-research-ru\" || agentId === \"maxim-local-leads-ru\" || agentId === \"fedor-b2b-leads-ru\") {\n        return \"leads_table\";\n    }\n    if (agentId === \"artem-hot-leads-ru\") return \"hot_leads\";\n    if (agentId === \"anatoly-account-research-ru\") return \"account_card\";\n    if (agentId === \"leonid-outreach-dm-ru\") return \"messages_pack\";\n    if (agentId === \"emelyan-cold-email-ru\") return \"messages_pack\";\n    if (agentId === \"boris-bdr-operator-ru\") return \"bdr_queue\";\n    if (agentId === \"timofey-competitor-analysis-ru\") return \"content_pack\";\n    if (agentId === \"board-ceo-ru\" || agentId === \"board-cto-ru\" || agentId === \"board-cfo-ru\" || agentId === \"board-chair-ru\") {\n        return \"board_review\";\n    }\n    return \"content_pack\";\n};\nmodule.exports = {\n    buildHandoff,\n    HANDOFF_VERSION,\n    COMPAT_BY_TYPE,\n    getHandoffTypeForAgent\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9oYW5kb2ZmLmpzIiwibWFwcGluZ3MiOiI7QUFBQSxNQUFNQSxrQkFBa0I7QUFFeEIsTUFBTUMsaUJBQWlCO0lBQ3JCQyxhQUFhO1FBQ1g7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUNEQyxjQUFjO1FBQ1o7UUFDQTtRQUNBO0tBQ0Q7SUFDREMsV0FBVztRQUFDO1FBQXlCO0tBQXdCO0lBQzdEQyxlQUFlO1FBQUM7S0FBd0I7SUFDeENDLFdBQVcsRUFBRTtJQUNiQyxjQUFjLEVBQUU7SUFDaEJDLGNBQWMsRUFBRTtBQUNsQjtBQUVBLE1BQU1DLG1CQUFtQjtJQUN2QiwrQkFBK0I7UUFDN0I7UUFDQTtRQUNBO0tBQ0Q7SUFDREMsUUFBUTtRQUNOO1FBQ0E7UUFDQTtLQUNEO0lBQ0Qsd0JBQXdCO1FBQ3RCO1FBQ0E7UUFDQTtLQUNEO0lBQ0Qsc0JBQXNCO1FBQ3BCO1FBQ0E7UUFDQTtLQUNEO0lBQ0Qsc0JBQXNCO1FBQ3BCO1FBQ0E7UUFDQTtLQUNEO0lBQ0QsK0JBQStCO1FBQzdCO1FBQ0E7UUFDQTtLQUNEO0lBQ0Qsa0NBQWtDO1FBQ2hDO1FBQ0E7UUFDQTtLQUNEO0lBQ0QseUJBQXlCO1FBQUM7S0FBd0I7SUFDbEQseUJBQXlCO1FBQUM7S0FBd0I7SUFDbEQseUJBQXlCO1FBQUM7UUFBeUI7S0FBd0I7SUFDM0UsMkJBQTJCO1FBQUM7UUFBMEI7S0FBMkI7SUFDakYsNEJBQTRCO1FBQUM7UUFBMEI7S0FBMEI7SUFDakYsNkJBQTZCO1FBQUM7UUFBMEI7S0FBNkI7SUFDckYsMEJBQTBCO1FBQUM7UUFBOEI7S0FBOEI7SUFDdkYsOEJBQThCO1FBQUM7UUFBMEI7S0FBNEI7SUFDckYsK0JBQStCO1FBQUM7UUFBMEI7S0FBNkI7SUFDdkYsNkJBQTZCO1FBQUM7UUFBOEI7S0FBNEI7SUFDeEYsZ0JBQWdCO1FBQUM7S0FBaUI7SUFDbEMsZ0JBQWdCO1FBQUM7S0FBaUI7SUFDbEMsZ0JBQWdCO1FBQUM7S0FBaUI7SUFDbEMsa0JBQWtCLEVBQUU7QUFDdEI7QUFFQSxNQUFNQyxnQkFBZ0IsQ0FBQ0M7SUFDckIsSUFBSSxDQUFDQSxRQUFRLE9BQU9BLFNBQVMsVUFBVSxPQUFPO0lBQzlDLE1BQU1DLFdBQ0pELEtBQUtFLElBQUksSUFDVEYsS0FBS0csWUFBWSxJQUNqQkgsS0FBS0ksS0FBSyxJQUNWSixLQUFLSyxnQkFBZ0IsSUFDckJMLEtBQUtNLFVBQVUsSUFDZk4sS0FBS08sSUFBSSxJQUNUUCxLQUFLUSxHQUFHLElBQ1I7SUFDRixNQUFNQyxVQUFVO1FBQ2RDLE9BQU9WLEtBQUtVLEtBQUssSUFBS1YsQ0FBQUEsS0FBS1csZUFBZSxHQUFHWCxLQUFLVyxlQUFlLENBQUNELEtBQUssR0FBR0UsU0FBUSxLQUFNQTtRQUN4RkMsT0FBT2IsS0FBS2EsS0FBSyxJQUFLYixDQUFBQSxLQUFLVyxlQUFlLEdBQUdYLEtBQUtXLGVBQWUsQ0FBQ0UsS0FBSyxHQUFHRCxTQUFRLEtBQU1BO1FBQ3hGRSxTQUFTZCxLQUFLYyxPQUFPLElBQUlkLEtBQUtlLE1BQU0sSUFBSUg7UUFDeENKLEtBQUtSLEtBQUtPLElBQUksSUFBSVAsS0FBS1EsR0FBRyxJQUFJUixLQUFLZ0IsVUFBVSxJQUFJSjtJQUNuRDtJQUNBLE1BQU1LLFNBQVNqQixLQUFLaUIsTUFBTSxJQUFJakIsS0FBS2tCLE9BQU8sSUFBSWxCLEtBQUttQixXQUFXLElBQUk7SUFDbEUsT0FBTztRQUNMQyxXQUFXQyxPQUFPcEI7UUFDbEJxQixZQUFZdEIsS0FBS3NCLFVBQVUsSUFBSXRCLEtBQUt1QixjQUFjLElBQUk7UUFDdERkO1FBQ0FRO1FBQ0FPLFlBQVl4QixLQUFLd0IsVUFBVSxJQUFJWjtJQUNqQztBQUNGO0FBRUEsTUFBTWEsMEJBQTBCLENBQUNDO0lBQy9CLE1BQU1DLE9BQ0osUUFBU0QsS0FBS0UsS0FBSyxJQUNsQkYsUUFBUUEsS0FBS0csa0JBQWtCLElBQy9CSCxRQUFRQSxLQUFLbEMsU0FBUyxJQUN2QixFQUFFO0lBQ0osTUFBTW9DLFFBQVFFLE1BQU1DLE9BQU8sQ0FBQ0osUUFBUUEsS0FBS0ssR0FBRyxDQUFDakMsZUFBZWtDLE1BQU0sQ0FBQ0MsV0FBVyxFQUFFO0lBQ2hGLE9BQU87UUFBRU47SUFBTTtBQUNqQjtBQUVBLE1BQU1PLDJCQUEyQixDQUFDVDtJQUNoQyxNQUFNVSxPQUFPVixRQUFRQSxLQUFLbkMsWUFBWSxHQUFHbUMsS0FBS25DLFlBQVksR0FBRyxDQUFDO0lBQzlELE1BQU04QyxPQUFPWCxRQUFRQSxLQUFLVyxJQUFJLEdBQUdYLEtBQUtXLElBQUksR0FBRyxDQUFDO0lBQzlDLE9BQU87UUFDTGxDLGNBQWNpQyxLQUFLakMsWUFBWSxJQUFJO1FBQ25DbUMscUJBQXFCRixLQUFLRSxtQkFBbUIsSUFBSSxDQUFDO1FBQ2xEQyxPQUFPSCxLQUFLSSx5QkFBeUIsSUFBSSxFQUFFO1FBQzNDQyxPQUFPTCxLQUFLTSxlQUFlLElBQUksRUFBRTtRQUNqQ0MsYUFBYWIsTUFBTUMsT0FBTyxDQUFDTSxLQUFLTSxXQUFXLElBQUlOLEtBQUtNLFdBQVcsR0FBRyxFQUFFO0lBQ3RFO0FBQ0Y7QUFFQSxNQUFNQyw0QkFBNEIsQ0FBQ2xCLE1BQU1tQjtJQUN2QyxJQUFJbkIsUUFBUUEsS0FBS29CLE9BQU8sRUFBRTtRQUN4QixPQUFPO1lBQ0x4QyxZQUFZb0IsS0FBS29CLE9BQU8sQ0FBQ3hDLFVBQVUsSUFBSTtZQUN2Q1ksU0FBU1EsS0FBS29CLE9BQU8sQ0FBQzVCLE9BQU8sSUFBSTJCLG1CQUFtQjtZQUNwREUsVUFBVXJCLEtBQUtvQixPQUFPLENBQUNDLFFBQVEsSUFBSXJCLEtBQUtvQixPQUFPLENBQUNFLFFBQVEsSUFBSSxFQUFFO1FBQ2hFO0lBQ0Y7SUFDQSxJQUFJdEIsUUFBUUEsS0FBS3VCLGVBQWUsRUFBRTtRQUNoQyxPQUFPO1lBQ0wzQyxZQUFZO1lBQ1pZLFNBQVMyQixtQkFBbUI7WUFDNUJJLGlCQUFpQnZCLEtBQUt1QixlQUFlO1FBQ3ZDO0lBQ0Y7SUFDQSxPQUFPO1FBQUUzQyxZQUFZO1FBQVFZLFNBQVMyQixtQkFBbUI7UUFBSUUsVUFBVSxFQUFFO0lBQUM7QUFDNUU7QUFFQSxNQUFNRywyQkFBMkIsQ0FBQ3hCO0lBQ2hDLElBQUksQ0FBQ0EsUUFBUSxPQUFPQSxTQUFTLFVBQVUsT0FBTyxDQUFDO0lBQy9DLE1BQU15QixXQUFXO1FBQUUsR0FBR3pCLElBQUk7SUFBQztJQUMzQixJQUFJeUIsU0FBU2QsSUFBSSxFQUFFLE9BQU9jLFNBQVNkLElBQUk7SUFDdkMsT0FBT2M7QUFDVDtBQUVBLE1BQU1DLDJCQUEyQixDQUFDMUI7SUFDaEMsTUFBTTJCLFNBQVMzQixRQUFRLE9BQU9BLEtBQUsyQixNQUFNLEtBQUssV0FBVzNCLEtBQUsyQixNQUFNLEdBQUcsQ0FBQztJQUN4RSxPQUFPO1FBQ0xDLE1BQU1ELE9BQU9DLElBQUksSUFBSTtRQUNyQkMsVUFDRUYsT0FBT0UsUUFBUSxJQUNmRixPQUFPRyxNQUFNLElBQ2JILE9BQU9JLGNBQWMsSUFDckJKLE9BQU9LLFdBQVcsSUFDbEI7UUFDRkMsU0FDRU4sT0FBT08sYUFBYSxJQUNwQlAsT0FBT1EsT0FBTyxJQUNkUixPQUFPUyxtQkFBbUIsSUFDMUI7UUFDRkMsWUFBWVYsT0FBT1UsVUFBVSxJQUFJLENBQUM7SUFDcEM7QUFDRjtBQUVBLE1BQU1DLGVBQWUsQ0FBQ0MsU0FBU3ZDO0lBQzdCLE1BQU13QywwQkFBMEJyRSxnQkFBZ0IsQ0FBQ29FLFFBQVEsSUFBSTtRQUFDO0tBQXdCO0lBRXRGLElBQ0VBLFlBQVksWUFDWkEsWUFBWSxpQ0FDWkEsWUFBWSwwQkFDWkEsWUFBWSxzQkFDWjtRQUNBLE1BQU1FLE9BQU87UUFDYixPQUFPO1lBQ0xBO1lBQ0FDLFNBQVNoRjtZQUNUK0QsVUFBVTFCLHdCQUF3QkM7WUFDbEN3QztZQUNBRyxRQUFRaEYsY0FBYyxDQUFDOEUsS0FBSyxJQUFJLEVBQUU7UUFDcEM7SUFDRjtJQUVBLElBQUlGLFlBQVksc0JBQXNCO1FBQ3BDLE1BQU1FLE9BQU87UUFDYixPQUFPO1lBQ0xBO1lBQ0FDLFNBQVNoRjtZQUNUK0QsVUFBVTFCLHdCQUF3QkM7WUFDbEN3QztZQUNBRyxRQUFRaEYsY0FBYyxDQUFDOEUsS0FBSyxJQUFJLEVBQUU7UUFDcEM7SUFDRjtJQUVBLElBQUlGLFlBQVksK0JBQStCO1FBQzdDLE1BQU1FLE9BQU87UUFDYixPQUFPO1lBQ0xBO1lBQ0FDLFNBQVNoRjtZQUNUK0QsVUFBVWhCLHlCQUF5QlQ7WUFDbkN3QztZQUNBRyxRQUFRaEYsY0FBYyxDQUFDOEUsS0FBSyxJQUFJLEVBQUU7UUFDcEM7SUFDRjtJQUVBLElBQUlGLFlBQVkseUJBQXlCO1FBQ3ZDLE1BQU1FLE9BQU87UUFDYixPQUFPO1lBQ0xBO1lBQ0FDLFNBQVNoRjtZQUNUK0QsVUFBVVAsMEJBQTBCbEIsTUFBTTtZQUMxQ3dDO1lBQ0FHLFFBQVFoRixjQUFjLENBQUM4RSxLQUFLLElBQUksRUFBRTtRQUNwQztJQUNGO0lBRUEsSUFBSUYsWUFBWSx5QkFBeUI7UUFDdkMsTUFBTUUsT0FBTztRQUNiLE9BQU87WUFDTEE7WUFDQUMsU0FBU2hGO1lBQ1QrRCxVQUFVUCwwQkFBMEJsQixNQUFNO1lBQzFDd0M7WUFDQUcsUUFBUWhGLGNBQWMsQ0FBQzhFLEtBQUssSUFBSSxFQUFFO1FBQ3BDO0lBQ0Y7SUFFQSxJQUFJRixZQUFZLHlCQUF5QjtRQUN2QyxNQUFNRSxPQUFPO1FBQ2IsT0FBTztZQUNMQTtZQUNBQyxTQUFTaEY7WUFDVCtELFVBQVU7Z0JBQUVtQixNQUFNeEMsTUFBTUMsT0FBTyxDQUFDTCxLQUFLNkMsU0FBUyxJQUFJN0MsS0FBSzZDLFNBQVMsR0FBRyxFQUFFO1lBQUM7WUFDdEVMO1lBQ0FHLFFBQVFoRixjQUFjLENBQUM4RSxLQUFLLElBQUksRUFBRTtRQUNwQztJQUNGO0lBRUEsSUFBSUYsWUFBWSxrQ0FBa0M7UUFDaEQsTUFBTUUsT0FBTztRQUNiLE9BQU87WUFDTEE7WUFDQUMsU0FBU2hGO1lBQ1QrRCxVQUFVO2dCQUNScUIsYUFBYTlDLEtBQUs4QyxXQUFXLElBQUksRUFBRTtnQkFDbkNDLGtCQUFrQi9DLEtBQUsrQyxnQkFBZ0IsSUFBSSxFQUFFO2dCQUM3Q0MsUUFBUWhELEtBQUtnRCxNQUFNLElBQUksQ0FBQztnQkFDeEJDLFlBQVlqRCxLQUFLaUQsVUFBVSxJQUFJLEVBQUU7Z0JBQ2pDQyxxQkFBcUJsRCxLQUFLa0QsbUJBQW1CLElBQUksQ0FBQztZQUNwRDtZQUNBVjtZQUNBRyxRQUFRaEYsY0FBYyxDQUFDOEUsS0FBSyxJQUFJLEVBQUU7UUFDcEM7SUFDRjtJQUVBLElBQ0VGLFlBQVksa0JBQ1pBLFlBQVksa0JBQ1pBLFlBQVksa0JBQ1pBLFlBQVksa0JBQ1o7UUFDQSxNQUFNRSxPQUFPO1FBQ2IsT0FBTztZQUNMQTtZQUNBQyxTQUFTaEY7WUFDVCtELFVBQVVDLHlCQUF5QjFCO1lBQ25Dd0M7WUFDQUcsUUFBUWhGLGNBQWMsQ0FBQzhFLEtBQUssSUFBSSxFQUFFO1FBQ3BDO0lBQ0Y7SUFFQSxNQUFNQSxPQUFPO0lBQ2IsT0FBTztRQUNMQTtRQUNBQyxTQUFTaEY7UUFDVCtELFVBQVVELHlCQUF5QnhCO1FBQ25Dd0M7UUFDQUcsUUFBUWhGLGNBQWMsQ0FBQzhFLEtBQUssSUFBSSxFQUFFO0lBQ3BDO0FBQ0Y7QUFFQSxNQUFNVSx5QkFBeUIsQ0FBQ1o7SUFDOUIsSUFDRUEsWUFBWSxZQUNaQSxZQUFZLGlDQUNaQSxZQUFZLDBCQUNaQSxZQUFZLHNCQUNaO1FBQ0EsT0FBTztJQUNUO0lBQ0EsSUFBSUEsWUFBWSxzQkFBc0IsT0FBTztJQUM3QyxJQUFJQSxZQUFZLCtCQUErQixPQUFPO0lBQ3RELElBQUlBLFlBQVkseUJBQXlCLE9BQU87SUFDaEQsSUFBSUEsWUFBWSx5QkFBeUIsT0FBTztJQUNoRCxJQUFJQSxZQUFZLHlCQUF5QixPQUFPO0lBQ2hELElBQUlBLFlBQVksa0NBQWtDLE9BQU87SUFDekQsSUFDRUEsWUFBWSxrQkFDWkEsWUFBWSxrQkFDWkEsWUFBWSxrQkFDWkEsWUFBWSxrQkFDWjtRQUNBLE9BQU87SUFDVDtJQUNBLE9BQU87QUFDVDtBQUVBYSxPQUFPQyxPQUFPLEdBQUc7SUFBRWY7SUFBYzVFO0lBQWlCQztJQUFnQndGO0FBQXVCIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvaGFuZG9mZi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBIQU5ET0ZGX1ZFUlNJT04gPSBcIjEuMFwiO1xuXG5jb25zdCBDT01QQVRfQllfVFlQRSA9IHtcbiAgbGVhZHNfdGFibGU6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIGFjY291bnRfY2FyZDogW1xuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIGhvdF9sZWFkczogW1wibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJdLFxuICBtZXNzYWdlc19wYWNrOiBbXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIl0sXG4gIGJkcl9xdWV1ZTogW10sXG4gIGJvYXJkX3JldmlldzogW10sXG4gIGNvbnRlbnRfcGFjazogW11cbn07XG5cbmNvbnN0IFJFQ09NTUVOREVEX05FWFQgPSB7XG4gIFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCI6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBwbGF0b246IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCI6IFtcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwibGVvbmlkLW91dHJlYWNoLWRtLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcImZlZG9yLWIyYi1sZWFkcy1ydVwiOiBbXG4gICAgXCJhbmF0b2x5LWFjY291bnQtcmVzZWFyY2gtcnVcIixcbiAgICBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiLFxuICAgIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJcbiAgXSxcbiAgXCJhcnRlbS1ob3QtbGVhZHMtcnVcIjogW1xuICAgIFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIsXG4gICAgXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIixcbiAgICBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXG4gIF0sXG4gIFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCI6IFtcbiAgICBcImxlb25pZC1vdXRyZWFjaC1kbS1ydVwiLFxuICAgIFwiZW1lbHlhbi1jb2xkLWVtYWlsLXJ1XCIsXG4gICAgXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIlxuICBdLFxuICBcInRpbW9mZXktY29tcGV0aXRvci1hbmFseXNpcy1ydVwiOiBbXG4gICAgXCJwbGF0b24tcHJvc3BlY3QtcmVzZWFyY2gtcnVcIixcbiAgICBcImFuYXRvbHktYWNjb3VudC1yZXNlYXJjaC1ydVwiLFxuICAgIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJcbiAgXSxcbiAgXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIjogW1wiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCJdLFxuICBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiOiBbXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIl0sXG4gIFwiYm9yaXMtYmRyLW9wZXJhdG9yLXJ1XCI6IFtcImxlb25pZC1vdXRyZWFjaC1kbS1ydVwiLCBcImVtZWx5YW4tY29sZC1lbWFpbC1ydVwiXSxcbiAgXCJwYXZlbC1yZWVscy1hbmFseXNpcy1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwidHJvZmltLXNob3J0cy1hbmFsb2dzLXJ1XCJdLFxuICBcInRyb2ZpbS1zaG9ydHMtYW5hbG9ncy1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwicGF2ZWwtcmVlbHMtYW5hbHlzaXMtcnVcIl0sXG4gIFwiaXJpbmEtY29udGVudC1pZGVhdGlvbi1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwia29zdHlhLWltYWdlLWdlbmVyYXRpb24tcnVcIl0sXG4gIFwiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiOiBbXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiLCBcInNldmEtY29udGVudC1yZXB1cnBvc2luZy1ydVwiXSxcbiAgXCJrb3N0eWEtaW1hZ2UtZ2VuZXJhdGlvbi1ydVwiOiBbXCJoYXJpdG9uLXZpcmFsLWhvb2tzLXJ1XCIsIFwiaXJpbmEtY29udGVudC1pZGVhdGlvbi1ydVwiXSxcbiAgXCJzZXZhLWNvbnRlbnQtcmVwdXJwb3NpbmctcnVcIjogW1wiaGFyaXRvbi12aXJhbC1ob29rcy1ydVwiLCBcImtvc3R5YS1pbWFnZS1nZW5lcmF0aW9uLXJ1XCJdLFxuICBcIm1pdHlhLXdvcmtmbG93LWRpYWdyYW0tcnVcIjogW1wia29zdHlhLWltYWdlLWdlbmVyYXRpb24tcnVcIiwgXCJpcmluYS1jb250ZW50LWlkZWF0aW9uLXJ1XCJdLFxuICBcImJvYXJkLWNlby1ydVwiOiBbXCJib2FyZC1jaGFpci1ydVwiXSxcbiAgXCJib2FyZC1jdG8tcnVcIjogW1wiYm9hcmQtY2hhaXItcnVcIl0sXG4gIFwiYm9hcmQtY2ZvLXJ1XCI6IFtcImJvYXJkLWNoYWlyLXJ1XCJdLFxuICBcImJvYXJkLWNoYWlyLXJ1XCI6IFtdXG59O1xuXG5jb25zdCBub3JtYWxpemVMZWFkID0gKGxlYWQpID0+IHtcbiAgaWYgKCFsZWFkIHx8IHR5cGVvZiBsZWFkICE9PSBcIm9iamVjdFwiKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgbGVhZE5hbWUgPVxuICAgIGxlYWQubmFtZSB8fFxuICAgIGxlYWQuY29tcGFueV9uYW1lIHx8XG4gICAgbGVhZC50aXRsZSB8fFxuICAgIGxlYWQubmFtZV9wbGFjZWhvbGRlciB8fFxuICAgIGxlYWQubGVhZF9sYWJlbCB8fFxuICAgIGxlYWQubGluayB8fFxuICAgIGxlYWQudXJsIHx8XG4gICAgXCJMZWFkXCI7XG4gIGNvbnN0IGNvbnRhY3QgPSB7XG4gICAgZW1haWw6IGxlYWQuZW1haWwgfHwgKGxlYWQucHVibGljX2NvbnRhY3RzID8gbGVhZC5wdWJsaWNfY29udGFjdHMuZW1haWwgOiB1bmRlZmluZWQpIHx8IHVuZGVmaW5lZCxcbiAgICBwaG9uZTogbGVhZC5waG9uZSB8fCAobGVhZC5wdWJsaWNfY29udGFjdHMgPyBsZWFkLnB1YmxpY19jb250YWN0cy5waG9uZSA6IHVuZGVmaW5lZCkgfHwgdW5kZWZpbmVkLFxuICAgIHdlYnNpdGU6IGxlYWQud2Vic2l0ZSB8fCBsZWFkLmRvbWFpbiB8fCB1bmRlZmluZWQsXG4gICAgdXJsOiBsZWFkLmxpbmsgfHwgbGVhZC51cmwgfHwgbGVhZC5zb3VyY2VfdXJsIHx8IHVuZGVmaW5lZFxuICB9O1xuICBjb25zdCBzb3VyY2UgPSBsZWFkLnNvdXJjZSB8fCBsZWFkLmNoYW5uZWwgfHwgbGVhZC5zb3VyY2VfdHlwZSB8fCBcIlwiO1xuICByZXR1cm4ge1xuICAgIGxlYWRfbmFtZTogU3RyaW5nKGxlYWROYW1lKSxcbiAgICBkZWR1cGVfa2V5OiBsZWFkLmRlZHVwZV9rZXkgfHwgbGVhZC5kZWR1cGVfa2V5X3JhdyB8fCBcIlwiLFxuICAgIGNvbnRhY3QsXG4gICAgc291cmNlLFxuICAgIHByb29mX3JlZnM6IGxlYWQucHJvb2ZfcmVmcyB8fCB1bmRlZmluZWRcbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkTGVhZHNUYWJsZUVudGl0aWVzID0gKGRhdGEpID0+IHtcbiAgY29uc3QgbGlzdCA9XG4gICAgKGRhdGEgJiYgZGF0YS5sZWFkcykgfHxcbiAgICAoZGF0YSAmJiBkYXRhLmNvbXBhbnlfY2FuZGlkYXRlcykgfHxcbiAgICAoZGF0YSAmJiBkYXRhLmhvdF9sZWFkcykgfHxcbiAgICBbXTtcbiAgY29uc3QgbGVhZHMgPSBBcnJheS5pc0FycmF5KGxpc3QpID8gbGlzdC5tYXAobm9ybWFsaXplTGVhZCkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gIHJldHVybiB7IGxlYWRzIH07XG59O1xuXG5jb25zdCBidWlsZEFjY291bnRDYXJkRW50aXRpZXMgPSAoZGF0YSkgPT4ge1xuICBjb25zdCBjYXJkID0gZGF0YSAmJiBkYXRhLmFjY291bnRfY2FyZCA/IGRhdGEuYWNjb3VudF9jYXJkIDoge307XG4gIGNvbnN0IG1ldGEgPSBkYXRhICYmIGRhdGEubWV0YSA/IGRhdGEubWV0YSA6IHt9O1xuICByZXR1cm4ge1xuICAgIGNvbXBhbnlfbmFtZTogY2FyZC5jb21wYW55X25hbWUgfHwgXCJcIixcbiAgICBkaXNjb3ZlcmVkX2NoYW5uZWxzOiBjYXJkLmRpc2NvdmVyZWRfY2hhbm5lbHMgfHwge30sXG4gICAgaG9va3M6IGNhcmQudG9wX3BlcnNvbmFsaXphdGlvbl9ob29rcyB8fCBbXSxcbiAgICBwYWluczogY2FyZC5wYWluX2h5cG90aGVzZXMgfHwgW10sXG4gICAgcHJvb2ZfaXRlbXM6IEFycmF5LmlzQXJyYXkobWV0YS5wcm9vZl9pdGVtcykgPyBtZXRhLnByb29mX2l0ZW1zIDogW11cbiAgfTtcbn07XG5cbmNvbnN0IGJ1aWxkTWVzc2FnZXNQYWNrRW50aXRpZXMgPSAoZGF0YSwgY2hhbm5lbE92ZXJyaWRlKSA9PiB7XG4gIGlmIChkYXRhICYmIGRhdGEuZG1fcGFjaykge1xuICAgIHJldHVybiB7XG4gICAgICBsZWFkX2xhYmVsOiBkYXRhLmRtX3BhY2subGVhZF9sYWJlbCB8fCBcImxlYWRcIixcbiAgICAgIGNoYW5uZWw6IGRhdGEuZG1fcGFjay5jaGFubmVsIHx8IGNoYW5uZWxPdmVycmlkZSB8fCBcImRtXCIsXG4gICAgICBtZXNzYWdlczogZGF0YS5kbV9wYWNrLm1lc3NhZ2VzIHx8IGRhdGEuZG1fcGFjay52YXJpYW50cyB8fCBbXVxuICAgIH07XG4gIH1cbiAgaWYgKGRhdGEgJiYgZGF0YS5lbWFpbF9zZXF1ZW5jZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVhZF9sYWJlbDogXCJsZWFkXCIsXG4gICAgICBjaGFubmVsOiBjaGFubmVsT3ZlcnJpZGUgfHwgXCJlbWFpbFwiLFxuICAgICAgZW1haWxfc2VxdWVuY2VzOiBkYXRhLmVtYWlsX3NlcXVlbmNlc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgbGVhZF9sYWJlbDogXCJsZWFkXCIsIGNoYW5uZWw6IGNoYW5uZWxPdmVycmlkZSB8fCBcIlwiLCBtZXNzYWdlczogW10gfTtcbn07XG5cbmNvbnN0IGJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyA9IChkYXRhKSA9PiB7XG4gIGlmICghZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHt9O1xuICBjb25zdCBlbnRpdGllcyA9IHsgLi4uZGF0YSB9O1xuICBpZiAoZW50aXRpZXMubWV0YSkgZGVsZXRlIGVudGl0aWVzLm1ldGE7XG4gIHJldHVybiBlbnRpdGllcztcbn07XG5cbmNvbnN0IGJ1aWxkQm9hcmRSZXZpZXdFbnRpdGllcyA9IChkYXRhKSA9PiB7XG4gIGNvbnN0IHJldmlldyA9IGRhdGEgJiYgdHlwZW9mIGRhdGEucmV2aWV3ID09PSBcIm9iamVjdFwiID8gZGF0YS5yZXZpZXcgOiB7fTtcbiAgcmV0dXJuIHtcbiAgICByb2xlOiByZXZpZXcucm9sZSB8fCBcIlwiLFxuICAgIGRlY2lzaW9uOlxuICAgICAgcmV2aWV3LmRlY2lzaW9uIHx8XG4gICAgICByZXZpZXcuc3RhbmNlIHx8XG4gICAgICByZXZpZXcucmVjb21tZW5kYXRpb24gfHxcbiAgICAgIHJldmlldy5mZWFzaWJpbGl0eSB8fFxuICAgICAgXCJcIixcbiAgICBzdW1tYXJ5OlxuICAgICAgcmV2aWV3LmZpbmFsX3N1bW1hcnkgfHxcbiAgICAgIHJldmlldy52ZXJkaWN0IHx8XG4gICAgICByZXZpZXcudW5pdF9lY29ub21pY3NfdmlldyB8fFxuICAgICAgXCJcIixcbiAgICByZWZlcmVuY2VzOiByZXZpZXcucmVmZXJlbmNlcyB8fCB7fVxuICB9O1xufTtcblxuY29uc3QgYnVpbGRIYW5kb2ZmID0gKGFnZW50SWQsIGRhdGEpID0+IHtcbiAgY29uc3QgcmVjb21tZW5kZWRfbmV4dF9hZ2VudHMgPSBSRUNPTU1FTkRFRF9ORVhUW2FnZW50SWRdIHx8IFtcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiXTtcblxuICBpZiAoXG4gICAgYWdlbnRJZCA9PT0gXCJwbGF0b25cIiB8fFxuICAgIGFnZW50SWQgPT09IFwicGxhdG9uLXByb3NwZWN0LXJlc2VhcmNoLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcIm1heGltLWxvY2FsLWxlYWRzLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImZlZG9yLWIyYi1sZWFkcy1ydVwiXG4gICkge1xuICAgIGNvbnN0IHR5cGUgPSBcImxlYWRzX3RhYmxlXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogYnVpbGRMZWFkc1RhYmxlRW50aXRpZXMoZGF0YSksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKGFnZW50SWQgPT09IFwiYXJ0ZW0taG90LWxlYWRzLXJ1XCIpIHtcbiAgICBjb25zdCB0eXBlID0gXCJob3RfbGVhZHNcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZExlYWRzVGFibGVFbnRpdGllcyhkYXRhKSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJhbmF0b2x5LWFjY291bnQtcmVzZWFyY2gtcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcImFjY291bnRfY2FyZFwiO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlLFxuICAgICAgdmVyc2lvbjogSEFORE9GRl9WRVJTSU9OLFxuICAgICAgZW50aXRpZXM6IGJ1aWxkQWNjb3VudENhcmRFbnRpdGllcyhkYXRhKSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcIm1lc3NhZ2VzX3BhY2tcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZE1lc3NhZ2VzUGFja0VudGl0aWVzKGRhdGEsIFwiZG1cIiksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKGFnZW50SWQgPT09IFwiZW1lbHlhbi1jb2xkLWVtYWlsLXJ1XCIpIHtcbiAgICBjb25zdCB0eXBlID0gXCJtZXNzYWdlc19wYWNrXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogYnVpbGRNZXNzYWdlc1BhY2tFbnRpdGllcyhkYXRhLCBcImVtYWlsXCIpLFxuICAgICAgcmVjb21tZW5kZWRfbmV4dF9hZ2VudHMsXG4gICAgICBjb21wYXQ6IENPTVBBVF9CWV9UWVBFW3R5cGVdIHx8IFtdXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhZ2VudElkID09PSBcImJvcmlzLWJkci1vcGVyYXRvci1ydVwiKSB7XG4gICAgY29uc3QgdHlwZSA9IFwiYmRyX3F1ZXVlXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGUsXG4gICAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgICBlbnRpdGllczogeyByb3dzOiBBcnJheS5pc0FycmF5KGRhdGEuYmRyX3RhYmxlKSA/IGRhdGEuYmRyX3RhYmxlIDogW10gfSxcbiAgICAgIHJlY29tbWVuZGVkX25leHRfYWdlbnRzLFxuICAgICAgY29tcGF0OiBDT01QQVRfQllfVFlQRVt0eXBlXSB8fCBbXVxuICAgIH07XG4gIH1cblxuICBpZiAoYWdlbnRJZCA9PT0gXCJ0aW1vZmV5LWNvbXBldGl0b3ItYW5hbHlzaXMtcnVcIikge1xuICAgIGNvbnN0IHR5cGUgPSBcImNvbnRlbnRfcGFja1wiO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlLFxuICAgICAgdmVyc2lvbjogSEFORE9GRl9WRVJTSU9OLFxuICAgICAgZW50aXRpZXM6IHtcbiAgICAgICAgY29tcGV0aXRvcnM6IGRhdGEuY29tcGV0aXRvcnMgfHwgW10sXG4gICAgICAgIGNvbXBhcmlzb25fdGFibGU6IGRhdGEuY29tcGFyaXNvbl90YWJsZSB8fCBbXSxcbiAgICAgICAgb2ZmZXJzOiBkYXRhLm9mZmVycyB8fCB7fSxcbiAgICAgICAgd2luX2FuZ2xlczogZGF0YS53aW5fYW5nbGVzIHx8IFtdLFxuICAgICAgICBhZ2VudG9zX3Bvc2l0aW9uaW5nOiBkYXRhLmFnZW50b3NfcG9zaXRpb25pbmcgfHwge31cbiAgICAgIH0sXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2VvLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImJvYXJkLWN0by1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJib2FyZC1jZm8tcnVcIiB8fFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2hhaXItcnVcIlxuICApIHtcbiAgICBjb25zdCB0eXBlID0gXCJib2FyZF9yZXZpZXdcIjtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZSxcbiAgICAgIHZlcnNpb246IEhBTkRPRkZfVkVSU0lPTixcbiAgICAgIGVudGl0aWVzOiBidWlsZEJvYXJkUmV2aWV3RW50aXRpZXMoZGF0YSksXG4gICAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICAgIGNvbXBhdDogQ09NUEFUX0JZX1RZUEVbdHlwZV0gfHwgW11cbiAgICB9O1xuICB9XG5cbiAgY29uc3QgdHlwZSA9IFwiY29udGVudF9wYWNrXCI7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICB2ZXJzaW9uOiBIQU5ET0ZGX1ZFUlNJT04sXG4gICAgZW50aXRpZXM6IGJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyhkYXRhKSxcbiAgICByZWNvbW1lbmRlZF9uZXh0X2FnZW50cyxcbiAgICBjb21wYXQ6IENPTVBBVF9CWV9UWVBFW3R5cGVdIHx8IFtdXG4gIH07XG59O1xuXG5jb25zdCBnZXRIYW5kb2ZmVHlwZUZvckFnZW50ID0gKGFnZW50SWQpID0+IHtcbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwicGxhdG9uXCIgfHxcbiAgICBhZ2VudElkID09PSBcInBsYXRvbi1wcm9zcGVjdC1yZXNlYXJjaC1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJtYXhpbS1sb2NhbC1sZWFkcy1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJmZWRvci1iMmItbGVhZHMtcnVcIlxuICApIHtcbiAgICByZXR1cm4gXCJsZWFkc190YWJsZVwiO1xuICB9XG4gIGlmIChhZ2VudElkID09PSBcImFydGVtLWhvdC1sZWFkcy1ydVwiKSByZXR1cm4gXCJob3RfbGVhZHNcIjtcbiAgaWYgKGFnZW50SWQgPT09IFwiYW5hdG9seS1hY2NvdW50LXJlc2VhcmNoLXJ1XCIpIHJldHVybiBcImFjY291bnRfY2FyZFwiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJsZW9uaWQtb3V0cmVhY2gtZG0tcnVcIikgcmV0dXJuIFwibWVzc2FnZXNfcGFja1wiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJlbWVseWFuLWNvbGQtZW1haWwtcnVcIikgcmV0dXJuIFwibWVzc2FnZXNfcGFja1wiO1xuICBpZiAoYWdlbnRJZCA9PT0gXCJib3Jpcy1iZHItb3BlcmF0b3ItcnVcIikgcmV0dXJuIFwiYmRyX3F1ZXVlXCI7XG4gIGlmIChhZ2VudElkID09PSBcInRpbW9mZXktY29tcGV0aXRvci1hbmFseXNpcy1ydVwiKSByZXR1cm4gXCJjb250ZW50X3BhY2tcIjtcbiAgaWYgKFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2VvLXJ1XCIgfHxcbiAgICBhZ2VudElkID09PSBcImJvYXJkLWN0by1ydVwiIHx8XG4gICAgYWdlbnRJZCA9PT0gXCJib2FyZC1jZm8tcnVcIiB8fFxuICAgIGFnZW50SWQgPT09IFwiYm9hcmQtY2hhaXItcnVcIlxuICApIHtcbiAgICByZXR1cm4gXCJib2FyZF9yZXZpZXdcIjtcbiAgfVxuICByZXR1cm4gXCJjb250ZW50X3BhY2tcIjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBidWlsZEhhbmRvZmYsIEhBTkRPRkZfVkVSU0lPTiwgQ09NUEFUX0JZX1RZUEUsIGdldEhhbmRvZmZUeXBlRm9yQWdlbnQgfTtcbiJdLCJuYW1lcyI6WyJIQU5ET0ZGX1ZFUlNJT04iLCJDT01QQVRfQllfVFlQRSIsImxlYWRzX3RhYmxlIiwiYWNjb3VudF9jYXJkIiwiaG90X2xlYWRzIiwibWVzc2FnZXNfcGFjayIsImJkcl9xdWV1ZSIsImJvYXJkX3JldmlldyIsImNvbnRlbnRfcGFjayIsIlJFQ09NTUVOREVEX05FWFQiLCJwbGF0b24iLCJub3JtYWxpemVMZWFkIiwibGVhZCIsImxlYWROYW1lIiwibmFtZSIsImNvbXBhbnlfbmFtZSIsInRpdGxlIiwibmFtZV9wbGFjZWhvbGRlciIsImxlYWRfbGFiZWwiLCJsaW5rIiwidXJsIiwiY29udGFjdCIsImVtYWlsIiwicHVibGljX2NvbnRhY3RzIiwidW5kZWZpbmVkIiwicGhvbmUiLCJ3ZWJzaXRlIiwiZG9tYWluIiwic291cmNlX3VybCIsInNvdXJjZSIsImNoYW5uZWwiLCJzb3VyY2VfdHlwZSIsImxlYWRfbmFtZSIsIlN0cmluZyIsImRlZHVwZV9rZXkiLCJkZWR1cGVfa2V5X3JhdyIsInByb29mX3JlZnMiLCJidWlsZExlYWRzVGFibGVFbnRpdGllcyIsImRhdGEiLCJsaXN0IiwibGVhZHMiLCJjb21wYW55X2NhbmRpZGF0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJmaWx0ZXIiLCJCb29sZWFuIiwiYnVpbGRBY2NvdW50Q2FyZEVudGl0aWVzIiwiY2FyZCIsIm1ldGEiLCJkaXNjb3ZlcmVkX2NoYW5uZWxzIiwiaG9va3MiLCJ0b3BfcGVyc29uYWxpemF0aW9uX2hvb2tzIiwicGFpbnMiLCJwYWluX2h5cG90aGVzZXMiLCJwcm9vZl9pdGVtcyIsImJ1aWxkTWVzc2FnZXNQYWNrRW50aXRpZXMiLCJjaGFubmVsT3ZlcnJpZGUiLCJkbV9wYWNrIiwibWVzc2FnZXMiLCJ2YXJpYW50cyIsImVtYWlsX3NlcXVlbmNlcyIsImJ1aWxkQ29udGVudFBhY2tFbnRpdGllcyIsImVudGl0aWVzIiwiYnVpbGRCb2FyZFJldmlld0VudGl0aWVzIiwicmV2aWV3Iiwicm9sZSIsImRlY2lzaW9uIiwic3RhbmNlIiwicmVjb21tZW5kYXRpb24iLCJmZWFzaWJpbGl0eSIsInN1bW1hcnkiLCJmaW5hbF9zdW1tYXJ5IiwidmVyZGljdCIsInVuaXRfZWNvbm9taWNzX3ZpZXciLCJyZWZlcmVuY2VzIiwiYnVpbGRIYW5kb2ZmIiwiYWdlbnRJZCIsInJlY29tbWVuZGVkX25leHRfYWdlbnRzIiwidHlwZSIsInZlcnNpb24iLCJjb21wYXQiLCJyb3dzIiwiYmRyX3RhYmxlIiwiY29tcGV0aXRvcnMiLCJjb21wYXJpc29uX3RhYmxlIiwib2ZmZXJzIiwid2luX2FuZ2xlcyIsImFnZW50b3NfcG9zaXRpb25pbmciLCJnZXRIYW5kb2ZmVHlwZUZvckFnZW50IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/handoff.js\n");

/***/ }),

/***/ "(rsc)/./utils/normalize.js":
/*!****************************!*\
  !*** ./utils/normalize.js ***!
  \****************************/
/***/ ((module) => {

eval("\nconst normalizeEmail = (email)=>{\n    if (!email || typeof email !== \"string\") return \"\";\n    const cleaned = email.trim().toLowerCase();\n    if (!cleaned.includes(\"@\")) return \"\";\n    return cleaned;\n};\nconst pushPhoneWarning = (options, raw, code)=>{\n    if (!options || !Array.isArray(options.warnings)) return;\n    options.warnings.push({\n        code,\n        raw\n    });\n};\nconst resolvePhoneFallback = (options, raw, code)=>{\n    pushPhoneWarning(options, raw, code);\n    return options && options.returnNullOnFailure ? null : \"\";\n};\nconst normalizePhone = (phone, options = {})=>{\n    if (!phone || typeof phone !== \"string\") {\n        return resolvePhoneFallback(options, phone, \"phone_missing\");\n    }\n    const raw = phone.trim();\n    if (!raw) {\n        return resolvePhoneFallback(options, phone, \"phone_missing\");\n    }\n    const digits = raw.replace(/\\D/g, \"\");\n    if (!digits) {\n        return resolvePhoneFallback(options, raw, \"phone_no_digits\");\n    }\n    if (digits.length === 11 && (digits.startsWith(\"8\") || digits.startsWith(\"7\"))) {\n        return `+7${digits.slice(1)}`;\n    }\n    if (digits.length === 10) {\n        return `+7${digits}`;\n    }\n    return resolvePhoneFallback(options, raw, \"phone_ru_unrecognized\");\n};\nconst PATH_DEDUPE_DOMAINS = [\n    \"wildberries.ru\",\n    \"ozon.ru\",\n    \"vk.com\",\n    \"t.me\",\n    \"telegram.me\"\n];\nconst extractDomainFromUrl = (url)=>{\n    if (!url || typeof url !== \"string\") return \"\";\n    try {\n        const parsed = new URL(url);\n        const host = parsed.hostname.replace(/^www\\./, \"\").toLowerCase();\n        if (PATH_DEDUPE_DOMAINS.some((domain)=>host.endsWith(domain))) {\n            const parts = parsed.pathname.split(\"/\").filter(Boolean);\n            const path = parts.length ? `/${parts[0]}` : \"\";\n            return `${host}${path}`.toLowerCase();\n        }\n        return host;\n    } catch  {\n        const cleaned = url.toLowerCase().replace(/^www\\./, \"\");\n        if (cleaned.includes(\"/\")) {\n            const [host, first] = cleaned.split(\"/\");\n            if (PATH_DEDUPE_DOMAINS.some((domain)=>host.endsWith(domain)) && first) {\n                return `${host}/${first}`.toLowerCase();\n            }\n            return host;\n        }\n        return cleaned;\n    }\n};\nconst normalizeName = (value)=>{\n    if (!value || typeof value !== \"string\") return \"\";\n    return value.toLowerCase().replace(/ооо|ип|ao|zao|pao|llc|ltd|inc/gi, \"\").replace(/[\"'«»]/g, \"\").replace(/[^a-z0-9а-я]+/gi, \"_\").replace(/_+/g, \"_\").replace(/^_+|_+$/g, \"\").trim();\n};\nconst makeDedupeKey = (fields = {}, options = {})=>{\n    const prefix = options.prefix !== false;\n    const inn = fields.inn ? String(fields.inn).replace(/\\D/g, \"\") : \"\";\n    const domain = fields.domain ? String(fields.domain).toLowerCase() : \"\";\n    const phoneRaw = fields.phone ? String(fields.phone) : \"\";\n    const phoneDigits = phoneRaw.replace(/\\D/g, \"\");\n    const name = normalizeName(fields.name || \"\");\n    const city = normalizeName(fields.city || \"\");\n    if (inn) return prefix ? `inn:${inn}` : inn;\n    if (domain) return prefix ? `domain:${domain}` : domain;\n    if (phoneDigits) return prefix ? `phone:${phoneDigits}` : phoneDigits;\n    const nameCity = `${name}${city ? `_${city}` : \"\"}` || \"unknown\";\n    return prefix ? `name:${nameCity}` : nameCity;\n};\nmodule.exports = {\n    normalizeEmail,\n    normalizePhone,\n    extractDomainFromUrl,\n    makeDedupeKey\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUVBLE1BQU0sR0FBRyxJQUFJLElBQUk7SUFDdkQsT0FBT04sU0FBUyxDQUFDLEtBQUssRUFBRU8sVUFBVSxHQUFHQTtBQUN2QztBQUVBQyxPQUFPQyxPQUFPLEdBQUc7SUFDZnJEO0lBQ0FnQjtJQUNBUTtJQUNBa0I7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2FidXphZGEvRGVza3RvcC9hZ2VudE9TL3V0aWxzL25vcm1hbGl6ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBub3JtYWxpemVFbWFpbCA9IChlbWFpbCkgPT4ge1xuICBpZiAoIWVtYWlsIHx8IHR5cGVvZiBlbWFpbCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIFwiXCI7XG4gIGNvbnN0IGNsZWFuZWQgPSBlbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgaWYgKCFjbGVhbmVkLmluY2x1ZGVzKFwiQFwiKSkgcmV0dXJuIFwiXCI7XG4gIHJldHVybiBjbGVhbmVkO1xufTtcblxuY29uc3QgcHVzaFBob25lV2FybmluZyA9IChvcHRpb25zLCByYXcsIGNvZGUpID0+IHtcbiAgaWYgKCFvcHRpb25zIHx8ICFBcnJheS5pc0FycmF5KG9wdGlvbnMud2FybmluZ3MpKSByZXR1cm47XG4gIG9wdGlvbnMud2FybmluZ3MucHVzaCh7IGNvZGUsIHJhdyB9KTtcbn07XG5cbmNvbnN0IHJlc29sdmVQaG9uZUZhbGxiYWNrID0gKG9wdGlvbnMsIHJhdywgY29kZSkgPT4ge1xuICBwdXNoUGhvbmVXYXJuaW5nKG9wdGlvbnMsIHJhdywgY29kZSk7XG4gIHJldHVybiBvcHRpb25zICYmIG9wdGlvbnMucmV0dXJuTnVsbE9uRmFpbHVyZSA/IG51bGwgOiBcIlwiO1xufTtcblxuY29uc3Qgbm9ybWFsaXplUGhvbmUgPSAocGhvbmUsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBpZiAoIXBob25lIHx8IHR5cGVvZiBwaG9uZSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiByZXNvbHZlUGhvbmVGYWxsYmFjayhvcHRpb25zLCBwaG9uZSwgXCJwaG9uZV9taXNzaW5nXCIpO1xuICB9XG5cbiAgY29uc3QgcmF3ID0gcGhvbmUudHJpbSgpO1xuICBpZiAoIXJhdykge1xuICAgIHJldHVybiByZXNvbHZlUGhvbmVGYWxsYmFjayhvcHRpb25zLCBwaG9uZSwgXCJwaG9uZV9taXNzaW5nXCIpO1xuICB9XG5cbiAgY29uc3QgZGlnaXRzID0gcmF3LnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgaWYgKCFkaWdpdHMpIHtcbiAgICByZXR1cm4gcmVzb2x2ZVBob25lRmFsbGJhY2sob3B0aW9ucywgcmF3LCBcInBob25lX25vX2RpZ2l0c1wiKTtcbiAgfVxuXG4gIGlmIChkaWdpdHMubGVuZ3RoID09PSAxMSAmJiAoZGlnaXRzLnN0YXJ0c1dpdGgoXCI4XCIpIHx8IGRpZ2l0cy5zdGFydHNXaXRoKFwiN1wiKSkpIHtcbiAgICByZXR1cm4gYCs3JHtkaWdpdHMuc2xpY2UoMSl9YDtcbiAgfVxuXG4gIGlmIChkaWdpdHMubGVuZ3RoID09PSAxMCkge1xuICAgIHJldHVybiBgKzcke2RpZ2l0c31gO1xuICB9XG5cbiAgcmV0dXJuIHJlc29sdmVQaG9uZUZhbGxiYWNrKG9wdGlvbnMsIHJhdywgXCJwaG9uZV9ydV91bnJlY29nbml6ZWRcIik7XG59O1xuXG5jb25zdCBQQVRIX0RFRFVQRV9ET01BSU5TID0gW1wid2lsZGJlcnJpZXMucnVcIiwgXCJvem9uLnJ1XCIsIFwidmsuY29tXCIsIFwidC5tZVwiLCBcInRlbGVncmFtLm1lXCJdO1xuXG5jb25zdCBleHRyYWN0RG9tYWluRnJvbVVybCA9ICh1cmwpID0+IHtcbiAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIFwiXCI7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gbmV3IFVSTCh1cmwpO1xuICAgIGNvbnN0IGhvc3QgPSBwYXJzZWQuaG9zdG5hbWUucmVwbGFjZSgvXnd3d1xcLi8sIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKFBBVEhfREVEVVBFX0RPTUFJTlMuc29tZSgoZG9tYWluKSA9PiBob3N0LmVuZHNXaXRoKGRvbWFpbikpKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IHBhcnNlZC5wYXRobmFtZS5zcGxpdChcIi9cIikuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgY29uc3QgcGF0aCA9IHBhcnRzLmxlbmd0aCA/IGAvJHtwYXJ0c1swXX1gIDogXCJcIjtcbiAgICAgIHJldHVybiBgJHtob3N0fSR7cGF0aH1gLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIHJldHVybiBob3N0O1xuICB9IGNhdGNoIHtcbiAgICBjb25zdCBjbGVhbmVkID0gdXJsLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXnd3d1xcLi8sIFwiXCIpO1xuICAgIGlmIChjbGVhbmVkLmluY2x1ZGVzKFwiL1wiKSkge1xuICAgICAgY29uc3QgW2hvc3QsIGZpcnN0XSA9IGNsZWFuZWQuc3BsaXQoXCIvXCIpO1xuICAgICAgaWYgKFBBVEhfREVEVVBFX0RPTUFJTlMuc29tZSgoZG9tYWluKSA9PiBob3N0LmVuZHNXaXRoKGRvbWFpbikpICYmIGZpcnN0KSB7XG4gICAgICAgIHJldHVybiBgJHtob3N0fS8ke2ZpcnN0fWAudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBob3N0O1xuICAgIH1cbiAgICByZXR1cm4gY2xlYW5lZDtcbiAgfVxufTtcblxuY29uc3Qgbm9ybWFsaXplTmFtZSA9ICh2YWx1ZSkgPT4ge1xuICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIFwiXCI7XG4gIHJldHVybiB2YWx1ZVxuICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgLnJlcGxhY2UoL9C+0L7QvnzQuNC/fGFvfHphb3xwYW98bGxjfGx0ZHxpbmMvZ2ksIFwiXCIpXG4gICAgLnJlcGxhY2UoL1tcIifCq8K7XS9nLCBcIlwiKVxuICAgIC5yZXBsYWNlKC9bXmEtejAtOdCwLdGPXSsvZ2ksIFwiX1wiKVxuICAgIC5yZXBsYWNlKC9fKy9nLCBcIl9cIilcbiAgICAucmVwbGFjZSgvXl8rfF8rJC9nLCBcIlwiKVxuICAgIC50cmltKCk7XG59O1xuXG5jb25zdCBtYWtlRGVkdXBlS2V5ID0gKGZpZWxkcyA9IHt9LCBvcHRpb25zID0ge30pID0+IHtcbiAgY29uc3QgcHJlZml4ID0gb3B0aW9ucy5wcmVmaXggIT09IGZhbHNlO1xuICBjb25zdCBpbm4gPSBmaWVsZHMuaW5uID8gU3RyaW5nKGZpZWxkcy5pbm4pLnJlcGxhY2UoL1xcRC9nLCBcIlwiKSA6IFwiXCI7XG4gIGNvbnN0IGRvbWFpbiA9IGZpZWxkcy5kb21haW4gPyBTdHJpbmcoZmllbGRzLmRvbWFpbikudG9Mb3dlckNhc2UoKSA6IFwiXCI7XG4gIGNvbnN0IHBob25lUmF3ID0gZmllbGRzLnBob25lID8gU3RyaW5nKGZpZWxkcy5waG9uZSkgOiBcIlwiO1xuICBjb25zdCBwaG9uZURpZ2l0cyA9IHBob25lUmF3LnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcbiAgY29uc3QgbmFtZSA9IG5vcm1hbGl6ZU5hbWUoZmllbGRzLm5hbWUgfHwgXCJcIik7XG4gIGNvbnN0IGNpdHkgPSBub3JtYWxpemVOYW1lKGZpZWxkcy5jaXR5IHx8IFwiXCIpO1xuXG4gIGlmIChpbm4pIHJldHVybiBwcmVmaXggPyBgaW5uOiR7aW5ufWAgOiBpbm47XG4gIGlmIChkb21haW4pIHJldHVybiBwcmVmaXggPyBgZG9tYWluOiR7ZG9tYWlufWAgOiBkb21haW47XG4gIGlmIChwaG9uZURpZ2l0cykgcmV0dXJuIHByZWZpeCA/IGBwaG9uZToke3Bob25lRGlnaXRzfWAgOiBwaG9uZURpZ2l0cztcblxuICBjb25zdCBuYW1lQ2l0eSA9IGAke25hbWV9JHtjaXR5ID8gYF8ke2NpdHl9YCA6IFwiXCJ9YCB8fCBcInVua25vd25cIjtcbiAgcmV0dXJuIHByZWZpeCA/IGBuYW1lOiR7bmFtZUNpdHl9YCA6IG5hbWVDaXR5O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG5vcm1hbGl6ZUVtYWlsLFxuICBub3JtYWxpemVQaG9uZSxcbiAgZXh0cmFjdERvbWFpbkZyb21VcmwsXG4gIG1ha2VEZWR1cGVLZXlcbn07XG4iXSwibmFtZXMiOlsibm9ybWFsaXplRW1haWwiLCJlbWFpbCIsImNsZWFuZWQiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInB1c2hQaG9uZVdhcm5pbmciLCJvcHRpb25zIiwicmF3IiwiY29kZSIsIkFycmF5IiwiaXNBcnJheSIsIndhcm5pbmdzIiwicHVzaCIsInJlc29sdmVQaG9uZUZhbGxiYWNrIiwicmV0dXJuTnVsbE9uRmFpbHVyZSIsIm5vcm1hbGl6ZVBob25lIiwicGhvbmUiLCJkaWdpdHMiLCJyZXBsYWNlIiwibGVuZ3RoIiwic3RhcnRzV2l0aCIsInNsaWNlIiwiUEFUSF9ERURVUEVfRE9NQUlOUyIsImV4dHJhY3REb21haW5Gcm9tVXJsIiwidXJsIiwicGFyc2VkIiwiVVJMIiwiaG9zdCIsImhvc3RuYW1lIiwic29tZSIsImRvbWFpbiIsImVuZHNXaXRoIiwicGFydHMiLCJwYXRobmFtZSIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsInBhdGgiLCJmaXJzdCIsIm5vcm1hbGl6ZU5hbWUiLCJ2YWx1ZSIsIm1ha2VEZWR1cGVLZXkiLCJmaWVsZHMiLCJwcmVmaXgiLCJpbm4iLCJTdHJpbmciLCJwaG9uZVJhdyIsInBob25lRGlnaXRzIiwibmFtZSIsImNpdHkiLCJuYW1lQ2l0eSIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/normalize.js\n");

/***/ }),

/***/ "(rsc)/./utils/sanitizeSnippet.js":
/*!**********************************!*\
  !*** ./utils/sanitizeSnippet.js ***!
  \**********************************/
/***/ ((module) => {

eval("\nconst sanitizeSnippet = (text, max = 160)=>{\n    if (!text) return \"\";\n    const clean = String(text).replace(/<[^>]+>/g, \" \").replace(/[\\r\\n\\t]+/g, \" \").replace(/\\s+/g, \" \").trim();\n    if (clean.length <= max) return clean;\n    return clean.slice(0, max).trim();\n};\nmodule.exports = {\n    sanitizeSnippet\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9zYW5pdGl6ZVNuaXBwZXQuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLGtCQUFrQixDQUFDQyxNQUFNQyxNQUFNLEdBQUc7SUFDdEMsSUFBSSxDQUFDRCxNQUFNLE9BQU87SUFDbEIsTUFBTUUsUUFBUUMsT0FBT0gsTUFDbEJJLE9BQU8sQ0FBQyxZQUFZLEtBQ3BCQSxPQUFPLENBQUMsY0FBYyxLQUN0QkEsT0FBTyxDQUFDLFFBQVEsS0FDaEJDLElBQUk7SUFDUCxJQUFJSCxNQUFNSSxNQUFNLElBQUlMLEtBQUssT0FBT0M7SUFDaEMsT0FBT0EsTUFBTUssS0FBSyxDQUFDLEdBQUdOLEtBQUtJLElBQUk7QUFDakM7QUFFQUcsT0FBT0MsT0FBTyxHQUFHO0lBQUVWO0FBQWdCIiwic291cmNlcyI6WyIvVXNlcnMvYWJ1emFkYS9EZXNrdG9wL2FnZW50T1MvdXRpbHMvc2FuaXRpemVTbmlwcGV0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNhbml0aXplU25pcHBldCA9ICh0ZXh0LCBtYXggPSAxNjApID0+IHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gXCJcIjtcbiAgY29uc3QgY2xlYW4gPSBTdHJpbmcodGV4dClcbiAgICAucmVwbGFjZSgvPFtePl0rPi9nLCBcIiBcIilcbiAgICAucmVwbGFjZSgvW1xcclxcblxcdF0rL2csIFwiIFwiKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKVxuICAgIC50cmltKCk7XG4gIGlmIChjbGVhbi5sZW5ndGggPD0gbWF4KSByZXR1cm4gY2xlYW47XG4gIHJldHVybiBjbGVhbi5zbGljZSgwLCBtYXgpLnRyaW0oKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBzYW5pdGl6ZVNuaXBwZXQgfTtcbiJdLCJuYW1lcyI6WyJzYW5pdGl6ZVNuaXBwZXQiLCJ0ZXh0IiwibWF4IiwiY2xlYW4iLCJTdHJpbmciLCJyZXBsYWNlIiwidHJpbSIsImxlbmd0aCIsInNsaWNlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./utils/sanitizeSnippet.js\n");

/***/ }),

/***/ "(rsc)/./utils/validateAgentResponse.js":
/*!****************************************!*\
  !*** ./utils/validateAgentResponse.js ***!
  \****************************************/
/***/ ((module) => {

eval("\nconst isObject = (value)=>typeof value === \"object\" && value !== null && !Array.isArray(value);\nconst isType = (value, type)=>{\n    if (type === \"array\") return Array.isArray(value);\n    if (type === \"object\") return isObject(value);\n    if (type === \"string\") return typeof value === \"string\";\n    if (type === \"number\") return typeof value === \"number\" && Number.isFinite(value);\n    if (type === \"boolean\") return typeof value === \"boolean\";\n    return value !== undefined;\n};\nconst validateAgentResponse = (data, schema)=>{\n    const errors = [];\n    if (!isObject(data)) {\n        return {\n            ok: false,\n            errors: [\n                \"data must be an object\"\n            ]\n        };\n    }\n    if (!schema || !schema.required) return {\n        ok: true,\n        errors\n    };\n    const required = schema.required || {};\n    Object.entries(required).forEach(([key, type])=>{\n        if (!(key in data)) {\n            errors.push(`missing key: ${key}`);\n            return;\n        }\n        if (type && !isType(data[key], type)) {\n            errors.push(`invalid type for ${key}: expected ${type}`);\n        }\n    });\n    return {\n        ok: errors.length === 0,\n        errors\n    };\n};\nmodule.exports = {\n    validateAgentResponse\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy92YWxpZGF0ZUFnZW50UmVzcG9uc2UuanMiLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU1BLFdBQVcsQ0FBQ0MsUUFBVSxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsUUFBUSxDQUFDQyxNQUFNQyxPQUFPLENBQUNGO0FBRTFGLE1BQU1HLFNBQVMsQ0FBQ0gsT0FBT0k7SUFDckIsSUFBSUEsU0FBUyxTQUFTLE9BQU9ILE1BQU1DLE9BQU8sQ0FBQ0Y7SUFDM0MsSUFBSUksU0FBUyxVQUFVLE9BQU9MLFNBQVNDO0lBQ3ZDLElBQUlJLFNBQVMsVUFBVSxPQUFPLE9BQU9KLFVBQVU7SUFDL0MsSUFBSUksU0FBUyxVQUFVLE9BQU8sT0FBT0osVUFBVSxZQUFZSyxPQUFPQyxRQUFRLENBQUNOO0lBQzNFLElBQUlJLFNBQVMsV0FBVyxPQUFPLE9BQU9KLFVBQVU7SUFDaEQsT0FBT0EsVUFBVU87QUFDbkI7QUFFQSxNQUFNQyx3QkFBd0IsQ0FBQ0MsTUFBTUM7SUFDbkMsTUFBTUMsU0FBUyxFQUFFO0lBQ2pCLElBQUksQ0FBQ1osU0FBU1UsT0FBTztRQUNuQixPQUFPO1lBQUVHLElBQUk7WUFBT0QsUUFBUTtnQkFBQzthQUF5QjtRQUFDO0lBQ3pEO0lBQ0EsSUFBSSxDQUFDRCxVQUFVLENBQUNBLE9BQU9HLFFBQVEsRUFBRSxPQUFPO1FBQUVELElBQUk7UUFBTUQ7SUFBTztJQUMzRCxNQUFNRSxXQUFXSCxPQUFPRyxRQUFRLElBQUksQ0FBQztJQUNyQ0MsT0FBT0MsT0FBTyxDQUFDRixVQUFVRyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLYixLQUFLO1FBQzNDLElBQUksQ0FBRWEsQ0FBQUEsT0FBT1IsSUFBRyxHQUFJO1lBQ2xCRSxPQUFPTyxJQUFJLENBQUMsQ0FBQyxhQUFhLEVBQUVELEtBQUs7WUFDakM7UUFDRjtRQUNBLElBQUliLFFBQVEsQ0FBQ0QsT0FBT00sSUFBSSxDQUFDUSxJQUFJLEVBQUViLE9BQU87WUFDcENPLE9BQU9PLElBQUksQ0FBQyxDQUFDLGlCQUFpQixFQUFFRCxJQUFJLFdBQVcsRUFBRWIsTUFBTTtRQUN6RDtJQUNGO0lBQ0EsT0FBTztRQUFFUSxJQUFJRCxPQUFPUSxNQUFNLEtBQUs7UUFBR1I7SUFBTztBQUMzQztBQUVBUyxPQUFPQyxPQUFPLEdBQUc7SUFBRWI7QUFBc0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYnV6YWRhL0Rlc2t0b3AvYWdlbnRPUy91dGlscy92YWxpZGF0ZUFnZW50UmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaXNPYmplY3QgPSAodmFsdWUpID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG5cbmNvbnN0IGlzVHlwZSA9ICh2YWx1ZSwgdHlwZSkgPT4ge1xuICBpZiAodHlwZSA9PT0gXCJhcnJheVwiKSByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIGlmICh0eXBlID09PSBcIm9iamVjdFwiKSByZXR1cm4gaXNPYmplY3QodmFsdWUpO1xuICBpZiAodHlwZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcbiAgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlKTtcbiAgaWYgKHR5cGUgPT09IFwiYm9vbGVhblwiKSByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcbiAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCB2YWxpZGF0ZUFnZW50UmVzcG9uc2UgPSAoZGF0YSwgc2NoZW1hKSA9PiB7XG4gIGNvbnN0IGVycm9ycyA9IFtdO1xuICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgcmV0dXJuIHsgb2s6IGZhbHNlLCBlcnJvcnM6IFtcImRhdGEgbXVzdCBiZSBhbiBvYmplY3RcIl0gfTtcbiAgfVxuICBpZiAoIXNjaGVtYSB8fCAhc2NoZW1hLnJlcXVpcmVkKSByZXR1cm4geyBvazogdHJ1ZSwgZXJyb3JzIH07XG4gIGNvbnN0IHJlcXVpcmVkID0gc2NoZW1hLnJlcXVpcmVkIHx8IHt9O1xuICBPYmplY3QuZW50cmllcyhyZXF1aXJlZCkuZm9yRWFjaCgoW2tleSwgdHlwZV0pID0+IHtcbiAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKGBtaXNzaW5nIGtleTogJHtrZXl9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlICYmICFpc1R5cGUoZGF0YVtrZXldLCB0eXBlKSkge1xuICAgICAgZXJyb3JzLnB1c2goYGludmFsaWQgdHlwZSBmb3IgJHtrZXl9OiBleHBlY3RlZCAke3R5cGV9YCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgb2s6IGVycm9ycy5sZW5ndGggPT09IDAsIGVycm9ycyB9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IHZhbGlkYXRlQWdlbnRSZXNwb25zZSB9O1xuIl0sIm5hbWVzIjpbImlzT2JqZWN0IiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJpc1R5cGUiLCJ0eXBlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJ1bmRlZmluZWQiLCJ2YWxpZGF0ZUFnZW50UmVzcG9uc2UiLCJkYXRhIiwic2NoZW1hIiwiZXJyb3JzIiwib2siLCJyZXF1aXJlZCIsIk9iamVjdCIsImVudHJpZXMiLCJmb3JFYWNoIiwia2V5IiwicHVzaCIsImxlbmd0aCIsIm1vZHVsZSIsImV4cG9ydHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/validateAgentResponse.js\n");

/***/ })

};
;